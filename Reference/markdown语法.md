Markdown 两三事
Posted on 2010/11/28
一点基本信息

首先，什么是 markdown？了解的第一步似乎是查找 WIKI~~不过 wiki 很长，让人没有耐心读下去，那么，直接寻找项目主页一窥究竟…… 好吧，还不如直接看 wiki，那么，接下来本文将简明扼要地介绍一下什么是 markdown，并且，力推一下它非常让人倾心的几个特点。


值得注意的是，本文 并不会 罗列 markdown 的所有语法（甚至是主要的语法），因为楼主推崇 mkd（markdown 的简称）主要源于它的几个优美的特性，因此本文的重点也是这些特性。

这里是 mkd 的一个语法大全。作者对语法的介绍富有条理且细致入微，赞。

好吧，背景分析和本质剖析

markdown 本质上是一个……一个 markup language，使用预定义的标记来标识 语义性 的文本。这意味着，mkd 代码和 html 代码其实是一路的。

和 html 比起来，markdown 的语法集很轻。

mkd 和 wiki 语法差不多，它们都是为了让具备语义的文本更容易 使人阅读 。只是各个不同的 wiki 之间语法会有一定的差异，而 mkd 有效地借鉴了这些 wiki 语法，本身也提供一些优雅的特性，我相信 mkd 将成为事实上的标准。

mkd 的官方 parser 基于 perl，不过网络上有众多其他语言版本的实现。

基本语法一瞥

使用一个或多个空行来生成段落 <p>。

标题（h1~h6）格式为使用相应个数的“#”作前缀，比如以下代码表示 h3：

## this is a level-3 header ##
这种被称作 ats-style。

使用“>”作为段落前缀来标识引用文字段落。这其实是 email 中标记引用文字的标准方式。

使用“*”“+”“-”来表示无序列表；使用数字加“.”表示有序列表。如：

1.  I am ordered list item 1...
2.  So I should be item 2!?
使用 4 个以上 空格或 1 个以上 的 tab 来标记代码段落，它们将被 <pre> 和 <code> 包裹，这意味着代码段内的字体会是 monospace 家族的，并且特殊符号不会被转义。

使用 [test](http://example.net "optional title") 来标记普通链接。

使用 ![img](http://example.net/img.png "optional title") 来标记图片。

引号内的 title 文字是可选的，链接也可以使用相对路径。

使用 * 或 _ 包裹文本产生 strong 效果：

_语气很重的文本_ 以及 **语气更重的文本**
我青睐的特性

普通换行并不产生新的段落或 <br>，但是产生空格。

其实这个和 html 对 line break 的处理方式是一致的。为了使文本良好地展示在视野内， 我们会选择手动地将文字折行，但是并不意味着这两行在逻辑上不是一个整体。

也可以插入真正的手动换行符 <br>，如果要问 <br> 在什么时候有用，下面是一个例子：

我
其实
是一首
诗……

楼上
这一段
说得漂亮！

支持 setext-style 的 header 定义：

定义 h1：

THIS IS THE MAIN TITLE
======================
定义 h2：

This is the subtitle
--------------------
更低级别的 header 就无法使用这种方式定义了，因此对于博客文章来说有点遗憾 ——文章内的章节标题一般从 h3 起标。

在 blockquote（“>”标记的段落） 之内可以嵌套使用其他标签，甚至可以再嵌套 blockquote——

上古神书《商古》写道：
>   今有一鼎，镌以奇文：
>   >   吾乃鼎，非杯具也。
支持引用式的链接格式。这一点使得文内的链接得到了极大的格式改善，举例来说， 对于本文开始的一段文字，相应的 mkd 代码是：

了解的第一步似乎是查找 [WIKI][markdown]~~不过 wiki
很长，让人没有耐心读下去，那么，直接寻找
[项目主页][markdown_home]一窥究竟……

[markdown]: http://en.wikipedia.org/wiki/Markdown       "wiki_markdown"
[markdown_home]:http://daringfireball.net/projects/markdown/    "markdown 主页"
这样，在描述文本中不会出现 url 链接这种读者不关心的信息，从而不影响读者的阅读。

支持快捷链接。一般来说，我们如果要显示一段 url 文本，最好也希望这个 url 本身能够点击。比如 http://pushiming.com

如果使用 html，则要写作

<a href="http://pushiming.com">http://pushiming.com</a>
包含了冗余信息且可读性很差，而在 mkd 中，只要写

<http://pushiming.com>
就 OK 了，非常方便。

对于邮箱如 pushiming@gmail.com 同样的尖括号包裹语法也会翻译之，更重要的是 它会以字符实体的形式被转义，生成类似 &#1234; 的代码。这样可以有效防止 spam 爬虫的骚扰。

应用 markdown

mkd 的应用场景一般是撰写博客文章，对于使用 wordpress 的朋友来说，有一个 插件 提供了这样的功能。安装之后我们可以在编辑器的 html 源码编辑界面输入 mkd 代码，发表文章后将会自动生成相应的 html。

其实，我们完全可以将 mkd 的语法风格融入到日常之中。这样做的好处是异常明显的：

增强文字的可读性。只是略微地插入一点标记代码，就能让文本焕发活力。
培养文字表达方式的一致性。它是 html 的变异子集，而 html 是网络标记语言的标准。
加强行文的逻辑性。我们会自然地加入各个级别的段落标题、引用、列表， 而这些都是帮助我们组织文章的利器。
当我们需要将 mkd 文本转换为真正的具有格式的 html 时，也很简单。正如楼主前面所说， markdown 有多个语言的实现版本，在 linux 下，可以直接采用原始的 perl 版本，而在 windows 下，可以使用 java 版本的 MarkdownJ，或者其他。

另外，我也想推荐这个 js 实现的版本，由于是 online 的，不存在兼容性的问题， 而且更加易于使用。