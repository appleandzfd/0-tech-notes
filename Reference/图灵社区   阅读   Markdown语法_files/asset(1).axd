/*! jQuery v1.7.1 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};
f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);
var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;
(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:"0"<=b&&b<="7"?parseInt(a.substring(1),8):b==="u"||b==="x"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if(a==="\\"||a==="-"||a==="["||a==="]")a="\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),a=
[],b=[],o=f[0]==="^",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&"-"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=["["];o&&b.push("^");b.push.apply(b,a);for(c=0;c<
f.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push("-"),b.push(e(i[1])));b.push("]");return b.join("")}function y(a){for(var f=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j==="("?++i:"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j==="("?(++i,d[i]===void 0&&(f[c]="(?:")):"\\"===j.charAt(0)&&
(j=+j.substring(1))&&j<=i&&(f[c]="\\"+d[i]);for(i=c=0;c<b;++c)"^"===f[c]&&"^"!==f[c+1]&&(f[c]="");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a==="["?f[c]=h(j):a!=="\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return f.join("")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0;l=!1;break}}for(var r=
{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(""+g);n.push("(?:"+y(g)+")")}return RegExp(n.join("|"),l?"gi":"g")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if("BR"===g||"LI"===g)h[s]="\n",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\r\n?/g,"\n"):g.replace(/[\t\n\r ]+/g," "),h[s]=g,t[s<<1]=y,y+=g.length,
t[s++<<1|1]=a)}}var e=/(?:^|\s)nocode(?:\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);m(a);return{a:h.join("").replace(/\n$/,""),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,"pln"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===
"string")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b="pln")}if((c=b.length>=5&&"lang-"===b.substring(0,5))&&!(o&&typeof o[1]==="string"))c=!1,b="src";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),
l=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=""+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\S\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?m.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,
q,"'\"`"]):m.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);a.verbatimStrings&&e.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):m.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),e.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):m.push(["com",/^#[^\n\r]*/,
q,"#"]));a.cStyleComments&&(e.push(["com",/^\/\/[^\n\r]*/,q]),e.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));a.regexLiterals&&e.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(h=a.types)&&e.push(["typ",h]);a=(""+a.keywords).replace(/^ | $/g,
"");a.length&&e.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),q]);m.push(["pln",/^\s+/,q," \r\n\t\xa0"]);e.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if("BR"===a.nodeName)h(a),
a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}
for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\s)nocode(?:\s|$)/,t=/\r\n?|\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);for(l=s.createElement("LI");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute("value",
m);var r=s.createElement("OL");r.className="linenums";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className="L"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode("\xa0")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn("cannot override language handler %s",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\s*</.test(m)?"default-markup":"default-code";return A[a]}function E(a){var m=
a.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\bMSIE\b/.test(navigator.userAgent),m=/\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,"\r"));i.nodeValue=
j;var u=i.ownerDocument,v=u.createElement("SPAN");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){"console"in window&&console.log(w&&w.stack?w.stack:w)}}var v=["break,continue,do,else,for,if,return,while"],w=[[v,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],
"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],F=[w,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],G=[w,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],
H=[G,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],w=[w,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],I=[v,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],
J=[v,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[v,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,N=/\S/,O=u({keywords:[F,H,w,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+
I,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,["default-code"]);k(x([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
["default-markup","htm","html","mxml","xhtml","xml","xsl"]);k(x([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",
/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);k(x([],[["atv",/^[\S\s]+/]]),["uq.val"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),["c","cc","cpp","cxx","cyc","m"]);k(u({keywords:"null,true,false"}),["json"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),["cs"]);k(u({keywords:G,cStyleComments:!0}),["java"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),
["cv","py"]);k(u({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),["js"]);k(u({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",
hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);k(x([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement("PRE");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf("prettyprint")>=0){var k=k.match(g),f,b;if(b=
!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&"CODE"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName==="pre"||o.tagName==="code"||o.tagName==="xmp")&&o.className&&o.className.indexOf("prettyprint")>=0){b=!0;break}b||((b=(b=n.className.match(/\blinenums\b(?::(\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,
250):a&&a()}for(var e=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\blang(?:uage)?-([\w.]+)(?!\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",
PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();

PR.registerLangHandler(PR.createSimpleLexer([["pln",/^[\t\n\f\r ]+/,null," \t\r\n"]],[["str",/^"(?:[^\n\f\r"\\]|\\(?:\r\n?|\n|\f)|\\[\S\s])*"/,null],["str",/^'(?:[^\n\f\r'\\]|\\(?:\r\n?|\n|\f)|\\[\S\s])*'/,null],["lang-css-str",/^url\(([^"')]*)\)/i],["kwd",/^(?:url|rgb|!important|@import|@page|@media|@charset|inherit)(?=[^\w-]|$)/i,null],["lang-css-kw",/^(-?(?:[_a-z]|\\[\da-f]+ ?)(?:[\w-]|\\\\[\da-f]+ ?)*)\s*:/i],["com",/^\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//],["com",
/^(?:<\!--|--\>)/],["lit",/^(?:\d+|\d*\.\d+)(?:%|[a-z]+)?/i],["lit",/^#[\da-f]{3,6}/i],["pln",/^-?(?:[_a-z]|\\[\da-f]+ ?)(?:[\w-]|\\\\[\da-f]+ ?)*/i],["pun",/^[^\s\w"']+/]]),["css"]);PR.registerLangHandler(PR.createSimpleLexer([],[["kwd",/^-?(?:[_a-z]|\\[\da-f]+ ?)(?:[\w-]|\\\\[\da-f]+ ?)*/i]]),["css-kw"]);PR.registerLangHandler(PR.createSimpleLexer([],[["str",/^[^"')]+/]]),["css-str"]);


var Markdown; if (typeof exports === "object" && typeof require === "function")
    Markdown = exports; else
    Markdown = {}; (function () {
        function identity(x) { return x; }
        function returnFalse(x) { return false; }
        function HookCollection() { }
        HookCollection.prototype = { chain: function (hookname, func) {
            var original = this[hookname]; if (!original)
                throw new Error("unknown hook " + hookname); if (original === identity)
                this[hookname] = func; else
                this[hookname] = function (x) { return func(original(x)); } 
        }, set: function (hookname, func) {
            if (!this[hookname])
                throw new Error("unknown hook " + hookname); this[hookname] = func;
        }, addNoop: function (hookname) { this[hookname] = identity; }, addFalse: function (hookname) { this[hookname] = returnFalse; } 
        }; Markdown.HookCollection = HookCollection; function SaveHash() { }
        SaveHash.prototype = { set: function (key, value) { this["s_" + key] = value; }, get: function (key) { return this["s_" + key]; } }; Markdown.Converter = function () {
            var pluginHooks = this.hooks = new HookCollection(); pluginHooks.addNoop("plainLinkText"); pluginHooks.addNoop("preConversion"); pluginHooks.addNoop("postConversion"); var g_urls; var g_titles; var g_html_blocks; var g_list_level; this.makeHtml = function (text) {
                if (g_urls)
                    throw new Error("Recursive call to converter.makeHtml"); g_urls = new SaveHash(); g_titles = new SaveHash(); g_html_blocks = []; g_list_level = 0; text = pluginHooks.preConversion(text); text = text.replace(/~/g, "~T"); text = text.replace(/\$/g, "~D"); text = text.replace(/\r\n/g, "\n"); text = text.replace(/\r/g, "\n"); text = "\n\n" + text + "\n\n"; text = _Detab(text); text = text.replace(/^[ \t]+$/mg, ""); text = _HashHTMLBlocks(text); text = _StripLinkDefinitions(text); text = _RunBlockGamut(text); text = _UnescapeSpecialChars(text); text = text.replace(/~D/g, "$$"); text = text.replace(/~T/g, "~"); text = pluginHooks.postConversion(text); g_html_blocks = g_titles = g_urls = null; return text;
            }; function _StripLinkDefinitions(text) {
                text = text.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm, function (wholeMatch, m1, m2, m3, m4, m5) {
                    m1 = m1.toLowerCase(); g_urls.set(m1, _EncodeAmpsAndAngles(m2)); if (m4) { return m3; } else if (m5) { g_titles.set(m1, m5.replace(/"/g, "&quot;")); }
                    return "";
                }); return text;
            }
            function _HashHTMLBlocks(text) {
                var block_tags_a = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del"
                var block_tags_b = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math"
                text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, hashElement); text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, hashElement); text = text.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, hashElement); text = text.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g, hashElement); text = text.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, hashElement); return text;
            }
            function hashElement(wholeMatch, m1) { var blockText = m1; blockText = blockText.replace(/^\n+/, ""); blockText = blockText.replace(/\n+$/g, ""); blockText = "\n\n~K" + (g_html_blocks.push(blockText) - 1) + "K\n\n"; return blockText; }
            function _RunBlockGamut(text, doNotUnhash) { text = _DoHeaders(text); var replacement = "<hr />\n"; text = text.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, replacement); text = text.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm, replacement); text = text.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm, replacement); text = _DoLists(text); text = _DoCodeBlocks(text); text = _DoBlockQuotes(text); text = _HashHTMLBlocks(text); text = _FormParagraphs(text, doNotUnhash); return text; }
            function _RunSpanGamut(text) { text = _DoCodeSpans(text); text = _EscapeSpecialCharsWithinTagAttributes(text); text = _EncodeBackslashEscapes(text); text = _DoImages(text); text = _DoAnchors(text); text = _DoAutoLinks(text); text = _EncodeAmpsAndAngles(text); text = _DoItalicsAndBold(text); text = text.replace(/  +\n/g, " <br>\n"); return text; }
            function _EscapeSpecialCharsWithinTagAttributes(text) { var regex = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi; text = text.replace(regex, function (wholeMatch) { var tag = wholeMatch.replace(/(.)<\/?code>(?=.)/g, "$1`"); tag = escapeCharacters(tag, wholeMatch.charAt(1) == "!" ? "\\`*_/" : "\\`*_"); return tag; }); return text; }
            function _DoAnchors(text) { text = text.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, writeAnchorTag); text = text.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, writeAnchorTag); text = text.replace(/(\[([^\[\]]+)\])()()()()()/g, writeAnchorTag); return text; }
            function writeAnchorTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {
                if (m7 == undefined) m7 = ""; var whole_match = m1; var link_text = m2; var link_id = m3.toLowerCase(); var url = m4; var title = m7; if (url == "") {
                    if (link_id == "") { link_id = link_text.toLowerCase().replace(/ ?\n/g, " "); }
                    url = "#" + link_id; if (g_urls.get(link_id) != undefined) { url = g_urls.get(link_id); if (g_titles.get(link_id) != undefined) { title = g_titles.get(link_id); } }
                    else { if (whole_match.search(/\(\s*\)$/m) > -1) { url = ""; } else { return whole_match; } } 
                }
                url = encodeProblemUrlChars(url); url = escapeCharacters(url, "*_"); var result = "<a href=\"" + url + "\""; if (title != "") { title = title.replace(/"/g, "&quot;"); title = escapeCharacters(title, "*_"); result += " title=\"" + title + "\""; }
                result += ">" + link_text + "</a>"; return result;
            }
            function _DoImages(text) { text = text.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, writeImageTag); text = text.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, writeImageTag); return text; }
            function writeImageTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {
                var whole_match = m1; var alt_text = m2; var link_id = m3.toLowerCase(); var url = m4; var title = m7; if (!title) title = ""; if (url == "") {
                    if (link_id == "") { link_id = alt_text.toLowerCase().replace(/ ?\n/g, " "); }
                    url = "#" + link_id; if (g_urls.get(link_id) != undefined) { url = g_urls.get(link_id); if (g_titles.get(link_id) != undefined) { title = g_titles.get(link_id); } }
                    else { return whole_match; } 
                }
                alt_text = alt_text.replace(/"/g, "&quot;"); url = escapeCharacters(url, "*_"); var result = "<img src=\"" + url + "\" alt=\"" + alt_text + "\""; title = title.replace(/"/g, "&quot;"); title = escapeCharacters(title, "*_"); result += " title=\"" + title + "\""; result += " />"; return result;
            }
            function _DoHeaders(text) { text = text.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm, function (wholeMatch, m1) { return "<h1>" + _RunSpanGamut(m1) + "</h1>\n\n"; }); text = text.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm, function (matchFound, m1) { return "<h2>" + _RunSpanGamut(m1) + "</h2>\n\n"; }); text = text.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm, function (wholeMatch, m1, m2) { var h_level = m1.length; return "<h" + h_level + ">" + _RunSpanGamut(m2) + "</h" + h_level + ">\n\n"; }); return text; }
            function _DoLists(text) {
                text += "~0"; var whole_list = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm; if (g_list_level) { text = text.replace(whole_list, function (wholeMatch, m1, m2) { var list = m1; var list_type = (m2.search(/[*+-]/g) > -1) ? "ul" : "ol"; var result = _ProcessListItems(list, list_type); result = result.replace(/\s+$/, ""); result = "<" + list_type + ">" + result + "</" + list_type + ">\n"; return result; }); } else { whole_list = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g; text = text.replace(whole_list, function (wholeMatch, m1, m2, m3) { var runup = m1; var list = m2; var list_type = (m3.search(/[*+-]/g) > -1) ? "ul" : "ol"; var result = _ProcessListItems(list, list_type); result = runup + "<" + list_type + ">\n" + result + "</" + list_type + ">\n"; return result; }); }
                text = text.replace(/~0/, ""); return text;
            }
            var _listItemMarkers = { ol: "\\d+[.]", ul: "[*+-]" }; function _ProcessListItems(list_str, list_type) {
                g_list_level++; list_str = list_str.replace(/\n{2,}$/, "\n"); list_str += "~0"; var marker = _listItemMarkers[list_type]; var re = new RegExp("(^[ \\t]*)(" + marker + ")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1(" + marker + ")[ \\t]+))", "gm"); var last_item_had_a_double_newline = false; list_str = list_str.replace(re, function (wholeMatch, m1, m2, m3) {
                    var item = m3; var leading_space = m1; var ends_with_double_newline = /\n\n$/.test(item); var contains_double_newline = ends_with_double_newline || item.search(/\n{2,}/) > -1; if (contains_double_newline || last_item_had_a_double_newline) { item = _RunBlockGamut(_Outdent(item), true); }
                    else { item = _DoLists(_Outdent(item)); item = item.replace(/\n$/, ""); item = _RunSpanGamut(item); }
                    last_item_had_a_double_newline = ends_with_double_newline; return "<li>" + item + "</li>\n";
                }); list_str = list_str.replace(/~0/g, ""); g_list_level--; return list_str;
            }
            function _DoCodeBlocks(text) { text += "~0"; text = text.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g, function (wholeMatch, m1, m2) { var codeblock = m1; var nextChar = m2; codeblock = _EncodeCode(_Outdent(codeblock)); codeblock = _Detab(codeblock); codeblock = codeblock.replace(/^\n+/g, ""); codeblock = codeblock.replace(/\n+$/g, ""); codeblock = "<pre><code>" + codeblock + "\n</code></pre>"; return "\n\n" + codeblock + "\n\n" + nextChar; }); text = text.replace(/~0/, ""); return text; }
            function hashBlock(text) { text = text.replace(/(^\n+|\n+$)/g, ""); return "\n\n~K" + (g_html_blocks.push(text) - 1) + "K\n\n"; }
            function _DoCodeSpans(text) { text = text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm, function (wholeMatch, m1, m2, m3, m4) { var c = m3; c = c.replace(/^([ \t]*)/g, ""); c = c.replace(/[ \t]*$/g, ""); c = _EncodeCode(c); return m1 + "<code>" + c + "</code>"; }); return text; }
            function _EncodeCode(text) { text = text.replace(/&/g, "&amp;"); text = text.replace(/</g, "&lt;"); text = text.replace(/>/g, "&gt;"); text = escapeCharacters(text, "\*_{}[]\\", false); return text; }
            function _DoItalicsAndBold(text) { text = text.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g, "$1<strong>$3</strong>$4"); text = text.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g, "$1<em>$3</em>$4"); return text; }
            function _DoBlockQuotes(text) { text = text.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (wholeMatch, m1) { var bq = m1; bq = bq.replace(/^[ \t]*>[ \t]?/gm, "~0"); bq = bq.replace(/~0/g, ""); bq = bq.replace(/^[ \t]+$/gm, ""); bq = _RunBlockGamut(bq); bq = bq.replace(/(^|\n)/g, "$1  "); bq = bq.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (wholeMatch, m1) { var pre = m1; pre = pre.replace(/^  /mg, "~0"); pre = pre.replace(/~0/g, ""); return pre; }); return hashBlock("<blockquote>\n" + bq + "\n</blockquote>"); }); return text; }
            function _FormParagraphs(text, doNotUnhash) {
                text = text.replace(/^\n+/g, ""); text = text.replace(/\n+$/g, ""); var grafs = text.split(/\n{2,}/g); var grafsOut = []; var end = grafs.length; for (var i = 0; i < end; i++) {
                    var str = grafs[i]; if (str.search(/~K(\d+)K/g) >= 0) { grafsOut.push(str); }
                    else if (str.search(/\S/) >= 0) {
                        str = _RunSpanGamut(str); str = str.replace(/^([ \t]*)/g, "<p>"); str += "</p>"
                        grafsOut.push(str);
                    } 
                }
                if (!doNotUnhash) { end = grafsOut.length; for (var i = 0; i < end; i++) { while (grafsOut[i].search(/~K(\d+)K/) >= 0) { var blockText = g_html_blocks[RegExp.$1]; blockText = blockText.replace(/\$/g, "$$$$"); grafsOut[i] = grafsOut[i].replace(/~K\d+K/, blockText); } } }
                return grafsOut.join("\n\n");
            }
            function _EncodeAmpsAndAngles(text) { text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;"); text = text.replace(/<(?![a-z\/?\$!])/gi, "&lt;"); return text; }
            function _EncodeBackslashEscapes(text) { text = text.replace(/\\(\\)/g, escapeCharacters_callback); text = text.replace(/\\([`*_{}\[\]()>#+-.!])/g, escapeCharacters_callback); return text; }
            function _DoAutoLinks(text) {
                text = text.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi, "$1<$2$3>$4"); var replacer = function (wholematch, m1) { return "<a href=\"" + m1 + "\">" + pluginHooks.plainLinkText(m1) + "</a>"; }
                text = text.replace(/<((https?|ftp):[^'">\s]+)>/gi, replacer); return text;
            }
            function _UnescapeSpecialChars(text) { text = text.replace(/~E(\d+)E/g, function (wholeMatch, m1) { var charCodeToReplace = parseInt(m1); return String.fromCharCode(charCodeToReplace); }); return text; }
            function _Outdent(text) {
                text = text.replace(/^(\t|[ ]{1,4})/gm, "~0"); text = text.replace(/~0/g, "")
                return text;
            }
            function _Detab(text) {
                if (!/\t/.test(text))
                    return text; var spaces = ["    ", "   ", "  ", " "], skew = 0, v; return text.replace(/[\n\t]/g, function (match, offset) {
                        if (match === "\n") { skew = offset + 1; return match; }
                        v = (offset - skew) % 4; skew = offset + 1; return spaces[v];
                    });
            }
            var _problemUrlChars = /(?:["'*()[\]:]|~D)/g; function encodeProblemUrlChars(url) {
                if (!url)
                    return ""; var len = url.length; return url.replace(_problemUrlChars, function (match, offset) {
                        if (match == "~D")
                            return "%24"; if (match == ":") {
                            if (offset == len - 1 || /[0-9\/]/.test(url.charAt(offset + 1)))
                                return ":"
                        }
                        return "%" + match.charCodeAt(0).toString(16);
                    });
            }
            function escapeCharacters(text, charsToEscape, afterBackslash) {
                var regexString = "([" + charsToEscape.replace(/([\[\]\\])/g, "\\$1") + "])"; if (afterBackslash) { regexString = "\\\\" + regexString; }
                var regex = new RegExp(regexString, "g"); text = text.replace(regex, escapeCharacters_callback); return text;
            }
            function escapeCharacters_callback(wholeMatch, m1) { var charCodeToEscape = m1.charCodeAt(0); return "~E" + charCodeToEscape + "E"; } 
        };
    })(); ;

(function () {
    var output, Converter; if (typeof exports === "object" && typeof require === "function") { output = exports; Converter = require("./Markdown.Converter").Converter; } else { output = window.Markdown; Converter = output.Converter; }
    output.getSanitizingConverter = function () { var converter = new Converter(); converter.hooks.chain("postConversion", sanitizeHtml); converter.hooks.chain("postConversion", balanceTags); return converter; }
    function sanitizeHtml(html) { return html.replace(/<[^>]*>?/gi, sanitizeTag); }
    var basic_tag_whitelist = /^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i; var a_white = /^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i; var img_white = /^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i; function sanitizeTag(tag) {
        if (tag.match(basic_tag_whitelist) || tag.match(a_white) || tag.match(img_white))
            return tag; else
            return "";
    }
    function balanceTags(html) {
        if (html == "")
            return ""; var re = /<\/?\w+[^>]*(\s|$|>)/g; var tags = html.toLowerCase().match(re); var tagcount = (tags || []).length; if (tagcount == 0)
            return html; var tagname, tag; var ignoredtags = "<p><img><br><li><hr>"; var match; var tagpaired = []; var tagremove = []; var needsRemoval = false; for (var ctag = 0; ctag < tagcount; ctag++) {
            tagname = tags[ctag].replace(/<\/?(\w+).*/, "$1"); if (tagpaired[ctag] || ignoredtags.search("<" + tagname + ">") > -1)
                continue; tag = tags[ctag]; match = -1; if (!/^<\//.test(tag)) { for (var ntag = ctag + 1; ntag < tagcount; ntag++) { if (!tagpaired[ntag] && tags[ntag] == "</" + tagname + ">") { match = ntag; break; } } }
            if (match == -1)
                needsRemoval = tagremove[ctag] = true; else
                tagpaired[match] = true;
        }
        if (!needsRemoval)
            return html; var ctag = 0; html = html.replace(re, function (match) { var res = tagremove[ctag] ? "" : match; ctag++; return res; }); return html;
    }
})(); 
;

(function () {
    var util = {}, position = {}, ui = {}, doc = top.document, re = top.RegExp, nav = top.navigator, SETTINGS = { lineLength: 72 }, uaSniffed = { isIE: /msie/.test(nav.userAgent.toLowerCase()), isIE_5or6: /msie 6/.test(nav.userAgent.toLowerCase()) || /msie 5/.test(nav.userAgent.toLowerCase()), isOpera: /opera/.test(nav.userAgent.toLowerCase()) }; var linkDialogText = "<p><b>Insert Hyperlink</b></p><p>http://example.com/ \"optional title\"</p>"; var imageDialogText = "<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>"; var imageDefaultText = "http://"; var linkDefaultText = "http://"; var defaultHelpHoverTitle = "Markdown Editing Help"; Markdown.Editor = function (markdownConverter, idPostfix, help) {
        idPostfix = idPostfix || ""; var hooks = this.hooks = new Markdown.HookCollection(); hooks.addNoop("onPreviewRefresh"); hooks.addNoop("postBlockquoteCreation"); hooks.addFalse("insertImageDialog"); this.getConverter = function () { return markdownConverter; }
        var that = this, panels; this.run = function () {
            if (panels)
                return; panels = new PanelCollection(idPostfix); var commandManager = new CommandManager(hooks); var previewManager = new PreviewManager(markdownConverter, panels, function () { hooks.onPreviewRefresh(); }); var undoManager, uiManager; if (!/\?noundo/.test(doc.location.href)) {
                undoManager = new UndoManager(function () {
                    previewManager.refresh(); if (uiManager)
                        uiManager.setUndoRedoButtonStates();
                }, panels);
            }
            uiManager = new UIManager(idPostfix, panels, undoManager, previewManager, commandManager, help); uiManager.setUndoRedoButtonStates(); var forceRefresh = that.refreshPreview = function () { previewManager.refresh(true); }; forceRefresh();
        };
    }
    function Chunks() { }
    Chunks.prototype.findTags = function (startRegex, endRegex) {
        var chunkObj = this; var regex; if (startRegex) { regex = util.extendRegExp(startRegex, "", "$"); this.before = this.before.replace(regex, function (match) { chunkObj.startTag = chunkObj.startTag + match; return ""; }); regex = util.extendRegExp(startRegex, "^", ""); this.selection = this.selection.replace(regex, function (match) { chunkObj.startTag = chunkObj.startTag + match; return ""; }); }
        if (endRegex) { regex = util.extendRegExp(endRegex, "", "$"); this.selection = this.selection.replace(regex, function (match) { chunkObj.endTag = match + chunkObj.endTag; return ""; }); regex = util.extendRegExp(endRegex, "^", ""); this.after = this.after.replace(regex, function (match) { chunkObj.endTag = match + chunkObj.endTag; return ""; }); } 
    }; Chunks.prototype.trimWhitespace = function (remove) {
        this.selection = this.selection.replace(/^(\s*)/, ""); if (!remove) { this.before += re.$1; }
        this.selection = this.selection.replace(/(\s*)$/, ""); if (!remove) { this.after = re.$1 + this.after; } 
    }; Chunks.prototype.skipLines = function (nLinesBefore, nLinesAfter, findExtraNewlines) {
        if (nLinesBefore === undefined) { nLinesBefore = 1; }
        if (nLinesAfter === undefined) { nLinesAfter = 1; }
        nLinesBefore++; nLinesAfter++; var regexText; var replacementText; if (navigator.userAgent.match(/Chrome/)) { "X".match(/()./); }
        this.selection = this.selection.replace(/(^\n*)/, ""); this.startTag = this.startTag + re.$1; this.selection = this.selection.replace(/(\n*$)/, ""); this.endTag = this.endTag + re.$1; this.startTag = this.startTag.replace(/(^\n*)/, ""); this.before = this.before + re.$1; this.endTag = this.endTag.replace(/(\n*$)/, ""); this.after = this.after + re.$1; if (this.before) {
            regexText = replacementText = ""; while (nLinesBefore--) { regexText += "\\n?"; replacementText += "\n"; }
            if (findExtraNewlines) { regexText = "\\n*"; }
            this.before = this.before.replace(new re(regexText + "$", ""), replacementText);
        }
        if (this.after) {
            regexText = replacementText = ""; while (nLinesAfter--) { regexText += "\\n?"; replacementText += "\n"; }
            if (findExtraNewlines) { regexText = "\\n*"; }
            this.after = this.after.replace(new re(regexText, ""), replacementText);
        } 
    }; function PanelCollection(postfix) { this.buttonBar = doc.getElementById("wmd-button-bar" + postfix); this.preview = doc.getElementById("wmd-preview" + postfix); this.input = doc.getElementById("wmd-input" + postfix); }; util.isVisible = function (elem) {
        if (window.getComputedStyle) { return window.getComputedStyle(elem, null).getPropertyValue("display") !== "none"; }
        else if (elem.currentStyle) { return elem.currentStyle["display"] !== "none"; } 
    }; util.addEvent = function (elem, event, listener) {
        if (elem.attachEvent) { elem.attachEvent("on" + event, listener); }
        else { elem.addEventListener(event, listener, false); } 
    }; util.removeEvent = function (elem, event, listener) {
        if (elem.detachEvent) { elem.detachEvent("on" + event, listener); }
        else { elem.removeEventListener(event, listener, false); } 
    }; util.fixEolChars = function (text) { text = text.replace(/\r\n/g, "\n"); text = text.replace(/\r/g, "\n"); return text; }; util.extendRegExp = function (regex, pre, post) {
        if (pre === null || pre === undefined) { pre = ""; }
        if (post === null || post === undefined) { post = ""; }
        var pattern = regex.toString(); var flags; pattern = pattern.replace(/\/([gim]*)$/, ""); flags = re.$1; pattern = pattern.replace(/(^\/|\/$)/g, ""); pattern = pre + pattern + post; return new re(pattern, flags);
    }
    position.getTop = function (elem, isInner) {
        var result = elem.offsetTop; if (!isInner) { while (elem = elem.offsetParent) { result += elem.offsetTop; } }
        return result;
    }; position.getHeight = function (elem) { return elem.offsetHeight || elem.scrollHeight; }; position.getWidth = function (elem) { return elem.offsetWidth || elem.scrollWidth; }; position.getPageSize = function () {
        var scrollWidth, scrollHeight; var innerWidth, innerHeight; if (self.innerHeight && self.scrollMaxY) { scrollWidth = doc.body.scrollWidth; scrollHeight = self.innerHeight + self.scrollMaxY; }
        else if (doc.body.scrollHeight > doc.body.offsetHeight) { scrollWidth = doc.body.scrollWidth; scrollHeight = doc.body.scrollHeight; }
        else { scrollWidth = doc.body.offsetWidth; scrollHeight = doc.body.offsetHeight; }
        if (self.innerHeight) { innerWidth = self.innerWidth; innerHeight = self.innerHeight; }
        else if (doc.documentElement && doc.documentElement.clientHeight) { innerWidth = doc.documentElement.clientWidth; innerHeight = doc.documentElement.clientHeight; }
        else if (doc.body) { innerWidth = doc.body.clientWidth; innerHeight = doc.body.clientHeight; }
        var maxWidth = Math.max(scrollWidth, innerWidth); var maxHeight = Math.max(scrollHeight, innerHeight); return [maxWidth, maxHeight, innerWidth, innerHeight];
    }; function UndoManager(callback, panels) {
        var undoObj = this; var undoStack = []; var stackPtr = 0; var mode = "none"; var lastState; var timer; var inputStateObj; var setMode = function (newMode, noSave) {
            if (mode != newMode) { mode = newMode; if (!noSave) { saveState(); } }
            if (!uaSniffed.isIE || mode != "moving") { timer = top.setTimeout(refreshState, 1); }
            else { inputStateObj = null; } 
        }; var refreshState = function (isInitialState) { inputStateObj = new TextareaState(panels, isInitialState); timer = undefined; }; this.setCommandMode = function () { mode = "command"; saveState(); timer = top.setTimeout(refreshState, 0); }; this.canUndo = function () { return stackPtr > 1; }; this.canRedo = function () {
            if (undoStack[stackPtr + 1]) { return true; }
            return false;
        }; this.undo = function () {
            if (undoObj.canUndo()) {
                if (lastState) { lastState.restore(); lastState = null; }
                else { undoStack[stackPtr] = new TextareaState(panels); undoStack[--stackPtr].restore(); if (callback) { callback(); } } 
            }
            mode = "none"; panels.input.focus(); refreshState();
        }; this.redo = function () {
            if (undoObj.canRedo()) { undoStack[++stackPtr].restore(); if (callback) { callback(); } }
            mode = "none"; panels.input.focus(); refreshState();
        }; var saveState = function () {
            var currState = inputStateObj || new TextareaState(panels); if (!currState) { return false; }
            if (mode == "moving") {
                if (!lastState) { lastState = currState; }
                return;
            }
            if (lastState) {
                if (undoStack[stackPtr - 1].text != lastState.text) { undoStack[stackPtr++] = lastState; }
                lastState = null;
            }
            undoStack[stackPtr++] = currState; undoStack[stackPtr + 1] = null; if (callback) { callback(); } 
        }; var handleCtrlYZ = function (event) {
            var handled = false; if (event.ctrlKey || event.metaKey) {
                var keyCode = event.charCode || event.keyCode; var keyCodeChar = String.fromCharCode(keyCode); switch (keyCodeChar) {
                    case "y": undoObj.redo(); handled = true; break; case "z": if (!event.shiftKey) { undoObj.undo(); }
                        else { undoObj.redo(); }
                        handled = true; break;
                } 
            }
            if (handled) {
                if (event.preventDefault) { event.preventDefault(); }
                if (top.event) { top.event.returnValue = false; }
                return;
            } 
        }; var handleModeChange = function (event) {
            if (!event.ctrlKey && !event.metaKey) {
                var keyCode = event.keyCode; if ((keyCode >= 33 && keyCode <= 40) || (keyCode >= 63232 && keyCode <= 63235)) { setMode("moving"); }
                else if (keyCode == 8 || keyCode == 46 || keyCode == 127) { setMode("deleting"); }
                else if (keyCode == 13) { setMode("newlines"); }
                else if (keyCode == 27) { setMode("escape"); }
                else if ((keyCode < 16 || keyCode > 20) && keyCode != 91) { setMode("typing"); } 
            } 
        }; var setEventHandlers = function () { util.addEvent(panels.input, "keypress", function (event) { if ((event.ctrlKey || event.metaKey) && (event.keyCode == 89 || event.keyCode == 90)) { event.preventDefault(); } }); var handlePaste = function () { if (uaSniffed.isIE || (inputStateObj && inputStateObj.text != panels.input.value)) { if (timer == undefined) { mode = "paste"; saveState(); refreshState(); } } }; util.addEvent(panels.input, "keydown", handleCtrlYZ); util.addEvent(panels.input, "keydown", handleModeChange); util.addEvent(panels.input, "mousedown", function () { setMode("moving"); }); panels.input.onpaste = handlePaste; panels.input.ondrop = handlePaste; }; var init = function () { setEventHandlers(); refreshState(true); saveState(); }; init();
    }
    function TextareaState(panels, isInitialState) {
        var stateObj = this; var inputArea = panels.input; this.init = function () {
            if (!util.isVisible(inputArea)) { return; }
            if (!isInitialState && doc.activeElement && doc.activeElement !== inputArea) { return; }
            this.setInputAreaSelectionStartEnd(); this.scrollTop = inputArea.scrollTop; if (!this.text && inputArea.selectionStart || inputArea.selectionStart === 0) { this.text = inputArea.value; } 
        }
        this.setInputAreaSelection = function () {
            if (!util.isVisible(inputArea)) { return; }
            if (inputArea.selectionStart !== undefined && !uaSniffed.isOpera) { inputArea.focus(); inputArea.selectionStart = stateObj.start; inputArea.selectionEnd = stateObj.end; inputArea.scrollTop = stateObj.scrollTop; }
            else if (doc.selection) {
                if (doc.activeElement && doc.activeElement !== inputArea) { return; }
                inputArea.focus(); var range = inputArea.createTextRange(); range.moveStart("character", -inputArea.value.length); range.moveEnd("character", -inputArea.value.length); range.moveEnd("character", stateObj.end); range.moveStart("character", stateObj.start); range.select();
            } 
        }; this.setInputAreaSelectionStartEnd = function () {
            if (!panels.ieRetardedClick && (inputArea.selectionStart || inputArea.selectionStart === 0)) { stateObj.start = inputArea.selectionStart; stateObj.end = inputArea.selectionEnd; }
            else if (doc.selection) {
                stateObj.text = util.fixEolChars(inputArea.value); var range; if (panels.ieRetardedClick && panels.ieCachedRange) { range = panels.ieCachedRange; panels.ieRetardedClick = false; }
                else { range = doc.selection.createRange(); }
                var fixedRange = util.fixEolChars(range.text); var marker = "\x07"; var markedRange = marker + fixedRange + marker; range.text = markedRange; var inputText = util.fixEolChars(inputArea.value); range.moveStart("character", -markedRange.length); range.text = fixedRange; stateObj.start = inputText.indexOf(marker); stateObj.end = inputText.lastIndexOf(marker) - marker.length; var len = stateObj.text.length - util.fixEolChars(inputArea.value).length; if (len) {
                    range.moveStart("character", -fixedRange.length); while (len--) { fixedRange += "\n"; stateObj.end += 1; }
                    range.text = fixedRange;
                }
                this.setInputAreaSelection();
            } 
        }; this.restore = function () {
            if (stateObj.text != undefined && stateObj.text != inputArea.value) { inputArea.value = stateObj.text; }
            this.setInputAreaSelection(); inputArea.scrollTop = stateObj.scrollTop;
        }; this.getChunks = function () { var chunk = new Chunks(); chunk.before = util.fixEolChars(stateObj.text.substring(0, stateObj.start)); chunk.startTag = ""; chunk.selection = util.fixEolChars(stateObj.text.substring(stateObj.start, stateObj.end)); chunk.endTag = ""; chunk.after = util.fixEolChars(stateObj.text.substring(stateObj.end)); chunk.scrollTop = stateObj.scrollTop; return chunk; }; this.setChunks = function (chunk) { chunk.before = chunk.before + chunk.startTag; chunk.after = chunk.endTag + chunk.after; this.start = chunk.before.length; this.end = chunk.before.length + chunk.selection.length; this.text = chunk.before + chunk.selection + chunk.after; this.scrollTop = chunk.scrollTop; }; this.init();
    }; function PreviewManager(converter, panels, previewRefreshCallback) {
        var managerObj = this; var timeout; var elapsedTime; var oldInputText; var maxDelay = 3000; var startType = "delayed"; var setupEvents = function (inputElem, listener) { util.addEvent(inputElem, "input", listener); inputElem.onpaste = listener; inputElem.ondrop = listener; util.addEvent(inputElem, "keypress", listener); util.addEvent(inputElem, "keydown", listener); }; var getDocScrollTop = function () {
            var result = 0; if (top.innerHeight) { result = top.pageYOffset; }
            else
                if (doc.documentElement && doc.documentElement.scrollTop) { result = doc.documentElement.scrollTop; }
                else
                    if (doc.body) { result = doc.body.scrollTop; }
            return result;
        }; var makePreviewHtml = function () {
            if (!panels.preview)
                return; var text = panels.input.value; if (text && text == oldInputText) { return; }
            else { oldInputText = text; }
            var prevTime = new Date().getTime(); text = converter.makeHtml(text); var currTime = new Date().getTime(); elapsedTime = currTime - prevTime; pushPreviewHtml(text);
        }; var applyTimeout = function () {
            if (timeout) { top.clearTimeout(timeout); timeout = undefined; }
            if (startType !== "manual") {
                var delay = 0; if (startType === "delayed") { delay = elapsedTime; }
                if (delay > maxDelay) { delay = maxDelay; }
                timeout = top.setTimeout(makePreviewHtml, delay);
            } 
        }; var getScaleFactor = function (panel) {
            if (panel.scrollHeight <= panel.clientHeight) { return 1; }
            return panel.scrollTop / (panel.scrollHeight - panel.clientHeight);
        }; var setPanelScrollTops = function () { if (panels.preview) { panels.preview.scrollTop = (panels.preview.scrollHeight - panels.preview.clientHeight) * getScaleFactor(panels.preview); } }; this.refresh = function (requiresRefresh) {
            if (requiresRefresh) { oldInputText = ""; makePreviewHtml(); }
            else { applyTimeout(); } 
        }; this.processingTime = function () { return elapsedTime; }; var isFirstTimeFilled = true; var ieSafePreviewSet = function (text) {
            var preview = panels.preview; var parent = preview.parentNode; var sibling = preview.nextSibling; parent.removeChild(preview); preview.innerHTML = text; if (!sibling)
                parent.appendChild(preview); else
                parent.insertBefore(preview, sibling);
        }
        var nonSuckyBrowserPreviewSet = function (text) { panels.preview.innerHTML = text; }
        var previewSetter; var previewSet = function (text) {
            if (previewSetter)
                return previewSetter(text); try { nonSuckyBrowserPreviewSet(text); previewSetter = nonSuckyBrowserPreviewSet; } catch (e) { previewSetter = ieSafePreviewSet; previewSetter(text); } 
        }; var pushPreviewHtml = function (text) {
            var emptyTop = position.getTop(panels.input) - getDocScrollTop(); if (panels.preview) { previewSet(text); previewRefreshCallback(); }
            setPanelScrollTops(); if (isFirstTimeFilled) { isFirstTimeFilled = false; return; }
            var fullTop = position.getTop(panels.input) - getDocScrollTop(); if (uaSniffed.isIE) { top.setTimeout(function () { top.scrollBy(0, fullTop - emptyTop); }, 0); }
            else { top.scrollBy(0, fullTop - emptyTop); } 
        }; var init = function () { setupEvents(panels.input, applyTimeout); makePreviewHtml(); if (panels.preview) { panels.preview.scrollTop = 0; } }; init();
    }; ui.createBackground = function () {
        var background = doc.createElement("div"); background.className = "wmd-prompt-background"; style = background.style; style.position = "absolute"; style.top = "0"; style.zIndex = "1000"; if (uaSniffed.isIE) { style.filter = "alpha(opacity=50)"; }
        else { style.opacity = "0.5"; }
        var pageSize = position.getPageSize(); style.height = pageSize[1] + "px"; if (uaSniffed.isIE) { style.left = doc.documentElement.scrollLeft; style.width = doc.documentElement.clientWidth; }
        else { style.left = "0"; style.width = "100%"; }
        doc.body.appendChild(background); return background;
    }; ui.prompt = function (text, defaultInputText, callback) {
        var dialog; var input; if (defaultInputText === undefined) { defaultInputText = ""; }
        var checkEscape = function (key) { var code = (key.charCode || key.keyCode); if (code === 27) { close(true); } }; var close = function (isCancel) {
            util.removeEvent(doc.body, "keydown", checkEscape); var text = input.value; if (isCancel) { text = null; }
            else { text = text.replace('http://http://', 'http://'); text = text.replace('http://https://', 'https://'); text = text.replace('http://ftp://', 'ftp://'); if (text.indexOf('http://') === -1 && text.indexOf('ftp://') === -1 && text.indexOf('https://') === -1) { text = 'http://' + text; } }
            dialog.parentNode.removeChild(dialog); callback(text); return false;
        }; var createDialog = function () {
            dialog = doc.createElement("div"); dialog.className = "wmd-prompt-dialog"; dialog.style.padding = "10px;"; dialog.style.position = "fixed"; dialog.style.width = "400px"; dialog.style.zIndex = "1001"; var question = doc.createElement("div"); question.innerHTML = text; question.style.padding = "5px"; dialog.appendChild(question); var form = doc.createElement("form"); form.onsubmit = function () { return close(false); }; style = form.style; style.padding = "0"; style.margin = "0"; style.cssFloat = "left"; style.width = "100%"; style.textAlign = "center"; style.position = "relative"; dialog.appendChild(form); input = doc.createElement("input"); input.type = "text"; input.value = defaultInputText; style = input.style; style.display = "block"; style.width = "80%"; style.marginLeft = style.marginRight = "auto"; form.appendChild(input); var okButton = doc.createElement("input"); okButton.type = "button"; okButton.onclick = function () { return close(false); }; okButton.value = "OK"; style = okButton.style; style.margin = "10px"; style.display = "inline"; style.width = "7em"; var cancelButton = doc.createElement("input"); cancelButton.type = "button"; cancelButton.onclick = function () { return close(true); }; cancelButton.value = "Cancel"; style = cancelButton.style; style.margin = "10px"; style.display = "inline"; style.width = "7em"; form.appendChild(okButton); form.appendChild(cancelButton); util.addEvent(doc.body, "keydown", checkEscape); dialog.style.top = "50%"; dialog.style.left = "50%"; dialog.style.display = "block"; if (uaSniffed.isIE_5or6) { dialog.style.position = "absolute"; dialog.style.top = doc.documentElement.scrollTop + 200 + "px"; dialog.style.left = "50%"; }
            doc.body.appendChild(dialog); dialog.style.marginTop = -(position.getHeight(dialog) / 2) + "px"; dialog.style.marginLeft = -(position.getWidth(dialog) / 2) + "px";
        }; top.setTimeout(function () {
            createDialog(); var defTextLen = defaultInputText.length; if (input.selectionStart !== undefined) { input.selectionStart = 0; input.selectionEnd = defTextLen; }
            else if (input.createTextRange) { var range = input.createTextRange(); range.collapse(false); range.moveStart("character", -defTextLen); range.moveEnd("character", defTextLen); range.select(); }
            input.focus();
        }, 0);
    }; function UIManager(postfix, panels, undoManager, previewManager, commandManager, helpOptions) {
        var inputBox = panels.input, buttons = {}; makeSpritedButtonRow(); var keyEvent = "keydown"; if (uaSniffed.isOpera) { keyEvent = "keypress"; }
        util.addEvent(inputBox, keyEvent, function (key) {
            if ((key.ctrlKey || key.metaKey) && !key.altKey) {
                var keyCode = key.charCode || key.keyCode; var keyCodeStr = String.fromCharCode(keyCode).toLowerCase(); switch (keyCodeStr) {
                    case "b": doClick(buttons.bold); break; case "i": doClick(buttons.italic); break; case "l": doClick(buttons.link); break; case "q": doClick(buttons.quote); break; case "k": doClick(buttons.code); break; case "g": doClick(buttons.image); break; case "o": doClick(buttons.olist); break; case "u": doClick(buttons.ulist); break; case "h": doClick(buttons.heading); break; case "r": doClick(buttons.hr); break; case "y": doClick(buttons.redo); break; case "z": if (key.shiftKey) { doClick(buttons.redo); }
                        else { doClick(buttons.undo); }
                        break; default: return;
                }
                if (key.preventDefault) { key.preventDefault(); }
                if (top.event) { top.event.returnValue = false; } 
            } 
        }); util.addEvent(inputBox, "keyup", function (key) { if (key.shiftKey && !key.ctrlKey && !key.metaKey) { var keyCode = key.charCode || key.keyCode; if (keyCode === 13) { fakeButton = {}; fakeButton.textOp = bindCommand("doAutoindent"); doClick(fakeButton); } } }); if (uaSniffed.isIE) { util.addEvent(inputBox, "keydown", function (key) { var code = key.keyCode; if (code === 27) { return false; } }); }
        function doClick(button) {
            inputBox.focus(); if (button.textOp) {
                if (undoManager) { undoManager.setCommandMode(); }
                var state = new TextareaState(panels); if (!state) { return; }
                var chunks = state.getChunks(); var fixupInputArea = function () {
                    inputBox.focus(); if (chunks) { state.setChunks(chunks); }
                    state.restore(); previewManager.refresh();
                }; var noCleanup = button.textOp(chunks, fixupInputArea); if (!noCleanup) { fixupInputArea(); } 
            }
            if (button.execute) { button.execute(undoManager); } 
        }; function setupButton(button, isEnabled) {
            var normalYShift = "0px"; var disabledYShift = "-20px"; var highlightYShift = "-40px"; var image = button.getElementsByTagName("span")[0]; if (isEnabled) {
                image.style.backgroundPosition = button.XShift + " " + normalYShift; button.onmouseover = function () { image.style.backgroundPosition = this.XShift + " " + highlightYShift; }; button.onmouseout = function () { image.style.backgroundPosition = this.XShift + " " + normalYShift; }; if (uaSniffed.isIE) {
                    button.onmousedown = function () {
                        if (doc.activeElement && doc.activeElement !== panels.input) { return; }
                        panels.ieRetardedClick = true; panels.ieCachedRange = document.selection.createRange();
                    };
                }
                if (!button.isHelp) {
                    button.onclick = function () {
                        if (this.onmouseout) { this.onmouseout(); }
                        doClick(this); return false;
                    } 
                } 
            }
            else { image.style.backgroundPosition = button.XShift + " " + disabledYShift; button.onmouseover = button.onmouseout = button.onclick = function () { }; } 
        }
        function bindCommand(method) {
            if (typeof method === "string")
                method = commandManager[method]; return function () { method.apply(commandManager, arguments); } 
        }
        function makeSpritedButtonRow() {
            var buttonBar = panels.buttonBar; var normalYShift = "0px"; var disabledYShift = "-20px"; var highlightYShift = "-40px"; var buttonRow = document.createElement("ul"); buttonRow.id = "wmd-button-row" + postfix; buttonRow.className = 'wmd-button-row'; buttonRow = buttonBar.appendChild(buttonRow); var xPosition = 0; var makeButton = function (id, title, XShift, textOp) {
                var button = document.createElement("li"); button.className = "wmd-button"; button.style.left = xPosition + "px"; xPosition += 25; var buttonImage = document.createElement("span"); button.id = id + postfix; button.appendChild(buttonImage); button.title = title; button.XShift = XShift; if (textOp)
                    button.textOp = textOp; setupButton(button, true); buttonRow.appendChild(button); return button;
            }; var makeSpacer = function (num) { var spacer = document.createElement("li"); spacer.className = "wmd-spacer wmd-spacer" + num; spacer.id = "wmd-spacer" + num + postfix; buttonRow.appendChild(spacer); xPosition += 25; }
            buttons.bold = makeButton("wmd-bold-button", "Strong <strong> Ctrl+B", "0px", bindCommand("doBold")); buttons.italic = makeButton("wmd-italic-button", "Emphasis <em> Ctrl+I", "-20px", bindCommand("doItalic")); makeSpacer(1); buttons.link = makeButton("wmd-link-button", "Hyperlink <a> Ctrl+L", "-40px", bindCommand(function (chunk, postProcessing) { return this.doLinkOrImage(chunk, postProcessing, false); })); buttons.quote = makeButton("wmd-quote-button", "Blockquote <blockquote> Ctrl+Q", "-60px", bindCommand("doBlockquote")); buttons.code = makeButton("wmd-code-button", "Code Sample <pre><code> Ctrl+K", "-80px", bindCommand("doCode")); buttons.image = makeButton("wmd-image-button", "Image <img> Ctrl+G", "-100px", bindCommand(function (chunk, postProcessing) { return this.doLinkOrImage(chunk, postProcessing, true); })); makeSpacer(2); buttons.olist = makeButton("wmd-olist-button", "Numbered List <ol> Ctrl+O", "-120px", bindCommand(function (chunk, postProcessing) { this.doList(chunk, postProcessing, true); })); buttons.ulist = makeButton("wmd-ulist-button", "Bulleted List <ul> Ctrl+U", "-140px", bindCommand(function (chunk, postProcessing) { this.doList(chunk, postProcessing, false); })); buttons.heading = makeButton("wmd-heading-button", "Heading <h1>/<h2> Ctrl+H", "-160px", bindCommand("doHeading")); buttons.hr = makeButton("wmd-hr-button", "Horizontal Rule <hr> Ctrl+R", "-180px", bindCommand("doHorizontalRule")); makeSpacer(3); buttons.undo = makeButton("wmd-undo-button", "Undo - Ctrl+Z", "-200px", null); buttons.undo.execute = function (manager) { if (manager) manager.undo(); }; var redoTitle = /win/.test(nav.platform.toLowerCase()) ? "Redo - Ctrl+Y" : "Redo - Ctrl+Shift+Z"; buttons.redo = makeButton("wmd-redo-button", redoTitle, "-220px", null); buttons.redo.execute = function (manager) { if (manager) manager.redo(); }; if (helpOptions) { var helpButton = document.createElement("li"); var helpButtonImage = document.createElement("span"); helpButton.appendChild(helpButtonImage); helpButton.className = "wmd-button wmd-help-button"; helpButton.id = "wmd-help-button" + postfix; helpButton.XShift = "-240px"; helpButton.isHelp = true; helpButton.style.right = "0px"; helpButton.title = helpOptions.title || defaultHelpHoverTitle; helpButton.onclick = helpOptions.handler; setupButton(helpButton, true); buttonRow.appendChild(helpButton); buttons.help = helpButton; }
            setUndoRedoButtonStates();
        }
        function setUndoRedoButtonStates() { if (undoManager) { setupButton(buttons.undo, undoManager.canUndo()); setupButton(buttons.redo, undoManager.canRedo()); } }; this.setUndoRedoButtonStates = setUndoRedoButtonStates;
    }
    function CommandManager(pluginHooks) { this.hooks = pluginHooks; }
    var commandProto = CommandManager.prototype; commandProto.prefixes = "(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)"; commandProto.unwrap = function (chunk) { var txt = new re("([^\\n])\\n(?!(\\n|" + this.prefixes + "))", "g"); chunk.selection = chunk.selection.replace(txt, "$1 $2"); }; commandProto.wrap = function (chunk, len) {
        this.unwrap(chunk); var regex = new re("(.{1," + len + "})( +|$\\n?)", "gm"); chunk.selection = chunk.selection.replace(regex, function (line, marked) {
            if (new re("^" + this.prefixes, "").test(line)) { return line; }
            return marked + "\n";
        }); chunk.selection = chunk.selection.replace(/\s+$/, "");
    }; commandProto.doBold = function (chunk, postProcessing) { return this.doBorI(chunk, postProcessing, 2, "strong text"); }; commandProto.doItalic = function (chunk, postProcessing) { return this.doBorI(chunk, postProcessing, 1, "emphasized text"); }; commandProto.doBorI = function (chunk, postProcessing, nStars, insertText) {
        chunk.trimWhitespace(); chunk.selection = chunk.selection.replace(/\n{2,}/g, "\n"); chunk.before.search(/(\**$)/); var starsBefore = re.$1; chunk.after.search(/(^\**)/); var starsAfter = re.$1; var prevStars = Math.min(starsBefore.length, starsAfter.length); if ((prevStars >= nStars) && (prevStars != 2 || nStars != 1)) { chunk.before = chunk.before.replace(re("[*]{" + nStars + "}$", ""), ""); chunk.after = chunk.after.replace(re("^[*]{" + nStars + "}", ""), ""); }
        else if (!chunk.selection && starsAfter) { chunk.after = chunk.after.replace(/^([*_]*)/, ""); chunk.before = chunk.before.replace(/(\s?)$/, ""); var whitespace = re.$1; chunk.before = chunk.before + starsAfter + whitespace; }
        else {
            if (!chunk.selection && !starsAfter) { chunk.selection = insertText; }
            var markup = nStars <= 1 ? "*" : "**"; chunk.before = chunk.before + markup; chunk.after = markup + chunk.after;
        }
        return;
    }; commandProto.stripLinkDefs = function (text, defsToAdd) {
        text = text.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm, function (totalMatch, id, link, newlines, title) {
            defsToAdd[id] = totalMatch.replace(/\s*$/, ""); if (newlines) { defsToAdd[id] = totalMatch.replace(/["(](.+?)[")]$/, ""); return newlines + title; }
            return "";
        }); return text;
    }; commandProto.addLinkDef = function (chunk, linkDef) {
        var refNumber = 0; var defsToAdd = {}; chunk.before = this.stripLinkDefs(chunk.before, defsToAdd); chunk.selection = this.stripLinkDefs(chunk.selection, defsToAdd); chunk.after = this.stripLinkDefs(chunk.after, defsToAdd); var defs = ""; var regex = /(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g; var addDefNumber = function (def) { refNumber++; def = def.replace(/^[ ]{0,3}\[(\d+)\]:/, "  [" + refNumber + "]:"); defs += "\n" + def; }; var getLink = function (wholeMatch, before, inner, afterInner, id, end) {
            inner = inner.replace(regex, getLink); if (defsToAdd[id]) { addDefNumber(defsToAdd[id]); return before + inner + afterInner + refNumber + end; }
            return wholeMatch;
        }; chunk.before = chunk.before.replace(regex, getLink); if (linkDef) { addDefNumber(linkDef); }
        else { chunk.selection = chunk.selection.replace(regex, getLink); }
        var refOut = refNumber; chunk.after = chunk.after.replace(regex, getLink); if (chunk.after) { chunk.after = chunk.after.replace(/\n*$/, ""); }
        if (!chunk.after) { chunk.selection = chunk.selection.replace(/\n*$/, ""); }
        chunk.after += "\n\n" + defs; return refOut;
    }; function properlyEncoded(linkdef) {
        return linkdef.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/, function (wholematch, link, title) {
            link = link.replace(/\?.*$/, function (querypart) { return querypart.replace(/\+/g, " "); }); link = decodeURIComponent(link); link = encodeURI(link).replace(/'/g, '%27').replace(/\(/g, '%28').replace(/\)/g, '%29'); link = link.replace(/\?.*$/, function (querypart) { return querypart.replace(/\+/g, "%2b"); }); if (title) { title = title.trim ? title.trim() : title.replace(/^\s*/, "").replace(/\s*$/, ""); title = $.trim(title).replace(/"/g, "quot;").replace(/\(/g, "&#40;").replace(/\)/g, "&#41;").replace(/</g, "&lt;").replace(/>/g, "&gt;"); }
            return title ? link + ' "' + title + '"' : link;
        });
    }
    commandProto.doLinkOrImage = function (chunk, postProcessing, isImage) {
        chunk.trimWhitespace(); chunk.findTags(/\s*!?\[/, /\][ ]?(?:\n[ ]*)?(\[.*?\])?/); var background; if (chunk.endTag.length > 1) { chunk.startTag = chunk.startTag.replace(/!?\[/, ""); chunk.endTag = ""; this.addLinkDef(chunk, null); }
        else {
            if (/\n\n/.test(chunk.selection)) { this.addLinkDef(chunk, null); return; }
            var that = this; var linkEnteredCallback = function (link) {
                background.parentNode.removeChild(background); if (link !== null) {
                    chunk.startTag = chunk.endTag = ""; var linkDef = " [999]: " + properlyEncoded(link); var num = that.addLinkDef(chunk, linkDef); chunk.startTag = isImage ? "![" : "["; chunk.endTag = "][" + num + "]"; if (!chunk.selection) {
                        if (isImage) { chunk.selection = "enter image description here"; }
                        else { chunk.selection = "enter link description here"; } 
                    } 
                }
                postProcessing();
            }; background = ui.createBackground(); if (isImage) {
                if (!this.hooks.insertImageDialog(linkEnteredCallback))
                    ui.prompt(imageDialogText, imageDefaultText, linkEnteredCallback);
            }
            else { ui.prompt(linkDialogText, linkDefaultText, linkEnteredCallback); }
            return true;
        } 
    }; commandProto.doAutoindent = function (chunk, postProcessing) {
        var commandMgr = this; chunk.before = chunk.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/, "\n\n"); chunk.before = chunk.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/, "\n\n"); chunk.before = chunk.before.replace(/(\n|^)[ \t]+\n$/, "\n\n"); if (/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(chunk.before)) { if (commandMgr.doList) { commandMgr.doList(chunk); } }
        if (/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(chunk.before)) { if (commandMgr.doBlockquote) { commandMgr.doBlockquote(chunk); } }
        if (/(\n|^)(\t|[ ]{4,}).*\n$/.test(chunk.before)) { if (commandMgr.doCode) { commandMgr.doCode(chunk); } } 
    }; commandProto.doBlockquote = function (chunk, postProcessing) {
        chunk.selection = chunk.selection.replace(/^(\n*)([^\r]+?)(\n*)$/, function (totalMatch, newlinesBefore, text, newlinesAfter) { chunk.before += newlinesBefore; chunk.after = newlinesAfter + chunk.after; return text; }); chunk.before = chunk.before.replace(/(>[ \t]*)$/, function (totalMatch, blankLine) { chunk.selection = blankLine + chunk.selection; return ""; }); chunk.selection = chunk.selection.replace(/^(\s|>)+$/, ""); chunk.selection = chunk.selection || "Blockquote"; var match = "", leftOver = "", line; if (chunk.before) {
            var lines = chunk.before.replace(/\n$/, "").split("\n"); var inChain = false; for (var i = 0; i < lines.length; i++) {
                var good = false; line = lines[i]; inChain = inChain && line.length > 0; if (/^>/.test(line)) {
                    good = true; if (!inChain && line.length > 1)
                        inChain = true;
                } else if (/^[ \t]*$/.test(line)) { good = true; } else { good = inChain; }
                if (good) { match += line + "\n"; } else { leftOver += match + line; match = "\n"; } 
            }
            if (!/(^|\n)>/.test(match)) { leftOver += match; match = ""; } 
        }
        chunk.startTag = match; chunk.before = leftOver; if (chunk.after) { chunk.after = chunk.after.replace(/^\n?/, "\n"); }
        chunk.after = chunk.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/, function (totalMatch) { chunk.endTag = totalMatch; return ""; }); var replaceBlanksInTags = function (useBracket) {
            var replacement = useBracket ? "> " : ""; if (chunk.startTag) { chunk.startTag = chunk.startTag.replace(/\n((>|\s)*)\n$/, function (totalMatch, markdown) { return "\n" + markdown.replace(/^[ ]{0,3}>?[ \t]*$/gm, replacement) + "\n"; }); }
            if (chunk.endTag) { chunk.endTag = chunk.endTag.replace(/^\n((>|\s)*)\n/, function (totalMatch, markdown) { return "\n" + markdown.replace(/^[ ]{0,3}>?[ \t]*$/gm, replacement) + "\n"; }); } 
        }; if (/^(?![ ]{0,3}>)/m.test(chunk.selection)) { this.wrap(chunk, SETTINGS.lineLength - 2); chunk.selection = chunk.selection.replace(/^/gm, "> "); replaceBlanksInTags(true); chunk.skipLines(); } else {
            chunk.selection = chunk.selection.replace(/^[ ]{0,3}> ?/gm, ""); this.unwrap(chunk); replaceBlanksInTags(false); if (!/^(\n|^)[ ]{0,3}>/.test(chunk.selection) && chunk.startTag) { chunk.startTag = chunk.startTag.replace(/\n{0,2}$/, "\n\n"); }
            if (!/(\n|^)[ ]{0,3}>.*$/.test(chunk.selection) && chunk.endTag) { chunk.endTag = chunk.endTag.replace(/^\n{0,2}/, "\n\n"); } 
        }
        chunk.selection = this.hooks.postBlockquoteCreation(chunk.selection); if (!/\n/.test(chunk.selection)) { chunk.selection = chunk.selection.replace(/^(> *)/, function (wholeMatch, blanks) { chunk.startTag += blanks; return ""; }); } 
    }; commandProto.doCode = function (chunk, postProcessing) {
        var hasTextBefore = /\S[ ]*$/.test(chunk.before); var hasTextAfter = /^[ ]*\S/.test(chunk.after); if ((!hasTextAfter && !hasTextBefore) || /\n/.test(chunk.selection)) {
            chunk.before = chunk.before.replace(/[ ]{4}$/, function (totalMatch) { chunk.selection = totalMatch + chunk.selection; return ""; }); var nLinesBack = 1; var nLinesForward = 1; if (/\n(\t|[ ]{4,}).*\n$/.test(chunk.before)) { nLinesBack = 0; }
            if (/^\n(\t|[ ]{4,})/.test(chunk.after)) { nLinesForward = 0; }
            chunk.skipLines(nLinesBack, nLinesForward); if (!chunk.selection) { chunk.startTag = "    "; chunk.selection = "enter code here"; }
            else {
                if (/^[ ]{0,3}\S/m.test(chunk.selection)) { chunk.selection = chunk.selection.replace(/^/gm, "    "); }
                else { chunk.selection = chunk.selection.replace(/^[ ]{4}/gm, ""); } 
            } 
        }
        else {
            chunk.trimWhitespace(); chunk.findTags(/`/, /`/); if (!chunk.startTag && !chunk.endTag) { chunk.startTag = chunk.endTag = "`"; if (!chunk.selection) { chunk.selection = "enter code here"; } }
            else if (chunk.endTag && !chunk.startTag) { chunk.before += chunk.endTag; chunk.endTag = ""; }
            else { chunk.startTag = chunk.endTag = ""; } 
        } 
    }; commandProto.doList = function (chunk, postProcessing, isNumberedList) {
        var previousItemsRegex = /(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/; var nextItemsRegex = /^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/; var bullet = "-"; var num = 1; var getItemPrefix = function () {
            var prefix; if (isNumberedList) { prefix = " " + num + ". "; num++; }
            else { prefix = " " + bullet + " "; }
            return prefix;
        }; var getPrefixedItem = function (itemText) {
            if (isNumberedList === undefined) { isNumberedList = /^\s*\d/.test(itemText); }
            itemText = itemText.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm, function (_) { return getItemPrefix(); }); return itemText;
        }; chunk.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/, null); if (chunk.before && !/\n$/.test(chunk.before) && !/^\n/.test(chunk.startTag)) { chunk.before += chunk.startTag; chunk.startTag = ""; }
        if (chunk.startTag) {
            var hasDigits = /\d+[.]/.test(chunk.startTag); chunk.startTag = ""; chunk.selection = chunk.selection.replace(/\n[ ]{4}/g, "\n"); this.unwrap(chunk); chunk.skipLines(); if (hasDigits) { chunk.after = chunk.after.replace(nextItemsRegex, getPrefixedItem); }
            if (isNumberedList == hasDigits) { return; } 
        }
        var nLinesUp = 1; chunk.before = chunk.before.replace(previousItemsRegex, function (itemText) {
            if (/^\s*([*+-])/.test(itemText)) { bullet = re.$1; }
            nLinesUp = /[^\n]\n\n[^\n]/.test(itemText) ? 1 : 0; return getPrefixedItem(itemText);
        }); if (!chunk.selection) { chunk.selection = "List item"; }
        var prefix = getItemPrefix(); var nLinesDown = 1; chunk.after = chunk.after.replace(nextItemsRegex, function (itemText) { nLinesDown = /[^\n]\n\n[^\n]/.test(itemText) ? 1 : 0; return getPrefixedItem(itemText); }); chunk.trimWhitespace(true); chunk.skipLines(nLinesUp, nLinesDown, true); chunk.startTag = prefix; var spaces = prefix.replace(/./g, " "); this.wrap(chunk, SETTINGS.lineLength - spaces.length); chunk.selection = chunk.selection.replace(/\n/g, "\n" + spaces);
    }; commandProto.doHeading = function (chunk, postProcessing) {
        chunk.selection = chunk.selection.replace(/\s+/g, " "); chunk.selection = chunk.selection.replace(/(^\s+|\s+$)/g, ""); if (!chunk.selection) { chunk.startTag = "## "; chunk.selection = "Heading"; chunk.endTag = " ##"; return; }
        var headerLevel = 0; chunk.findTags(/#+[ ]*/, /[ ]*#+/); if (/#+/.test(chunk.startTag)) { headerLevel = re.lastMatch.length; }
        chunk.startTag = chunk.endTag = ""; chunk.findTags(null, /\s?(-+|=+)/); if (/=+/.test(chunk.endTag)) { headerLevel = 1; }
        if (/-+/.test(chunk.endTag)) { headerLevel = 2; }
        chunk.startTag = chunk.endTag = ""; chunk.skipLines(1, 1); var headerLevelToCreate = headerLevel == 0 ? 2 : headerLevel - 1; if (headerLevelToCreate > 0) {
            var headerChar = headerLevelToCreate >= 2 ? "-" : "="; var len = chunk.selection.length; if (len > SETTINGS.lineLength) { len = SETTINGS.lineLength; }
            chunk.endTag = "\n"; while (len--) { chunk.endTag += headerChar; } 
        } 
    }; commandProto.doHorizontalRule = function (chunk, postProcessing) { chunk.startTag = "----------\n"; chunk.selection = ""; chunk.skipLines(2, 1, true); }
})(); 
;
/*!
 * jQuery Tools v1.2.6 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * scrollable/scrollable.js
 * scrollable/scrollable.autoscroll.js
 * scrollable/scrollable.navigator.js
 * tooltip/tooltip.js
 * tooltip/tooltip.dynamic.js
 * tooltip/tooltip.slide.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(a){a.tools=a.tools||{version:"v1.2.6"},a.tools.overlay={addEffect:function(a,b,d){c[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var b=[],c={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),e=a(window);d.fixed||(b.top+=e.scrollTop(),b.left+=e.scrollLeft()),b.position=d.fixed?"fixed":"absolute",this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)});function d(d,e){var f=this,g=d.add(f),h=a(window),i,j,k,l=a.tools.expose&&(e.mask||e.expose),m=Math.random().toString().slice(10);l&&(typeof l=="string"&&(l={color:l}),l.closeOnClick=l.closeOnEsc=!1);var n=e.target||d.attr("rel");j=n?a(n):null||d;if(!j.length)throw"Could not find Overlay: "+n;d&&d.index(j)==-1&&d.click(function(a){f.load(a);return a.preventDefault()}),a.extend(f,{load:function(d){if(f.isOpened())return f;var i=c[e.effect];if(!i)throw"Overlay: cannot find effect : \""+e.effect+"\"";e.oneInstance&&a.each(b,function(){this.close(d)}),d=d||a.Event(),d.type="onBeforeLoad",g.trigger(d);if(d.isDefaultPrevented())return f;k=!0,l&&a(j).expose(l);var n=e.top,o=e.left,p=j.outerWidth({margin:!0}),q=j.outerHeight({margin:!0});typeof n=="string"&&(n=n=="center"?Math.max((h.height()-q)/2,0):parseInt(n,10)/100*h.height()),o=="center"&&(o=Math.max((h.width()-p)/2,0)),i[0].call(f,{top:n,left:o},function(){k&&(d.type="onLoad",g.trigger(d))}),l&&e.closeOnClick&&a.mask.getMask().one("click",f.close),e.closeOnClick&&a(document).bind("click."+m,function(b){a(b.target).parents(j).length||f.close(b)}),e.closeOnEsc&&a(document).bind("keydown."+m,function(a){a.keyCode==27&&f.close(a)});return f},close:function(b){if(!f.isOpened())return f;b=b||a.Event(),b.type="onBeforeClose",g.trigger(b);if(!b.isDefaultPrevented()){k=!1,c[e.effect][1].call(f,function(){b.type="onClose",g.trigger(b)}),a(document).unbind("click."+m).unbind("keydown."+m),l&&a.mask.close();return f}},getOverlay:function(){return j},getTrigger:function(){return d},getClosers:function(){return i},isOpened:function(){return k},getConf:function(){return e}}),a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){b&&a(f).bind(c,b);return f}}),i=j.find(e.close||".close"),!i.length&&!e.close&&(i=a("<a class=\"close\"></a>"),j.prepend(i)),i.click(function(a){f.close(a)}),e.load&&f.load()}a.fn.overlay=function(c){var e=this.data("overlay");if(e)return e;a.isFunction(c)&&(c={onBeforeLoad:c}),c=a.extend(!0,{},a.tools.overlay.conf,c),this.each(function(){e=new d(a(this),c),b.push(e),a(this).data("overlay",e)});return c.api?e:this}})(jQuery);
(function(a){a.tools=a.tools||{version:"v1.2.6"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};function b(a,b){var c=parseInt(a.css(b),10);if(c)return c;var d=a[0].currentStyle;return d&&d.width&&parseInt(d.width,10)}function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var d;function e(b,e){var f=this,g=b.add(f),h=b.children(),i=0,j=e.vertical;d||(d=f),h.length>1&&(h=a(e.items,b)),e.size>1&&(e.circular=!1),a.extend(f,{getConf:function(){return e},getIndex:function(){return i},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return n.add(o)},getRoot:function(){return b},getItemWrap:function(){return h},getItems:function(){return h.find(e.item).not("."+e.clonedClass)},move:function(a,b){return f.seekTo(i+a,b)},next:function(a){return f.move(e.size,a)},prev:function(a){return f.move(-e.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){d=f;return f},addItem:function(b){b=a(b),e.circular?(h.children().last().before(b),h.children().first().replaceWith(b.clone().addClass(e.clonedClass))):(h.append(b),o.removeClass("disabled")),g.trigger("onAddItem",[b]);return f},seekTo:function(b,c,k){b.jquery||(b*=1);if(e.circular&&b===0&&i==-1&&c!==0)return f;if(!e.circular&&b<0||b>f.getSize()||b<-1)return f;var l=b;b.jquery?b=f.getItems().index(b):l=f.getItems().eq(b);var m=a.Event("onBeforeSeek");if(!k){g.trigger(m,[b,c]);if(m.isDefaultPrevented()||!l.length)return f}var n=j?{top:-l.position().top}:{left:-l.position().left};i=b,d=f,c===undefined&&(c=e.speed),h.animate(n,c,e.easing,k||function(){g.trigger("onSeek",[b])});return f}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){b&&a(f).bind(c,b);return f}});if(e.circular){var k=f.getItems().slice(-1).clone().prependTo(h),l=f.getItems().eq(1).clone().appendTo(h);k.add(l).addClass(e.clonedClass),f.onBeforeSeek(function(a,b,c){if(!a.isDefaultPrevented()){if(b==-1){f.seekTo(k,c,function(){f.end(0)});return a.preventDefault()}b==f.getSize()&&f.seekTo(l,c,function(){f.begin(0)})}});var m=b.parents().add(b).filter(function(){if(a(this).css("display")==="none")return!0});m.length?(m.show(),f.seekTo(0,0,function(){}),m.hide()):f.seekTo(0,0,function(){})}var n=c(b,e.prev).click(function(a){a.stopPropagation(),f.prev()}),o=c(b,e.next).click(function(a){a.stopPropagation(),f.next()});e.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(n.toggleClass(e.disabledClass,b<=0),o.toggleClass(e.disabledClass,b>=f.getSize()-1))},1)}),e.initialIndex||n.addClass(e.disabledClass)),f.getSize()<2&&n.add(o).addClass(e.disabledClass),e.mousewheel&&a.fn.mousewheel&&b.mousewheel(function(a,b){if(e.mousewheel){f.move(b<0?1:-1,e.wheelSpeed||50);return!1}});if(e.touch){var p={};h[0].ontouchstart=function(a){var b=a.touches[0];p.x=b.clientX,p.y=b.clientY},h[0].ontouchmove=function(a){if(a.touches.length==1&&!h.is(":animated")){var b=a.touches[0],c=p.x-b.clientX,d=p.y-b.clientY;f[j&&d>0||!j&&c>0?"next":"prev"](),a.preventDefault()}}}e.keyboard&&a(document).bind("keydown.scrollable",function(b){if(!(!e.keyboard||b.altKey||b.ctrlKey||b.metaKey||a(b.target).is(":input"))){if(e.keyboard!="static"&&d!=f)return;var c=b.keyCode;if(j&&(c==38||c==40)){f.move(c==38?-1:1);return b.preventDefault()}if(!j&&(c==37||c==39)){f.move(c==37?-1:1);return b.preventDefault()}}}),e.initialIndex&&f.seekTo(e.initialIndex,0,function(){})}a.fn.scrollable=function(b){var c=this.data("scrollable");if(c)return c;b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){c=new e(a(this),b),a(this).data("scrollable",c)});return b.api?c:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(c){typeof c=="number"&&(c={interval:c});var d=a.extend({},b.autoscroll.conf,c),e;this.each(function(){var b=a(this).data("scrollable"),c=b.getRoot(),f,g=!1;function h(){f=setTimeout(function(){b.next()},d.interval)}b&&(e=b),b.play=function(){f||(g=!1,c.bind("onSeek",h),h())},b.pause=function(){f=clearTimeout(f),c.unbind("onSeek",h)},b.resume=function(){g||b.play()},b.stop=function(){g=!0,b.pause()},d.autopause&&c.add(b.getNaviButtons()).hover(b.pause,b.resume),d.autoplay&&b.play()});return d.api?e:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}};function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}a.fn.navigator=function(d){typeof d=="string"&&(d={navi:d}),d=a.extend({},b.navigator.conf,d);var e;this.each(function(){var b=a(this).data("scrollable"),f=d.navi.jquery?d.navi:c(b.getRoot(),d.navi),g=b.getNaviButtons(),h=d.activeClass,i=d.history&&history.pushState,j=b.getConf().size;b&&(e=b),b.getNaviButtons=function(){return g.add(f)},i&&(history.pushState({i:0}),a(window).bind("popstate",function(a){var c=a.originalEvent.state;c&&b.seekTo(c.i)}));function k(a,c,d){b.seekTo(c),d.preventDefault(),i&&history.pushState({i:c})}function l(){return f.find(d.naviItem||"> *")}function m(b){var c=a("<"+(d.naviItem||"a")+"/>").click(function(c){k(a(this),b,c)});b===0&&c.addClass(h),d.indexed&&c.text(b+1),d.idPrefix&&c.attr("id",d.idPrefix+b);return c.appendTo(f)}l().length?l().each(function(b){a(this).click(function(c){k(a(this),b,c)})}):a.each(b.getItems(),function(a){a%j==0&&m(a)}),b.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/j,d=l().eq(c);d.length&&l().removeClass(h).eq(c).addClass(h)}},1)}),b.onAddItem(function(a,c){var d=b.getItems().index(c);d%j==0&&m(d)})});return d.api?e:this}})(jQuery);
(function(a){a.tools=a.tools||{version:"v1.2.6"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;d<1&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();g=="center"&&(e+=h/2),g=="bottom"&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();g=="center"&&(f-=i/2),g=="left"&&(f-=i);return{top:e,left:f}}function d(d,e){var f=this,g=d.add(f),h,i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],n,o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw"Nonexistent effect \""+e.effect+"\"";r=r.split(/,\s*/);if(r.length!=2)throw"Tooltip: bad events configuration for "+q;d.bind(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).bind(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h){l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next()));if(!h.length)throw"Cannot find tooltip for "+d}if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]);if(b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\s*/);h.data("__set")||(h.unbind(p[0]).bind(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.unbind(p[1]).bind(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0));return f},hide:function(c){if(!h||!f.isShown())return f;c=a.Event(),c.type="onBeforeHide",g.trigger(c);if(!c.isDefaultPrevented()){n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)});return f}},isShown:function(a){return a?n=="full":n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){b&&a(f).bind(c,b);return f}})}a.fn.tooltip=function(b){var c=this.data("tooltip");if(c)return c;b=a.extend(!0,{},a.tools.tooltip.conf,b),typeof b.position=="string"&&(b.position=b.position.split(/,?\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)});return b.api?c:this}})(jQuery);
(function(a){var b=a.tools.tooltip;b.dynamic={conf:{classNames:"top right bottom left"}};function c(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function d(a){var b=a.length;while(b--)if(a[b])return!1;return!0}a.fn.dynamic=function(e){typeof e=="number"&&(e={speed:e}),e=a.extend({},b.dynamic.conf,e);var f=a.extend(!0,{},e),g=e.classNames.split(/\s/),h;this.each(function(){var b=a(this).tooltip().onBeforeShow(function(b,e){var i=this.getTip(),j=this.getConf();h||(h=[j.position[0],j.position[1],j.offset[0],j.offset[1],a.extend({},j)]),a.extend(j,h[4]),j.position=[h[0],h[1]],j.offset=[h[2],h[3]],i.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var k=a.extend(!0,{},f),l=c(i);if(!d(l)){l[2]&&(a.extend(j,k.top),j.position[0]="top",i.addClass(g[0])),l[3]&&(a.extend(j,k.right),j.position[1]="right",i.addClass(g[1])),l[0]&&(a.extend(j,k.bottom),j.position[0]="bottom",i.addClass(g[2])),l[1]&&(a.extend(j,k.left),j.position[1]="left",i.addClass(g[3]));if(l[0]||l[2])j.offset[0]*=-1;if(l[1]||l[3])j.offset[1]*=-1}i.css({visibility:"visible"}).hide()});b.onBeforeShow(function(){var a=this.getConf(),b=this.getTip();setTimeout(function(){a.position=[h[0],h[1]],a.offset=[h[2],h[3]]},0)}),b.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=b});return e.api?ret:this}})(jQuery);
(function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),e=b.slideFade?{opacity:b.opacity}:{},f=c[b.direction]||c.up;e[f[1]]=f[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(e,b.slideInSpeed,a)},function(b){var d=this.getConf(),e=d.slideOffset,f=d.slideFade?{opacity:0}:{},g=c[d.direction]||c.up,h=""+g[0];d.bounce&&(h=h=="+"?"-":"+"),f[g[1]]=h+"="+e,this.getTip().animate(f,d.slideOutSpeed,function(){a(this).hide(),b.call()})})})(jQuery);

/***
jQuery('#jquery-center-example p:first-child').center();
jQuery('#jquery-center-example p:last-child').center(true);
***/
jQuery.fn.center = function (absolute)
{
    return this.each(function ()
    {
        var t = jQuery(this);

        t.css({
            position: absolute ? 'absolute' : 'fixed',
            left: '50%',
            top: '0',
            zIndex: '10000'
        }).css({
            marginLeft: '-' + (t.outerWidth() / 2) + 'px',
            marginTop: '0'
        });

        if (absolute)
        {
            t.css({
                marginTop: parseInt(t.css('marginTop'), 10) + jQuery(window).scrollTop(),
                marginLeft: parseInt(t.css('marginLeft'), 10) + jQuery(window).scrollLeft()
            });
        }
    });
};
/*
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function (a) { var b = "unobtrusiveAjaxClick", g = "unobtrusiveValidation"; function c(d, b) { var a = window, c = (d || "").split("."); while (a && c.length) a = a[c.shift()]; if (typeof a === "function") return a; b.push(d); return Function.constructor.apply(null, b) } function d(a) { return a === "GET" || a === "POST" } function f(b, a) { !d(a) && b.setRequestHeader("X-HTTP-Method-Override", a) } function h(c, b, e) { var d; if (e.indexOf("application/x-javascript") !== -1) return; d = (c.getAttribute("data-ajax-mode") || "").toUpperCase(); a(c.getAttribute("data-ajax-update")).each(function (f, c) { var e; switch (d) { case "BEFORE": e = c.firstChild; a("<div />").html(b).contents().each(function () { c.insertBefore(this, e) }); break; case "AFTER": a("<div />").html(b).contents().each(function () { c.appendChild(this) }); break; default: a(c).html(b) } }) } function e(b, e) { var j, k, g, i; j = b.getAttribute("data-ajax-confirm"); if (j && !window.confirm(j)) return; k = a(b.getAttribute("data-ajax-loading")); i = b.getAttribute("data-ajax-loading-duration") || 0; a.extend(e, { type: b.getAttribute("data-ajax-method") || undefined, url: b.getAttribute("data-ajax-url") || undefined, beforeSend: function (d) { var a; f(d, g); a = c(b.getAttribute("data-ajax-begin"), ["xhr"]).apply(this, arguments); a !== false && k.show(i); return a }, complete: function () { k.hide(i); c(b.getAttribute("data-ajax-complete"), ["xhr", "status"]).apply(this, arguments) }, success: function (a, e, d) { h(b, a, d.getResponseHeader("Content-Type") || "text/html"); c(b.getAttribute("data-ajax-success"), ["data", "status", "xhr"]).apply(this, arguments) }, error: c(b.getAttribute("data-ajax-failure"), ["xhr", "status", "error"]) }); e.data.push({ name: "X-Requested-With", value: "XMLHttpRequest" }); g = e.type.toUpperCase(); if (!d(g)) { e.type = "POST"; e.data.push({ name: "X-HTTP-Method-Override", value: g }) } a.ajax(e) } function i(c) { var b = a(c).data(g); return !b || !b.validate || b.validate() } a("a[data-ajax=true]").live("click", function (a) { a.preventDefault(); e(this, { url: this.href, type: "GET", data: [] }) }); a("form[data-ajax=true] input[type=image]").live("click", function (c) { var g = c.target.name, d = a(c.target), f = d.parents("form")[0], e = d.offset(); a(f).data(b, [{ name: g + ".x", value: Math.round(c.pageX - e.left) }, { name: g + ".y", value: Math.round(c.pageY - e.top)}]); setTimeout(function () { a(f).removeData(b) }, 0) }); a("form[data-ajax=true] :submit").live("click", function (c) { var e = c.target.name, d = a(c.target).parents("form")[0]; a(d).data(b, e ? [{ name: e, value: c.target.value}] : []); setTimeout(function () { a(d).removeData(b) }, 0) }); a("form[data-ajax=true]").live("submit", function (d) { var c = a(this).data(b) || []; d.preventDefault(); if (!i(this)) return; e(this, { url: this.action, type: this.method || "GET", data: c.concat(a(this).serializeArray()) }) }) })(jQuery);

;
/**
 * jQuery Validation Plugin 1.8.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",
url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),
range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&
this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea",
"focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);
return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,
function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},
valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&
window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,
element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,
b){var d=this.errorsFor(a);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");
typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==
b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e=a.attr(d);if(e)b[d]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:
c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?
e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b=
{};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>
0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,
dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||
this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);

/*
 * jQuery Autocomplete plugin 1.2
 *
 * Copyright (c) 2009 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * With a small modifications by Alfonso Gómez-Arzola.
 * See changelog for details.
 *
 */;(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10,max:options&&!options.scroll?10:150},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},result:function(handler){return this.bind("result",handler);},search:function(handler){return this.trigger("search",[handler]);},flushCache:function(){return this.trigger("flushCache");},setOptions:function(options){return this.trigger("setOptions",[options]);},unautocomplete:function(){return this.trigger("unautocomplete");}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){hasFocus=1;lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:if(select.visible()){event.preventDefault();select.prev();}else{onChange(0,true);}break;case KEY.DOWN:if(select.visible()){event.preventDefault();select.next();}else{onChange(0,true);}break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();blockSubmit=true;return false;}break;case KEY.ESC:select.hide();break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(){hasFocus++;}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).bind("search",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}if(typeof fn=="function")fn(result);else $input.trigger("result",result&&[result.data,result.value]);}$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).bind("flushCache",function(){cache.flush();}).bind("setOptions",function(){$.extend(true,options,arguments[1]);if("data"in arguments[1])cache.populate();}).bind("unautocomplete",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete");});function selectCurrent(){var selected=select.selected();if(!selected)return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){var seperator=options.multipleSeparator.length;var cursorAt=$(input).selection().start;var wordAt,progress=0;$.each(words,function(i,word){progress+=word.length;if(cursorAt<=progress){wordAt=i;return false;}progress+=seperator;});words[wordAt]=v;v=words.join(options.multipleSeparator);}v+=options.multipleSeparator;}$input.val(v);hideResultsNow();$input.trigger("result",[selected.data,selected.value]);return true;}function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL){select.hide();return;}var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){$input.addClass(options.loadingClass);if(!options.matchCase)currentValue=currentValue.toLowerCase();request(currentValue,receiveData,hideResultsNow);}else{stopLoading();select.hide();}};function trimWords(value){if(!value)return[""];if(!options.multiple)return[$.trim(value)];return $.map(value.split(options.multipleSeparator),function(word){return $.trim(value).length?$.trim(word):null;});}function lastWord(value){if(!options.multiple)return value;var words=trimWords(value);if(words.length==1)return words[0];var cursorAt=$(input).selection().start;if(cursorAt==value.length){words=trimWords(value)}else{words=trimWords(value.replace(value.substring(cursorAt),""));}return words[words.length-1];}function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$(input).selection(previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){var wasVisible=select.visible();select.hide();clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.search(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}else{$input.val("");$input.trigger("result",null);}}});}};function receiveData(q,data){if(data&&data.length&&hasFocus){stopLoading();select.display(data,q);autoFill(q,data[0].value);select.show();}else{hideResultsNow();}};function request(term,success,failure){if(!options.matchCase)term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),success:function(data){var parsed=options.parse&&options.parse(data)||parse(data);cache.add(term,parsed);success(term,parsed);}});}else{select.emptyList();failure(term);}};function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}return parsed;};function stopLoading(){$input.removeClass(options.loadingClass);};};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:" ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(options.matchContains=="word"){i=s.toLowerCase().search("\\b"+sub.toLowerCase());}if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(length>options.cacheLength){flush();}if(!data[q]){length++;}data[q]=value;}function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}setTimeout(populate,25);function flush(){data={};length=0;}return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}return csub;}else
if(data[q]){return data[q];}else
if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}return null;}};};$.Autocompleter.Select=function(options,input,select,config){var CLASSES={ACTIVE:"ac_over"};var listItems,active=-1,data,term="",needsInit=true,element,list;function init(){if(!needsInit)return;element=$("<div/>").hide().addClass(options.resultsClass).css("position","absolute").appendTo(document.body);list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(CLASSES.ACTIVE).index(target(event));$(target(event)).addClass(CLASSES.ACTIVE);}}).click(function(event){$(target(event)).addClass(CLASSES.ACTIVE);select();input.focus();return false;}).mousedown(function(){config.mouseDownOnSelect=true;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.width>0)element.css("width",options.width);needsInit=false;}function target(event){var element=event.target;while(element&&element.tagName!="LI")element=element.parentNode;if(!element)return[];return element;}function moveSelect(step){listItems.slice(active,active+1).removeClass(CLASSES.ACTIVE);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(CLASSES.ACTIVE);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)continue;var li=$("<li/>").html(options.highlight(formatted,term)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(list)[0];$.data(li,"ac_data",data[i]);}listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(CLASSES.ACTIVE);active=0;}if($.fn.bgiframe)list.bgiframe();}return{display:function(d,q){init();data=d;term=q;fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();listItems&&listItems.removeClass(CLASSES.ACTIVE);active=-1;},visible:function(){return element&&element.is(":visible");},current:function(){return this.visible()&&(listItems.filter("."+CLASSES.ACTIVE)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=$(input).offset();element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).width(),top:offset.top+input.offsetHeight,left:offset.left}).show();if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+CLASSES.ACTIVE).removeClass(CLASSES.ACTIVE);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){list&&list.empty();},unbind:function(){element&&element.remove();}};};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){if(this.createTextRange){var selRange=this.createTextRange();if(end===undefined||start==end){selRange.move("character",start);selRange.select();}else{selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}}else if(this.setSelectionRange){this.setSelectionRange(start,end);}else if(this.selectionStart){this.selectionStart=start;this.selectionEnd=end;}});}var field=this[0];if(field.createTextRange){var range=document.selection.createRange(),orig=field.value,teststring="<->",textLength=range.text.length;range.text=teststring;var caretAt=field.value.indexOf(teststring);field.value=orig;this.selection(caretAt,caretAt+textLength);return{start:caretAt,end:caretAt+textLength}}else if(field.selectionStart!==undefined){return{start:field.selectionStart,end:field.selectionEnd}}};})(jQuery);
/* ------------------------------------------------------------------------
	Class: prettyPhoto
	Use: Lightbox clone for jQuery
	Author: Stephane Caron (http://www.no-margin-for-errors.com)
	Version: 3.1.2
------------------------------------------------------------------------- */

(function($){$.prettyPhoto={version:'3.1.2'};$.fn.prettyPhoto=function(pp_settings){pp_settings=jQuery.extend({animation_speed:'fast',slideshow:5000,autoplay_slideshow:false,opacity:0.80,show_title:true,allow_resize:true,default_width:500,default_height:344,counter_separator_label:'/',theme:'pp_default',horizontal_padding:20,hideflash:false,wmode:'opaque',autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"><div class="ppt">&nbsp;</div><div class="pp_top"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div><div class="pp_content_container"><div class="pp_left"><div class="pp_right"><div class="pp_content"><div class="pp_loaderIcon"></div><div class="pp_fade"><a href="#" class="pp_expand" title="Expand the image">Expand</a><div class="pp_hoverContainer"><a class="pp_next" href="#">next</a><a class="pp_previous" href="#">previous</a></div><div id="pp_full_res"></div><div class="pp_details"><div class="pp_nav"><a href="#" class="pp_arrow_previous">Previous</a><p class="currentTextHolder">0/0</p><a href="#" class="pp_arrow_next">Next</a></div><p class="pp_description"></p>{pp_social}<a class="pp_close" href="#">Close</a></div></div></div></div></div></div><div class="pp_bottom"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div></div><div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"><a href="#" class="pp_arrow_previous">Previous</a><div><ul>{gallery}</ul></div><a href="#" class="pp_arrow_next">Next</a></div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:'',social_tools:'<div class="pp_social"><div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?locale=en_US&href='+location.href+'&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div></div>'},pp_settings);var matchedObjects=this,percentBased=false,pp_dimensions,pp_open,pp_contentHeight,pp_contentWidth,pp_containerHeight,pp_containerWidth,windowHeight=$(window).height(),windowWidth=$(window).width(),pp_slideshow;doresize=true,scroll_pos=_get_scroll();$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){_center_overlay();_resize_overlay();});if(pp_settings.keyboard_shortcuts){$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){if(typeof $pp_pic_holder!='undefined'){if($pp_pic_holder.is(':visible')){switch(e.keyCode){case 37:$.prettyPhoto.changePage('previous');e.preventDefault();break;case 39:$.prettyPhoto.changePage('next');e.preventDefault();break;case 27:if(!settings.modal)
$.prettyPhoto.close();e.preventDefault();break;};};};});};$.prettyPhoto.initialize=function(){settings=pp_settings;if(settings.theme=='pp_default')settings.horizontal_padding=16;if(settings.ie6_fallback&&$.browser.msie&&parseInt($.browser.version)==6)settings.theme="light_square";theRel=$(this).attr('rel');galleryRegExp=/\[(?:.*)\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return $(n).attr('href');}):$.makeArray($(this).attr('href'));pp_titles=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return($(n).find('img').attr('alt'))?$(n).find('img').attr('alt'):"";}):$.makeArray($(this).find('img').attr('alt'));pp_descriptions=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return($(n).attr('title'))?$(n).attr('title'):"";}):$.makeArray($(this).attr('title'));set_position=jQuery.inArray($(this).attr('href'),pp_images);rel_index=(isSet)?set_position:$("a[rel^='"+theRel+"']").index($(this));_build_overlay(this);if(settings.allow_resize)
$(window).bind('scroll.prettyphoto',function(){_center_overlay();});$.prettyPhoto.open();return false;}
$.prettyPhoto.open=function(event){if(typeof settings=="undefined"){settings=pp_settings;if($.browser.msie&&$.browser.version==6)settings.theme="light_square";pp_images=$.makeArray(arguments[0]);pp_titles=(arguments[1])?$.makeArray(arguments[1]):$.makeArray("");pp_descriptions=(arguments[2])?$.makeArray(arguments[2]):$.makeArray("");isSet=(pp_images.length>1)?true:false;set_position=0;_build_overlay(event.target);}
if($.browser.msie&&$.browser.version==6)$('select').css('visibility','hidden');if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden');_checkPosition($(pp_images).size());$('.pp_loaderIcon').show();if($ppt.is(':hidden'))$ppt.css('opacity',0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find('.currentTextHolder').text((set_position+1)+settings.counter_separator_label+$(pp_images).size());if(pp_descriptions[set_position]!=""){$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));}else{$pp_pic_holder.find('.pp_description').hide();}
movie_width=(parseFloat(getParam('width',pp_images[set_position])))?getParam('width',pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(getParam('height',pp_images[set_position])))?getParam('height',pp_images[set_position]):settings.default_height.toString();percentBased=false;if(movie_height.indexOf('%')!=-1){movie_height=parseFloat(($(window).height()*parseFloat(movie_height)/100)-150);percentBased=true;}
if(movie_width.indexOf('%')!=-1){movie_width=parseFloat(($(window).width()*parseFloat(movie_width)/100)-150);percentBased=true;}
$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html('&nbsp;');imgPreloader="";skipInjection=false;switch(_getFileType(pp_images[set_position])){case'image':imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<$(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image();if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find('#pp_full_res')[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){pp_dimensions=_fitToViewport(imgPreloader.width,imgPreloader.height);_showContent();};imgPreloader.onerror=function(){alert('Image cannot be loaded. Make sure the path is correct and image exist.');$.prettyPhoto.close();};imgPreloader.src=pp_images[set_position];break;case'youtube':pp_dimensions=_fitToViewport(movie_width,movie_height);movie='http://www.youtube.com/embed/'+getParam('v',pp_images[set_position]);(getParam('rel',pp_images[set_position]))?movie+="?rel="+getParam('rel',pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case'vimeo':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=pp_images[set_position];var regExp=/http:\/\/(www\.)?vimeo.com\/(\d+)/;var match=movie_id.match(regExp);movie='http://player.vimeo.com/video/'+match[2]+'?title=0&amp;byline=0&amp;portrait=0';if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=pp_dimensions['width']+'/embed/?moog_width='+pp_dimensions['width'];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);break;case'quicktime':pp_dimensions=_fitToViewport(movie_width,movie_height);pp_dimensions['height']+=15;pp_dimensions['contentHeight']+=15;pp_dimensions['containerHeight']+=15;toInject=settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case'flash':pp_dimensions=_fitToViewport(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf('flashvars')+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf('?'));toInject=settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);break;case'iframe':pp_dimensions=_fitToViewport(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf('iframe')-1);toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);break;case'ajax':doresize=false;pp_dimensions=_fitToViewport(movie_width,movie_height);doresize=true;skipInjection=true;$.get(pp_images[set_position],function(responseHTML){toInject=settings.inline_markup.replace(/{content}/g,responseHTML);$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();});break;case'custom':pp_dimensions=_fitToViewport(movie_width,movie_height);toInject=settings.custom_markup;break;case'inline':myClone=$(pp_images[set_position]).clone().append('<br clear="all" />').css({'width':settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo($('body')).show();doresize=false;pp_dimensions=_fitToViewport($(myClone).width(),$(myClone).height());doresize=true;$(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());break;};if(!imgPreloader&&!skipInjection){$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();};});return false;};$.prettyPhoto.changePage=function(direction){currentGalleryPage=0;if(direction=='previous'){set_position--;if(set_position<0)set_position=$(pp_images).size()-1;}else if(direction=='next'){set_position++;if(set_position>$(pp_images).size()-1)set_position=0;}else{set_position=direction;};rel_index=set_position;if(!doresize)doresize=true;$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');_hideContent(function(){$.prettyPhoto.open();});};$.prettyPhoto.changeGalleryPage=function(direction){if(direction=='next'){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0;}else if(direction=='previous'){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage;}else{currentGalleryPage=direction;};slide_speed=(direction=='next'||direction=='previous')?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);};$.prettyPhoto.startSlideshow=function(){if(typeof pp_slideshow=='undefined'){$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){$.prettyPhoto.stopSlideshow();return false;});pp_slideshow=setInterval($.prettyPhoto.startSlideshow,settings.slideshow);}else{$.prettyPhoto.changePage('next');};}
$.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});clearInterval(pp_slideshow);pp_slideshow=undefined;}
$.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;$.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){$(this).remove();});$pp_overlay.fadeOut(settings.animation_speed,function(){if($.browser.msie&&$.browser.version==6)$('select').css('visibility','visible');if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible');$(this).remove();$(window).unbind('scroll.prettyphoto');settings.callback();doresize=true;pp_open=false;delete settings;});};function _showContent(){$('.pp_loaderIcon').hide();projectedTop=scroll_pos['scrollTop']+((windowHeight/2)-(pp_dimensions['containerHeight']/2));if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find('.pp_content').animate({height:pp_dimensions['contentHeight'],width:pp_dimensions['contentWidth']},settings.animation_speed);$pp_pic_holder.animate({'top':projectedTop,'left':(windowWidth/2)-(pp_dimensions['containerWidth']/2),width:pp_dimensions['containerWidth']},settings.animation_speed,function(){$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed);if(isSet&&_getFileType(pp_images[set_position])=="image"){$pp_pic_holder.find('.pp_hoverContainer').show();}else{$pp_pic_holder.find('.pp_hoverContainer').hide();}
if(pp_dimensions['resized']){$('a.pp_expand,a.pp_contract').show();}else{$('a.pp_expand').hide();}
if(settings.autoplay_slideshow&&!pp_slideshow&&!pp_open)$.prettyPhoto.startSlideshow();if(settings.deeplinking)
setHashtag();settings.changepicturecallback();pp_open=true;});_insert_gallery();};function _hideContent(callback){$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){$('.pp_loaderIcon').show();callback();});};function _checkPosition(setCount){(setCount>1)?$('.pp_nav').show():$('.pp_nav').hide();};function _fitToViewport(width,height){resized=false;_getDimensions(width,height);imageWidth=width,imageHeight=height;if(((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight))&&doresize&&settings.allow_resize&&!percentBased){resized=true,fitting=false;while(!fitting){if((pp_containerWidth>windowWidth)){imageWidth=(windowWidth-200);imageHeight=(height/width)*imageWidth;}else if((pp_containerHeight>windowHeight)){imageHeight=(windowHeight-200);imageWidth=(width/height)*imageHeight;}else{fitting=true;};pp_containerHeight=imageHeight,pp_containerWidth=imageWidth;};_getDimensions(imageWidth,imageHeight);if((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight)){_fitToViewport(pp_containerWidth,pp_containerHeight)};};return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(pp_containerHeight),containerWidth:Math.floor(pp_containerWidth)+(settings.horizontal_padding*2),contentHeight:Math.floor(pp_contentHeight),contentWidth:Math.floor(pp_contentWidth),resized:resized};};function _getDimensions(width,height){width=parseFloat(width);height=parseFloat(height);$pp_details=$pp_pic_holder.find('.pp_details');$pp_details.width(width);detailsHeight=parseFloat($pp_details.css('marginTop'))+parseFloat($pp_details.css('marginBottom'));$pp_details=$pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({'position':'absolute','top':-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;if($.browser.msie&&$.browser.version==7)detailsHeight+=8;$pp_details.remove();$pp_title=$pp_pic_holder.find('.ppt');$pp_title.width(width);titleHeight=parseFloat($pp_title.css('marginTop'))+parseFloat($pp_title.css('marginBottom'));$pp_title=$pp_title.clone().appendTo($('body')).css({'position':'absolute','top':-10000});titleHeight+=$pp_title.height();$pp_title.remove();pp_contentHeight=height+detailsHeight;pp_contentWidth=width;pp_containerHeight=pp_contentHeight+titleHeight+$pp_pic_holder.find('.pp_top').height()+$pp_pic_holder.find('.pp_bottom').height();pp_containerWidth=width;}
function _getFileType(itemSrc){if(itemSrc.match(/youtube\.com\/watch/i)){return'youtube';}else if(itemSrc.match(/vimeo\.com/i)){return'vimeo';}else if(itemSrc.match(/\b.mov\b/i)){return'quicktime';}else if(itemSrc.match(/\b.swf\b/i)){return'flash';}else if(itemSrc.match(/\biframe=true\b/i)){return'iframe';}else if(itemSrc.match(/\bajax=true\b/i)){return'ajax';}else if(itemSrc.match(/\bcustom=true\b/i)){return'custom';}else if(itemSrc.substr(0,1)=='#'){return'inline';}else{return'image';};};function _center_overlay(){if(doresize&&typeof $pp_pic_holder!='undefined'){scroll_pos=_get_scroll();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(windowHeight/2)+scroll_pos['scrollTop']-(contentHeight/2);if(projectedTop<0)projectedTop=0;if(contentHeight>windowHeight)
return;$pp_pic_holder.css({'top':projectedTop,'left':(windowWidth/2)+scroll_pos['scrollLeft']-(contentwidth/2)});};};function _get_scroll(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};};};function _resize_overlay(){windowHeight=$(window).height(),windowWidth=$(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height($(document).height()).width(windowWidth);};function _insert_gallery(){if(isSet&&settings.overlay_gallery&&_getFileType(pp_images[set_position])=="image"&&(settings.ie6_fallback&&!($.browser.msie&&parseInt($.browser.version)==6))){itemWidth=52+5;navWidth=(settings.theme=="facebook"||settings.theme=="pp_default")?50:30;itemsPerPage=Math.floor((pp_dimensions['containerWidth']-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();}else{$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();};galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css('margin-left',-((galleryWidth/2)+(navWidth/2))).find('div:first').width(galleryWidth+5).find('ul').width(fullGalleryWidth).find('li.selected').removeClass('selected');goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;$.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');}else{$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');}}
function _build_overlay(caller){settings.markup=settings.markup.replace('{pp_social}',(settings.social_tools)?settings.social_tools:'');$('body').append(settings.markup);$pp_pic_holder=$('.pp_pic_holder'),$ppt=$('.ppt'),$pp_overlay=$('div.pp_overlay');if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var i=0;i<pp_images.length;i++){if(!pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname='default';img_src='';}else{classname='';img_src=pp_images[i];}
toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";};toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find('#pp_full_res').after(toInject);$pp_gallery=$('.pp_pic_holder .pp_gallery'),$pp_gallery_li=$pp_gallery.find('li');$pp_gallery.find('.pp_arrow_next').click(function(){$.prettyPhoto.changeGalleryPage('next');$.prettyPhoto.stopSlideshow();return false;});$pp_gallery.find('.pp_arrow_previous').click(function(){$.prettyPhoto.changeGalleryPage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_content').hover(function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();},function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();});itemWidth=52+5;$pp_gallery_li.each(function(i){$(this).find('a').click(function(){$.prettyPhoto.changePage(i);$.prettyPhoto.stopSlideshow();return false;});});};if(settings.slideshow){$pp_pic_holder.find('.pp_nav').prepend('<a href="#" class="pp_play">Play</a>')
$pp_pic_holder.find('.pp_nav .pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});}
$pp_pic_holder.attr('class','pp_pic_holder '+settings.theme);$pp_overlay.css({'opacity':0,'height':$(document).height(),'width':$(window).width()}).bind('click',function(){if(!settings.modal)$.prettyPhoto.close();});$('a.pp_close').bind('click',function(){$.prettyPhoto.close();return false;});$('a.pp_expand').bind('click',function(e){if($(this).hasClass('pp_expand')){$(this).removeClass('pp_expand').addClass('pp_contract');doresize=false;}else{$(this).removeClass('pp_contract').addClass('pp_expand');doresize=true;};_hideContent(function(){$.prettyPhoto.open();});return false;});$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){$.prettyPhoto.changePage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){$.prettyPhoto.changePage('next');$.prettyPhoto.stopSlideshow();return false;});_center_overlay();};if(!pp_alreadyInitialized&&getHashtag()){pp_alreadyInitialized=true;hashIndex=getHashtag();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf('/'));setTimeout(function(){$("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger('click');},50);}
return this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize);};function getHashtag(){url=location.href;hashtag=(url.indexOf('#!')!=-1)?decodeURI(url.substring(url.indexOf('#!')+2,url.length)):false;return hashtag;};function setHashtag(){if(typeof theRel=='undefined')return;location.hash='!'+theRel+'/'+rel_index+'/';};function getParam(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);return(results==null)?"":results[1];}})(jQuery);var pp_alreadyInitialized=false;
(function($){var textarea,staticOffset;var iLastMousePos=0;var iMin=32;var grip;$.fn.TextAreaResizer=function(){return this.each(function(){textarea=$(this).addClass('processed'),staticOffset=null;$(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append($('<div class="grippie"></div>').bind("mousedown",{el:this},startDrag));var grippie=$('div.grippie',$(this).parent())[0];grippie.style.marginRight=(grippie.offsetWidth-$(this)[0].offsetWidth)+'px'})};function startDrag(e){textarea=$(e.data.el);textarea.blur();iLastMousePos=mousePosition(e).y;staticOffset=textarea.height()-iLastMousePos;textarea.css('opacity',0.25);$(document).mousemove(performDrag).mouseup(endDrag);return false}function performDrag(e){var iThisMousePos=mousePosition(e).y;var iMousePos=staticOffset+iThisMousePos;if(iLastMousePos>=(iThisMousePos)){iMousePos-=5}iLastMousePos=iThisMousePos;iMousePos=Math.max(iMin,iMousePos);textarea.height(iMousePos+'px');if(iMousePos<iMin){endDrag(e)}return false}function endDrag(e){$(document).unbind('mousemove',performDrag).unbind('mouseup',endDrag);textarea.css('opacity',1);textarea.focus();textarea=null;staticOffset=null;iLastMousePos=0}function mousePosition(e){return{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}}})(jQuery);
(function(a){try{if(document.execCommand){document.execCommand("BackgroundImageCache",false,true)}}catch(u){}var q=/\d/;var au=/\s+/;var at=parseInt(a.browser.version.substring(0,5).replace(".",""));var E=a.browser.mozilla&&at>=180&&at<=191;var r=/d{1,4}|M{1,4}|yy(?:yy)?|([Hhmstf])\1*|"[^"]*"|'[^']*'/g;var S=(navigator.userAgent.search(/like\sMac\sOS\sX;.*Mobile\/\S+/)!=-1);var T=(navigator.userAgent.search(/4_1\slike\sMac\sOS\sX;.*Mobile\/\S+/)!=-1);var ar=(function(){var e=new a.Event("triggerHandlerTest");a("<div />").triggerHandler(e);return !e.isDefaultPrevented()})();var b=a.telerik={create:function(ax,ay){var e=ay.name;var aw=a.extend({},a.fn[e].defaults,ay.options);return ax.each(function(){var az=a(this);aw=a.meta?a.extend({},aw,az.data()):aw;if(!az.data(e)){var aA=ay.init(this,aw);az.data(e,aA);b.trigger(this,"load");if(ay.success){ay.success(aA)}}})},toJson:function(e){function ax(ay){return"["+a.map(ay,aw).join(",")+"]"}function aw(az){var aA=[];for(var ay in az){var aB=az[ay];if(a.isArray(aB)){aA.push('"'+ay+'":'+ax(aB))}else{if(typeof aB!="object"){aA.push('"'+ay+'":"'+(aB==null?"":aB)+'"')}else{aA.push('"'+ay+'":'+aw(aB))}}}return"{"+aA.join(",")+"}"}if(a.isArray(e)){return ax(e)}else{return aw(e)}},delegate:function(e,aw){return function(ax){aw.apply(e,[ax,this])}},stop:function(aw,e){return function(ax){ax.stopPropagation();aw.apply(e||this,arguments)}},stopAll:function(aw,e){return function(ax){ax.preventDefault();ax.stopPropagation();aw.apply(e||this,arguments)}},bind:function(aw,ax){var e=a(aw.element?aw.element:aw);a.each(ax,function(ay){if(a.isFunction(this)){e.bind(ay,this)}})},preventDefault:function(aw){aw.preventDefault()},hover:function(){a(this).addClass("t-state-hover")},leave:function(){a(this).removeClass("t-state-hover")},buttonHover:function(){a(this).addClass("t-button-hover")},buttonLeave:function(){a(this).removeClass("t-button-hover")},stringBuilder:function(){this.buffer=[]},ajaxError:function(e,aw,az,ay){var ax=this.trigger(e,aw,{XMLHttpRequest:az,textStatus:ay});if(!ax){if(ay=="error"&&az.status!="0"){alert("Error! The requested URL returned "+az.status+" - "+az.statusText)}if(ay=="timeout"){alert("Error! Server timeout.")}}return ax},trigger:function(ax,ay,aw){aw=a.extend(aw||{},new a.Event(ay));if(ar){a(ax).triggerHandler(aw)}else{aw.stopPropagation();a(ax).trigger(aw)}return aw.isDefaultPrevented()},getType:function(e){if(e instanceof Date){return"date"}if(typeof e==="number"){return"number"}return"object"},formatString:function(){var aB=arguments[0];for(var ax=0,ay=arguments.length-1;ax<ay;ax++){var aA=new RegExp("\\{"+ax+"(:([^\\}]+))?\\}","gm");var e=arguments[ax+1];var aw=this.formatters[this.getType(e)];if(aw){var az=aA.exec(aB);if(az){e=aw(e,az[2])}}aB=aB.replace(aA,function(){return e})}return aB},splitClassesFromAttr:function(e){var ax=/class="([^"]*)"/i,ay={classes:"",attributes:""},aw;if(e){aw=ax.exec(e);ay.attributes=a.trim(e.replace(ax,""));if(aw){ay.classes=aw[1]}}return ay},getElementZIndex:function(e){var aw;a(e).parents().andSelf().each(function(){aw=a(this).css("zIndex");if(Number(aw)){aw=Number(aw)+1;return false}});return aw=="auto"?1:aw},scrollbarWidth:function(){var e=document.createElement("div"),aw;e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1";e.innerHTML="&nbsp;";document.body.appendChild(e);aw=e.offsetWidth-e.scrollWidth;document.body.removeChild(e);return aw},lastIndexOf:function(ay,e){var aw=e.length;for(var ax=ay.length-1;ax>-1;ax--){if(ay.substr(ax,aw)==e){return ax}}return -1},caretPos:function(e){var aw=-1;if(document.selection){aw=Math.abs(e.document.selection.createRange().moveStart("character",-e.value.length))}else{if(e.selectionStart!==undefined){aw=e.selectionStart}}return aw},encode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;").replace(/'/g,"&#39;")},formatters:{},fx:{},cultureInfo:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longTime:"h:mm:ss tt",longDate:"dddd, MMMM dd, yyyy",shortDate:"M/d/yyyy",shortTime:"h:mm tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",generalDateShortTime:"M/d/yyyy h:mm tt",generalDateTime:"M/d/yyyy h:mm:ss tt",sortableDateTime:"yyyy'-'MM'-'ddTHH':'mm':'ss",universalSortableDateTime:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",monthYear:"MMMM, yyyy",monthDay:"MMMM dd",today:"today",tomorrow:"tomorrow",yesterday:"yesterday",next:"next",last:"last",year:"year",month:"month",week:"week",day:"day",am:"AM",pm:"PM",dateSeparator:"/",timeSeparator:":",firstDayOfWeek:0,currencydecimaldigits:2,currencydecimalseparator:".",currencygroupseparator:",",currencygroupsize:3,currencynegative:0,currencypositive:0,currencysymbol:"$",numericdecimaldigits:2,numericdecimalseparator:".",numericgroupseparator:",",numericgroupsize:3,numericnegative:1,percentdecimaldigits:2,percentdecimalseparator:".",percentgroupseparator:",",percentgroupsize:3,percentnegative:0,percentpositive:0,percentsymbol:"%"},patterns:{numeric:{negative:["(n)","-n","- n","n-","n -"]},currency:{positive:["*n","n*","* n","n *"],negative:["(*n)","-*n","*-n","*n-","(n*)","-n*","n-*","n*-","-n *","-* n","n *-","* n-","* -n","n- *","(* n)","(n *)"]},percent:{positive:["n *","n*","*n"],negative:["-n *","-n*","-*n"]}}};var B,R;if(Array.prototype.filter!==undefined){B=function(e,aw){return e.filter(aw)}}else{B=function(e,ay){var az=[],ax=e.length;for(var aw=0;aw<ax;aw++){var aA=e[aw];if(ay(aA,aw,e)){az[az.length]=aA}}return az}}if(Array.prototype.map!==undefined){R=function(e,aw){return e.map(aw)}}else{R=function(e,aw){var ay=e.length,az=new Array(ay);for(var ax=0;ax<ay;ax++){az[ax]=aw(e[ax],ax,e)}return az}}b.dropDown=function(e){a.extend(this,e);this.$element=a(new b.stringBuilder().cat("<div ").catIf(e.attr,e.attr).cat('><ul class="t-reset"></ul></div>').string()).addClass("t-popup t-group").hide();this.$element.delegate(".t-reset > .t-item","mouseenter",b.hover).delegate(".t-reset > .t-item","mouseleave",b.leave).delegate(".t-reset > .t-item","click",a.proxy(function(aw){if(this.onClick){this.onClick(a.extend(aw,{item:a(aw.target).closest(".t-item")[0]}))}},this));this.$element.tScrollable()};b.dropDown.prototype={_html:function(aw,aB){var az=new b.stringBuilder();if(aw){for(var aA=0,aC=aw.length;aA<aC;aA++){var aD="&nbsp;",ax=aw[aA];if(ax){if(ax.Text!==undefined){aD=ax.Text}else{aD=ax}if(aB){aD=b.encode(aD)}if(!aD||!aD.replace(au,"")){aD="&nbsp;"}}var ay={html:aD,dataItem:ax};if(this.onItemCreate){this.onItemCreate(ay)}az.cat('<li unselectable="on" class="t-item">').cat(ay.html).cat("</li>")}}return az.string()},open:function(ax){if(this.onOpen){this.onOpen()}if(this.isOpened()||!this.$items){return}var e=this.$element,ay;if(!e.parent()[0]){e.hide().appendTo(document.body)}if(e[0].style.width==""){ay=ax.outerWidth?ax.outerWidth-2:0}else{ay=parseInt(this.attr?a("<div"+this.attr+"></div>")[0].style.width:e[0].style.width)}e.css("overflowY","auto").css("width",ay);var aw=ax.offset;aw.top+=ax.outerHeight;if(S){if(!document.body.scrollLeft&&!T){aw.left-=window.pageXOffset}if(!document.body.scrollTop&&!T){aw.top-=window.pageYOffset}}b.fx._wrap(e).css(a.extend({position:"absolute",zIndex:ax.zIndex},aw));if(E){e.css("overflow","hidden")}e.parent().show();b.fx.play(this.effects,e,{direction:"bottom"},a.proxy(function(){e.css("overflow","auto");var aA=e.css("height");if(aA=="auto"||aA!="100%"){e.css("height","100%")}var az=this.$items.filter(".t-state-selected");if(az.length){this.scrollTo(az[0])}},this))},close:function(ay){if(!this.isOpened()){return}var aw=this.$element;var ax=this.$items;if(E){aw.css("overflow","hidden")}b.fx.rewind(this.effects,aw,{direction:"bottom"},function(){if(E){aw.css("overflow","auto")}if(ax){ax.removeClass("t-state-hover")}if(aw.parent(".t-animation-container")[0]){aw.parent().hide()}})},dataBind:function(ay,aB){ay=ay||[];var e=this.$element;if(e[0].style.height=="100%"){e.css("height","auto")}var az=e[0].style.height,aA=az&&az!="auto"?az:"200px",ax=e.find("> ul");ax[0].innerHTML=this._html(ay,aB);var aw=this.$items=ax.children();e.css("height",aw.length>10?aA:"auto")},highlight:function(e){return a(e).addClass("t-state-selected").siblings().removeClass("t-state-selected").end().index()},isOpened:function(){return this.$element.is(":visible")},scrollTo:function(az){if(!az){return}var aB=az.offsetTop;var aA=az.offsetHeight;var aw=this.$element[0];var ay=aw.scrollTop;var ax=aw.clientHeight;var e=aB+aA;aw.scrollTop=ay>aB?aB:e>(ay+ax)?e-ax:ay}};b.datetime=function(){if(arguments.length==0){this.value=new Date()}else{if(arguments.length==1){this.value=new Date(arguments[0])}else{if(arguments.length==3){this.value=new Date(arguments[0],arguments[1],arguments[2])}else{if(arguments.length==6){this.value=new Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}else{this.value=new Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}}}return this};a.extend(b.datetime,{msPerMinute:60000,msPerDay:86400000,add:function(e,aA,aw){var ay=e.timeOffset();var ax=new b.datetime(e.time()+aA);var az=ax.timeOffset()-ay;if(aw){return ax}return new b.datetime(ax.time()+az*b.datetime.msPerMinute)},subtract:function(e,aw){aw=new b.datetime(aw).toDate();var ax=e.time()-aw;var ay=e.timeOffset()-aw.timeOffset();return ax-(ay*b.datetime.msPerMinute)},firstDayOfMonth:function(e){return new b.datetime(0).hours(e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds()).year(e.year(),e.month(),1)},dst:function(){var ax=new b.datetime(),e=new b.datetime(ax.year(),ax.month(),ax.date(),0,0,0),aw=new b.datetime(ax.year(),ax.month(),ax.date(),12,0,0);return -1*(e.timeOffset()-aw.timeOffset())},firstVisibleDay:function(e){var aw=b.cultureInfo.firstDayOfWeek;var ax=new b.datetime(e.year(),e.month(),0,e.hours(),e.minutes(),e.seconds(),e.milliseconds());while(ax.day()!=aw){b.datetime.modify(ax,-1*b.datetime.msPerDay)}return ax},modify:function(e,az){var ax=e.timeOffset();var aw=new b.datetime(e.time()+az);var ay=aw.timeOffset()-ax;e.time(aw.time()+ay*b.datetime.msPerMinute)},pad:function(e){if(e<10){return"0"+e}return e},standardFormat:function(e){var aw=b.cultureInfo;var ax={d:aw.shortDate,D:aw.longDate,F:aw.fullDateTime,g:aw.generalDateShortTime,G:aw.generalDateTime,m:aw.monthDay,M:aw.monthDay,s:aw.sortableDateTime,t:aw.shortTime,T:aw.longTime,u:aw.universalSortableDateTime,y:aw.monthYear,Y:aw.monthYear};return ax[e]},format:function(aw,aA){var aC=b.cultureInfo;var e=aw.getDate();var ay=aw.getDay();var aE=aw.getMonth();var aH=aw.getFullYear();var aB=aw.getHours();var aD=aw.getMinutes();var aG=aw.getSeconds();var az=aw.getMilliseconds();var aF=b.datetime.pad;var ax={d:e,dd:aF(e),ddd:aC.abbrDays[ay],dddd:aC.days[ay],M:aE+1,MM:aF(aE+1),MMM:aC.abbrMonths[aE],MMMM:aC.months[aE],yy:aF(aH%100),yyyy:aH,h:aB%12||12,hh:aF(aB%12||12),H:aB,HH:aF(aB),m:aD,mm:aF(aD),s:aG,ss:aF(aG),f:Math.floor(az/100),ff:Math.floor(az/10),fff:az,tt:aB<12?aC.am:aC.pm};aA=aA||"G";aA=b.datetime.standardFormat(aA)?b.datetime.standardFormat(aA):aA;return aA.replace(r,function(aI){return aI in ax?ax[aI]:aI.slice(1,aI.length-1)})},parse:function(aw){var ax=aw.value;var e=aw.format;if(ax&&ax.value){return ax}e=b.datetime.standardFormat(e)?b.datetime.standardFormat(e):e;if(q.test(ax)){return b.datetime.parseMachineDate({value:ax,format:e,shortYearCutOff:aw.shortYearCutOff,baseDate:aw.baseDate,AM:b.cultureInfo.am,PM:b.cultureInfo.pm})}return b.datetime.parseByToken?b.datetime.parseByToken(ax,aw.today):null},parseMachineDate:function(aR){var e=aR.AM,aS=aR.PM,aW=aR.value,aD=aR.format,aw=aR.baseDate,aU=aR.shortYearCutOff||30,aY=null,aP=null,aB=null,aH=0,aO=0,aT=0,aN=0,aI,aJ,aK=false,aM=function(aZ){return(aE+1<aD.length&&aD.charAt(aE+1)==aZ)},aL=function(a0){var aZ=0;while(aM(a0)){aZ++;aE++}return aZ},aG=function(a1){var aZ=new RegExp("^\\d{1,"+a1+"}");var a0=aW.substr(az).match(aZ);if(a0){az+=a0[0].length;return parseInt(a0[0],10)}else{return -1}},aF=function(a0){for(var aZ=0;aZ<a0.length;aZ++){if(aW.substr(az,a0[aZ].length)==a0[aZ]){az+=a0[aZ].length;return aZ+1}}return -1},ax=function(){if(aW.charAt(az)==aD.charAt(aE)){az++;return true}else{return false}},aQ=function(aZ){return aZ===-1?0:aZ},ay=0,az=0,aX=aW.length;for(var aE=0,aC=aD.length;aE<aC;aE++){if(az==aX){break}if(aK){ax();if(aD.charAt(aE)=="'"){aK=false}}else{switch(aD.charAt(aE)){case"d":ay=aL("d");aB=ay<=1?aG(2):aF(b.cultureInfo[ay==3?"days":"abbrDays"]);if(aB===null||(aB<1||aB>31)){return null}break;case"M":ay=aL("M");aP=ay<=1?aG(2):aF(b.cultureInfo[ay==3?"months":"abbrMonths"]);if(aP===null||(aP<1||aP>12)){return null}aP-=1;break;case"y":ay=aL("y");aY=aG(ay<=1?2:4);if(aY<0||aY.toString().length<=ay){return null}break;case"H":ay=aL("H");aH=aQ(aG(2));if(aH===null||(aH<0||aH>23)){return null}break;case"h":aL("h");aH=aQ(aG(2));if(aH==12){aH=0}if(aH===null||(aH<0||aH>11)){return null}break;case"m":aL("m");aO=aQ(aG(2));if(aO===null||(aO<0||aO>59)){return null}break;case"s":aL("s");aT=aQ(aG(2));if(aT===null||(aT<0||aT>59)){return null}break;case"f":ay=aL("f");aN=aQ(aG(ay<=0?1:ay+1));if(aN===null||(aN<0||aN>999)){return null}break;case"t":ay=aL("t");e=ay>0?e:"a";aS=ay>0?aS:"p";var aV=aW.substr(az).toLowerCase();aI=aV.indexOf(e.toLowerCase())!=-1;aJ=aV.indexOf(aS.toLowerCase())!=-1;az+=aJ?aS.length:aI?e.length:0;break;case"'":ax();aK=true;break;default:if(!ax()){return null}}}}var aA=new b.datetime();if(aY!==null&&aY<100){aY+=aA.year()-aA.year()%100+(aY<=aU?0:-100)}aH=(aJ&&aH<12)?aH+12:aH==12&&aI?0:aH;if(aw==undefined){if(aY===null){aY=aA.year()}if(aB===null){aB=1}aA=new b.datetime(aY,aP,aB,aH,aO,aT,aN)}else{aA=new b.datetime(aY!==null?aY:aw.year(),aP!==null?aP:aw.month(),aB!==null?aB:aw.date(),aH,aO,aT,aN)}return aA}});b.datetime.prototype={year:function(){if(arguments.length==0){return this.value.getFullYear()}else{if(arguments.length==1){this.value.setFullYear(arguments[0])}else{this.value.setFullYear(arguments[0],arguments[1],arguments[2])}}return this},timeOffset:function(){return this.value.getTimezoneOffset()},day:function(){return this.value.getDay()},toDate:function(){return this.value},addMonth:function(e){this.month(this.month()+e)},addYear:function(e){this.year(this.year()+e)}};a.each(["Month","Date","Hours","Minutes","Seconds","Milliseconds","Time"],function(e,aw){b.datetime.prototype[aw.toLowerCase()]=function(){if(arguments.length==1){this.value["set"+aw](arguments[0])}else{return this.value["get"+aw]()}return this}});var o=/[0#?]/;var al=/n|p|c/i;function ai(ax,aw){var e=Math.pow(10,aw||0);return Math.round(ax*e)/e}function ah(e){return e.split("").reverse().join("")}function K(aE,az,e){var aA=0,aB=0,ay=az.length,aF=aE.length,aw=new b.stringBuilder();while(aA<ay&&aB<aF&&az.substring(aA).search(o)>=0){if(az.charAt(aA).match(o)){aw.cat(aE.charAt(aB++))}else{aw.cat(az.charAt(aA))}aA++}aw.catIf(aE.substring(aB),aB<aF&&e).catIf(az.substring(aA),aA<ay);var aC=ah(aw.string()),aG;if(aC.indexOf("#")>-1){aG=aC.indexOf("0")}if(aG>-1){var ax=aC.slice(0,aG),aD=aC.slice(aG,aC.length);aC=ax.replace(/#/g,"")+aD.replace(/#/g,"0")}else{aC=aC.replace(/#/g,"")}if(aC.indexOf(",")==0){aC=aC.replace(/,/g,"")}return e?aC:ah(aC)}b.formatNumber=function(aM,aA,ay,aW,aB,aC,aQ,aK,a0,aE){if(!aA){return aM}var a1,ax,aL,a3,aX=aM<0;aA=aA.split(":");aA=aA.length>1?aA[1].replace("}",""):aA[0];var aD=o.test(aA)&&!al.test(aA);if(aD){aA=aA.split(";");ax=aA[0];aL=aA[1];a3=aA[2];aA=(aX&&aL?aL:ax).indexOf("%")!=-1?"p":"n"}switch(aA.toLowerCase().charAt(0)){case"d":return Math.round(aM).toString();case"c":a1="currency";break;case"n":a1="numeric";break;case"p":a1="percent";if(!aE){aM=Math.abs(aM)*100}break;default:return aM.toString()}var aJ=aA.match(q);if(aJ){ay=parseInt(aJ[0],10)}var a4=function(a8,a5,a7){for(var a6=a8.length;a6<a5;a6++){a8=a7?("0"+a8):(a8+"0")}return a8};var e=function(a7,a5,a6){if(aB&&a6!=0){var a8=new RegExp("(-?[0-9]+)([0-9]{"+a6+"})");while(a8.test(a7)){a7=a7.replace(a8,"$1"+a5+"$2")}}return a7};var aw=aw||b.cultureInfo,aP=b.patterns,a2;ay=ay||ay===0?ay:aw[a1+"decimaldigits"];aW=aW!==a2?aW:aw[a1+"decimalseparator"];aB=aB!==a2?aB:aw[a1+"groupseparator"];aC=aC||aC==0?aC:aw[a1+"groupsize"];aK=aK||aK===0?aK:aw[a1+"negative"];aQ=aQ||aQ===0?aQ:aw[a1+"positive"];a0=a0||aw[a1+"symbol"];var az,aH,aS;if(aD){var aZ=(aX&&aL?aL:ax).split("."),aI=aZ[0],aT=aZ.length>1?aZ[1]:"",aG=b.lastIndexOf(aT,"0"),aF=b.lastIndexOf(aT,"#");ay=(aF>aG?aF:aG)+1}var aV=ai(aM,ay);aM=isFinite(aV)?aV:aM;if(aM.toString().toLowerCase().indexOf("e")>-1){aM=aM.toFixed(ay)}var aY=aM.toString().split(".");aH=aY[0];aH=aX?aH.replace("-",""):aH;aS=aY.length>1?aY[1]:"";if(az){if(!aX){aS=a4(aS,az,false);aH+=aS.slice(0,az);aS=aS.substr(az)}else{aH=a4(aH,az+1,true);aS=aH.slice(az,aH.length)+aS;aH=aH.slice(0,az)}}var aU=aS.length;if(ay<1||(aD&&aG==-1&&aU===0)){aS=""}else{aS=aU>ay?aS.slice(0,ay):a4(aS,ay,false)}var aR;if(aD){if(aH==0){aH=""}aH=K(ah(aH),ah(aI),true).replace(/,/g,"");aH=aI.indexOf(",")!=-1?e(aH,aB,aC):aH;aS=aS&&aT?K(aS,aT):"";aR=aM===0&&a3?a3:(aX&&!aL?"-":"")+aH+(aS.length>0?aW+aS:"")}else{aH=e(aH,aB,aC);aP=aP[a1];var aO=aX?aP.negative[aK]:a0?aP.positive[aQ]:null;var aN=aH+(aS.length>0?aW+aS:"");aR=aO?aO.replace("n",aN).replace("*",a0):aN}return aR};a.extend(b.formatters,{date:b.datetime.format,number:b.formatNumber});b.scripts=[];var O=[];function ag(aw,e){var ay=b.scripts;aw=a.grep(aw,function(az){az=az.toLowerCase().replace(".min","");if(az.indexOf("jquery-")>-1||(az.indexOf("jquery.validate")>-1&&a.fn.validate)||az.indexOf("telerik.common")>-1){return false}var aB=false;for(var aA=0;aA<ay.length;aA++){var aC=ay[aA];if(az.indexOf(aC)>-1){aB=true;break}}return !aB});var ax=function(az){if(az){a.ajax({url:az,dataType:"script",cache:!a.browser.msie,success:function(){ax(aw.shift())}})}else{e();O.shift();if(O.length){O[0]()}}};ax(aw.shift())}b.load=function(aw,e){O.push(function(){ag(aw,e)});if(O.length==1){ag(aw,e)}};b.stringBuilder.prototype={cat:function(e){this.buffer.push(e);return this},rep:function(ax,e){for(var aw=0;aw<e;aw++){this.cat(ax)}return this},catIf:function(){var e=arguments;if(e[e.length-1]){for(var aw=0,ax=e.length-1;aw<ax;aw++){this.cat(e[aw])}}return this},string:function(){return this.buffer.join("")}};b.isTouch="ontouchstart" in window;var V="mousemove",am="mousedown",w="mouseup";if(b.isTouch){V="touchmove";am="touchstart";w="touchend"}a.extend(a.fn,{tScrollable:function(e){a(this).each(function(){if(b.isTouch||(e&&e.force)){new aj(this)}})}});function aj(e){this.element=e;this.wrapper=a(e);this._horizontalScrollbar=a('<div class="t-touch-scrollbar" />');this._verticalScrollbar=this._horizontalScrollbar.clone();this._scrollbars=this._horizontalScrollbar.add(this._verticalScrollbar);this._startProxy=a.proxy(this._start,this);this._stopProxy=a.proxy(this._stop,this);this._dragProxy=a.proxy(this._drag,this);this._create()}b.touchLocation=function(aw){return{idx:0,x:aw.pageX,y:aw.pageY}};b.eventTarget=function(aw){return aw.target};b.eventCurrentTarget=function(aw){return aw.currentTarget};if(b.isTouch){b.touchLocation=function(ax,ay){var aw=ax.changedTouches||ax.originalEvent.changedTouches;if(ay){var az=null;v(aw,function(e,aA){if(ay==aA.identifier){az={idx:aA.identifier,x:aA.pageX,y:aA.pageY}}});return az}else{if(ax.type in {touchstart:{},touchmove:{},touchend:{},touchcancel:{}}){return{idx:aw[0].identifier,x:aw[0].pageX,y:aw[0].pageY}}else{return{idx:0,x:ax.pageX,y:ax.pageY}}}};b.eventTarget=function(aw){var ax="originalEvent" in aw?aw.originalEvent.changedTouches:"changedTouches" in aw?aw.changedTouches:null;return ax?document.elementFromPoint(ax[0].clientX,ax[0].clientY):null};b.eventCurrentTarget=b.eventTarget}b.zoomLevel=function(){return b.isTouch?(document.documentElement.clientWidth/window.innerWidth):1};aj.prototype={_create:function(){this.wrapper.css("overflow","hidden").bind(am,a.proxy(this._wait,this))},_wait:function(aw){var ax=b.touchLocation(aw);this.start={x:ax.x+this.wrapper.scrollLeft(),y:ax.y+this.wrapper.scrollTop()};a(document).bind(V,this._startProxy).bind(w,this._stopProxy)},_start:function(ax){var aw=b.touchLocation(ax);this._dragged=false;if(this.start.x-aw.x>10||this.start.y-aw.y>10){ax.preventDefault();this._dragged=true;a(document).unbind(V,this._startProxy).bind(V,this._dragProxy);var aC=this.wrapper.innerWidth(),ay=this.wrapper.innerHeight(),az=this.wrapper.offset(),aB=this.wrapper.attr("scrollWidth"),aA=this.wrapper.attr("scrollHeight");if(aB>aC){this._horizontalScrollbar.appendTo(document.body).css({width:Math.floor((aC/aB)*aC),left:this.wrapper.scrollLeft()+az.left+parseInt(this.wrapper.css("borderLeftWidth")),top:az.top+this.wrapper.innerHeight()+parseInt(this.wrapper.css("borderTopWidth"))-this._horizontalScrollbar.outerHeight()})}if(aA>ay){this._verticalScrollbar.appendTo(document.body).css({height:Math.floor((ay/aA)*ay),top:this.wrapper.scrollTop()+az.top+parseInt(this.wrapper.css("borderTopWidth")),left:az.left+this.wrapper.innerWidth()+parseInt(this.wrapper.css("borderLeftWidth"))-this._verticalScrollbar.outerWidth()})}this._scrollbars.stop().fadeTo(200,0.5)}},_drag:function(ax){if(!this._dragged){ax.preventDefault()}var aw=b.touchLocation(ax),aA=this.wrapper.offset(),aB=aA.left+parseInt(this.wrapper.css("borderLeftWidth")),aC=aA.top+parseInt(this.wrapper.css("borderTopWidth")),ay=this.start.x-aw.x,aE=this.start.y-aw.y,az=Math.max(aB,aB+ay),aD=Math.max(aC,aC+aE);az=Math.min(aB+this.wrapper.innerWidth()-this._horizontalScrollbar.outerWidth()-this._horizontalScrollbar.outerHeight(),az);aD=Math.min(aC+this.wrapper.innerHeight()-this._verticalScrollbar.outerHeight()-this._verticalScrollbar.outerWidth(),aD);this._horizontalScrollbar.css("left",az);this._verticalScrollbar.css("top",aD);this.wrapper.scrollLeft(ay).scrollTop(aE)},_stop:function(){a(document).unbind(V,this._startProxy).unbind(V,this._dragProxy).unbind(w,this._stopProxy);this._scrollbars.stop().fadeTo(400,0)}};var Y=function(aw,ay,ax){if(ay.length==0&&ax){ax();return null}var e=aw.list.length;return function(){if(--e==0&&ax){ax()}}};a.extend(b.fx,{_wrap:function(e){if(!e.parent().hasClass("t-animation-container")){e.wrap(a("<div/>").addClass("t-animation-container").css({width:e.outerWidth(),height:e.outerHeight()}))}return e.parent()},play:function(ax,aC,aB,ay){var e=Y(ax,aC,ay);if(e===null){return}aC.stop(false,true);for(var az=0,aA=ax.list.length;az<aA;az++){var aw=new b.fx[ax.list[az].name](aC);if(!aC.data("effect-"+az)){aw.play(a.extend(ax.list[az],{openDuration:ax.openDuration,closeDuration:ax.closeDuration},aB),e);aC.data("effect-"+az,aw)}}},rewind:function(ax,aB,aA,ay){var e=Y(ax,aB,ay);if(e===null){return}for(var az=ax.list.length-1;az>=0;az--){var aw=aB.data("effect-"+az)||new b.fx[ax.list[az].name](aB);aw.rewind(a.extend(ax.list[az],{openDuration:ax.openDuration,closeDuration:ax.closeDuration},aA),e);aB.data("effect-"+az,null)}}});b.fx.toggle=function(e){this.element=e.stop(false,true)};b.fx.toggle.prototype={play:function(aw,e){this.element.show();if(e){e()}},rewind:function(aw,e){this.element.hide();if(e){e()}}};b.fx.toggle.defaults=function(){return{list:[{name:"toggle"}]}};b.fx.slide=function(e){this.element=e;this.animationContainer=b.fx._wrap(e)};b.fx.slide.prototype={play:function(aB,az){var ax=this.animationContainer;this.element.css("display","block").stop();ax.css({display:"block",overflow:"hidden"});var aC=this.element.outerWidth();var aA=this.element.outerHeight();var e=aB.direction=="bottom"?"marginTop":"marginLeft";var aw=aB.direction=="bottom"?-aA:-aC;ax.css({width:aC,height:aA});var ay={};ay[e]=0;this.element.css("width",this.element.width()).each(function(){this.style.cssText=this.style.cssText}).css(e,aw).animate(ay,{queue:false,duration:aB.openDuration,easing:"linear",complete:function(){ax.css("overflow","");if(az){az()}}})},rewind:function(ay,ax){var aw=this.animationContainer;this.element.stop(false,true);aw.css({overflow:"hidden"});var e;switch(ay.direction){case"bottom":e={marginTop:-this.element.outerHeight()};break;case"right":e={marginLeft:-this.element.outerWidth()};break}this.element.animate(e,{queue:false,duration:ay.closeDuration,easing:"linear",complete:function(){aw.css({display:"none",overflow:""});if(ax){ax()}}})}};b.fx.slide.defaults=function(){return{list:[{name:"slide"}],openDuration:"fast",closeDuration:"fast"}};b.fx.property=function(e){this.element=e};b.fx.property.prototype={_animate:function(az,aw,aA,ax){var aB={overflow:"hidden"},ay={},e=this.element;a.each(az,function(aC,aD){var aE;switch(aD){case"height":case"width":aE=e[aD]();break;case"opacity":aE=1;break;default:aE=e.css(aD);break}aB[aD]=aA?aE:0;ay[aD]=aA?0:aE});e.css(aB).show().animate(ay,{queue:false,duration:aw,easing:"linear",complete:function(){if(aA){e.hide()}a.each(ay,function(aC){ay[aC]=""});e.css(a.extend({overflow:""},ay));if(ax){ax()}}})},play:function(aw,e){this._animate(aw.properties,aw.openDuration,false,e)},rewind:function(aw,e){this._animate(aw.properties,aw.closeDuration,true,e)}};b.fx.property.defaults=function(){return{list:[{name:"property",properties:arguments}],openDuration:"fast",closeDuration:"fast"}};a(document).ready(function(){if(a.browser.msie&&typeof(Sys)!="undefined"&&typeof(Sys.Mvc)!="undefined"&&typeof(Sys.Mvc.FormContext)!="undefined"){var e=function(aw,ax){return a.grep(aw.getElementsByTagName("*"),function(ay){return ay.name==ax})};if(Sys.Mvc.FormContext){Sys.Mvc.FormContext.$F=Sys.Mvc.FormContext._getFormElementsWithName=e}}});var A=a.extend,ab=a.proxy,ao=a.type,M=a.isFunction,N=a.isPlainObject,L=a.isEmptyObject,v=a.each,W=a.noop;function z(){this._isPrevented=false}z.prototype={preventDefault:function(){this._isPrevented=true},isDefaultPrevented:function(){return this._isPrevented}};function i(){}i.extend=function(ax){var e=function(){},aA=this,ay=ax&&ax.init?ax.init:function(){aA.apply(this,arguments)},az;e.prototype=aA.prototype;az=ay.fn=ay.prototype=A(new e,ax);for(var aw in az){if(typeof az[aw]==="object"){az[aw]=A(true,{},e.prototype[aw],ax[aw])}}az.constructor=ay;ay.extend=aA.extend;return ay};a.telerik.Class=i;var X=i.extend({init:function(){this._events={}},bind:function(e,ay){var aB=this,az,aw=a.isArray(e)?e:[e],aA,ax;for(az=0,aA=aw.length;az<aA;az++){e=aw[az];handler=a.isFunction(ay)?ay:ay[e];if(handler){ax=aB._events[e]||[];ax.push(handler);aB._events[e]=ax}}return aB},trigger:function(aw,aA){var aB=this,ax=aB._events[aw],e=A(aA,new z()),ay,az;if(ax){for(ay=0,az=ax.length;ay<az;ay++){ax[ay].call(aB,e)}}return e.isDefaultPrevented()},unbind:function(e,ax){var aA=this,aw=aA._events[e],ay,az;if(aw){if(ax){for(ay=0,az=aw.length;ay<az;ay++){if(aw[ay]===ax){aw.splice(ay,1)}}}else{aA._events[e]=[]}}return aA}});var j={selector:function(aw){if(a.isFunction(aw)){return aw}else{var e=F(aw);return function(ay){var az=e(ay);if(typeof az==="string"){var ax=/^\/Date\((.*?)\)\/$/.exec(az);if(ax){az=new Date(parseInt(ax[1]));return az}}return az}}},asc:function(e){var aw=this.selector(e);return function(ax,ay){ax=aw(ax);ay=aw(ay);return ax>ay?1:(ax<ay?-1:0)}},desc:function(e){var aw=this.selector(e);return function(ax,ay){ax=aw(ax);ay=aw(ay);return ax<ay?1:(ax>ay?-1:0)}},create:function(e){return j[e.dir.toLowerCase()](e.field)},combine:function(e){return function(aw,ax){var aA=e[0](aw,ax),ay,az;for(ay=1,az=e.length;ay<az;ay++){aA=aA||e[ay](aw,ax)}return aA}}};var C={create:function(az){var aA,aB,ay,aE,aC,aw,ax=[],e,aD;az=az||[];for(aA=0,aB=az.length;aA<aB;aA++){ay=az[aA];if(typeof ay.value==="string"&&!ay.caseSensitive){e=function(aF){return typeof aF==="string"?aF.toLowerCase():aF}}else{e=function(aF){return aF}}aE=C.selector(ay.field,e);aC=C.operator(ay.operator);aw=aC(aE,e(ay.value));ax.push(aw)}aD=C.combine(ax);return function(aF){return C.execute(aD,aF)}},selector:function(ax,aw){if(ax){if(M(ax)){return ax}else{var e=F(ax);return function(az){var aA=e(az);if(typeof aA==="string"){var ay=/^\/Date\((.*?)\)\/$/.exec(aA);if(ay){aA=new Date(parseInt(ay[1]));return aA}}return aw(aA)}}}return function(ay){return aw(ay)}},execute:function(ay,e){var aw,ax=e.length,az,aA=[];for(aw=0;aw<ax;aw++){az=e[aw];if(ay(az)){aA.push(az)}}return aA},combine:function(e){return function(ay){var az=true,aw=0,ax=e.length;while(az&&aw<ax){az=e[aw++](ay)}return az}},operator:function(aw){if(!aw){return C.eq}if(a.isFunction(aw)){return aw}aw=aw.toLowerCase();operatorStrings=C.operatorStrings;for(var e in operatorStrings){if(a.inArray(aw,operatorStrings[e])>-1){aw=e;break}}return C[aw]},operatorStrings:{eq:["eq","==","isequalto","equals","equalto","equal"],neq:["neq","!=","isnotequalto","notequals","notequalto","notequal","not","ne"],lt:["lt","<","islessthan","lessthan","less"],lte:["lte","<=","islessthanorequalto","lessthanequal","le"],gt:["gt",">","isgreaterthan","greaterthan","greater"],gte:["gte",">=","isgreaterthanorequalto","greaterthanequal","ge"],startswith:["startswith"],endswith:["endswith"],contains:["contains","substringof"]},eq:function(e,aw){return function(ay){var ax=e(ay);return ax>aw?false:(aw>ax?false:true)}},neq:function(e,aw){return function(ax){return e(ax)!=aw}},lt:function(e,aw){return function(ax){return e(ax)<aw}},lte:function(e,aw){return function(ax){return e(ax)<=aw}},gt:function(e,aw){return function(ax){return e(ax)>aw}},gte:function(e,aw){return function(ax){return e(ax)>=aw}},startswith:function(e,aw){return function(ax){return e(ax).indexOf(aw)==0}},endswith:function(e,aw){return function(ay){var ax=e(ay);return ax.lastIndexOf(aw)==ax.length-(aw||"").length}},contains:function(e,aw){return function(ax){return e(ax).indexOf(aw)>-1}}};var ac=function(e){return new ac.fn.init(e)};b.query=ac;ac.expandSort=function(ay,ax){var e=typeof ay==="string"?{field:ay,dir:ax}:ay,aw=a.isArray(e)?e:(e!==undefined?[e]:[]);return a.grep(aw,function(az){return !!az.dir})};ac.expandFilter=function(e){return e=a.isArray(e)?e:[e]};ac.expandAggregates=function(e){return e=a.isArray(e)?e:[e]};ac.expandGroup=function(ay,ax){var e=typeof ay==="string"?{field:ay,dir:ax}:ay,aw=a.isArray(e)?e:(e!==undefined?[e]:[]);return a.map(aw,function(az){return{field:az.field,dir:az.dir||"asc",aggregates:az.aggregates}})};ac.fn=ac.prototype={init:function(e){this.data=e||[];return this},toArray:function(){return this.data},skip:function(e){return new ac(this.data.slice(e))},take:function(e){return new ac(this.data.slice(0,e))},orderBy:function(ax){var aw=this.data.slice(0),e=a.isFunction(ax)||!ax?j.asc(ax):ax.compare;return new ac(aw.sort(e))},orderByDescending:function(e){return new ac(this.data.slice(0).sort(j.desc(e)))},sort:function(ay,ax){var az,aA,aw=ac.expandSort(ay,ax),e=[];if(aw.length){for(az=0,aA=aw.length;az<aA;az++){e.push(j.create(aw[az]))}return this.orderBy({compare:j.combine(e)})}return this},filter:function(e){var aw=C.create(ac.expandFilter(e));return new ac(aw(this.data))},where:function(e){return ac(B(this.data,e))},select:function(e){return ac(R(this.data,e))},concat:function(e){return ac(this.data.concat(e.data))},count:function(){return this.data.length},any:function(ax){if(a.isFunction(ax)){for(var e=0,aw=this.data.length;e<aw;e++){if(ax(this.data[e],e)){return true}}return false}return !!this.data.length},group:function(ax,e){ax=ac.expandGroup(ax||[]);e=e||this.data;var az=this,ay=new ac(az.data),aw;if(ax.length>0){aw=ax[0];ay=ay.groupBy(aw).select(function(aB){var aA=new ac(e).filter([{field:aB.field,operator:"eq",value:aB.value}]);return{field:aB.field,value:aB.value,items:ax.length>1?new ac(aB.items).group(ax.slice(1),aA.toArray()).toArray():aB.items,hasSubgroups:ax.length>1,aggregates:aA.aggregate(aw.aggregates)}})}return ay},groupBy:function(ay){if(L(ay)||!this.data.length){return new ac([])}var az=ay.field,aG=this.sort(az,ay.dir||"asc").toArray(),e=c(az),aD,aB=e.get(aG[0],az),aw={},aA={field:az,value:aB,items:[]},ax,aC,aE,aF=[aA];for(aC=0,aE=aG.length;aC<aE;aC++){aD=aG[aC];ax=e.get(aD,az);if(aB!==ax){aB=ax;aw={};aA={field:az,value:aB,items:[]};aF.push(aA)}aA.items.push(aD)}return new ac(aF)},aggregate:function(e){var aw,ax,ay={};for(aw=0,ax=this.data.length;aw<ax;aw++){f(ay,e,this.data[aw],aw,ax)}return ay}};function f(e,ax,aD,aC,aF){ax=ax||[];var aB,aw,aA,az,aE=ax.length;for(aB=0;aB<aE;aB++){aw=ax[aB];aA=aw.aggregate;var ay=aw.field;e[ay]=e[ay]||{};e[ay][aA]=D[aA.toLowerCase()](e[ay][aA],aD,c(ay),aC,aF)}}var D={sum:function(aw,ax,e){return aw=(aw||0)+e.get(ax)},count:function(aw,ax,e){return(aw||0)+1},average:function(aw,ay,e,ax,az){aw=(aw||0)+e.get(ay);if(ax==az-1){aw=aw/az}return aw},max:function(aw,ax,e){var aw=(aw||0),ay=e.get(ax);if(aw<ay){aw=ay}return aw},min:function(aw,ax,e){var ay=e.get(ax),aw=(aw||ay);if(aw>ay){aw=ay}return aw}};ac.fn.init.prototype=ac.fn;var ao=a.type,aq="UPDATED",Z="PRISTINE",m="CREATED",t="DESTROYED";function x(aw,ay){if(aw===ay){return true}var ax=ao(aw),az=ao(ay),e;if(ax!==az){return false}if(ax==="date"){return aw.getTime()===ay.getTime()}if(ax!=="object"&&ax!=="array"){return false}for(e in aw){if(!x(aw[e],ay[e])){return false}}return true}var F=function(e,aw){e=e||"";if(e&&e.charAt(0)!=="["){e="."+e}if(aw){return new Function("d","return "+av(e.split(".")))}return new Function("d","return d"+e)},ak=function(e){return new Function("d,value","d."+e+"=value")},c=function(e){return{get:F(e),set:ak(e)}};var av=function(aA){var aB="d",ax,aw,ay,az,e=1;for(aw=0,ay=aA.length;aw<ay;aw++){az=aA[aw];if(az!==""){ax=az.indexOf("[");if(ax!=0){if(ax==-1){az="."+az}else{e++;az="."+az.substring(0,ax)+" || {})"+az.substring(ax)}}e++;aB+=az+((aw<ay-1)?" || {})":")")}}return new Array(e).join("(")+aB};var U=X.extend({init:function(e){var aw=this;X.fn.init.call(aw);aw.state=Z;aw._accessors={};aw._modified=false;aw.data=A(true,{},e);aw.pristine=A(true,{},e);if(aw.id()===undefined){aw.state=m;aw.data.__id=aw.guid()}},guid:function(){var aw="",e,ax;for(e=0;e<32;e++){ax=Math.random()*16|0;if(e==8||e==12||e==16||e==20){aw+="-"}aw+=(e==12?4:(e==16?(ax&3|8):ax)).toString(16)}return aw},accessor:function(aw){var e=this._accessors;return e[aw]=e[aw]||c(aw)},get:function(aw){var ax=this,e=ax.accessor(aw);return e.get(ax.data)},set:function(ax,az){var ay=this,aw,aA={},e;if(typeof ax==="string"){aA[ax]=az}else{aA=ax}ay._modified=false;for(aw in aA){e=ay.accessor(aw);az=aA[aw];if(!x(az,e.get(ay.data))){e.set(ay.data,az);ay._modified=true}}if(ay._modified){ay.state=ay.isNew()?m:aq;ay.trigger("change")}},isNew:function(){return this.state===m},destroy:function(){this.state=t},changes:function(){var ax=null,aw,az=this,e=az.data,ay=az.pristine;for(aw in e){if(aw!=="__id"&&!x(ay[aw],e[aw])){ax=ax||{};ax[aw]=e[aw]}}return ax}});U.define=function(ay){var ax,az=ay||{},aw=az.id||"id",aA,e;if(a.isFunction(aw)){e=aw;aA=aw}else{e=F(aw);aA=ak(aw)}aw=function(aB,aC){if(aC===undefined){return aB.__id||e(aB)}else{aA(aB,aC)}};az.id=function(aB){return aw(this.data,aB)};ax=U.extend(az);ax.id=aw;return ax};U.UPDATED=aq;U.PRISTINE=Z;U.CREATED=m;U.DESTROYED=t;var l="create",ad="read",ap="update",s="destroy",h="change",y="error",n=[l,ad,ap,s],H=function(e){return e};function aa(e,ay){var aB=new ac(e),ay=ay||{},az=ay.page,aA=ay.pageSize,ax=ay.group,aC=ac.expandSort(ay.sort).concat(ac.expandGroup(ax||[])),aD,aw=ay.filter;if(aw){aB=aB.filter(aw);aD=aB.toArray().length}if(aC){aB=aB.sort(aC)}if(az!==undefined&&aA!==undefined){aB=aB.skip((az-1)*aA).take(aA)}if(ax){aB=aB.group(ax,e)}return{total:aD,data:aB.toArray()}}function g(aw,ay){var az=new ac(aw),ay=ay||{},e=ay.aggregates,ax=ay.filter;if(ax){az=az.filter(ax)}return az.aggregate(e)}var Q=i.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:W});var af=i.extend({init:function(e){var aw=this;e=aw.options=A({},aw.options,e);v(n,function(ax,ay){if(typeof e[ay]==="string"){e[ay]={url:e[ay]}}});aw.cache=e.cache?d.create(e.cache):{find:W,add:W};aw.dialect=e.dialect},options:{dialect:{read:H,update:H,destroy:H,create:H}},create:function(e){a.ajax(this.setup(e,l))},read:function(ax){var aA=this,az,aw,ay,e=aA.cache;ax=aA.setup(ax,ad);az=ax.success||W;aw=ax.error||W;ay=e.find(ax.data);if(ay!==undefined){az(ay)}else{ax.success=function(aB){e.add(ax.data,aB);az(aB)};a.ajax(ax)}},update:function(e){a.ajax(this.setup(e,ap))},destroy:function(e){a.ajax(this.setup(e,s))},setup:function(ax,az){ax=ax||{};var ay=this,aw=ay.options[az],e=M(aw.data)?aw.data():aw.data;ax=A(true,{},aw,ax);ax.data=ay.dialect[az](A(e,ax.data));return ax}});d.create=function(e){var aw={inmemory:function(){return new d()},localstorage:function(){return new P()}};if(N(e)&&M(e.find)){return e}if(e===true){return new d()}return aw[e]()};function d(){this._store={}}d.prototype={add:function(aw,e){if(aw!==undefined){this._store[stringify(aw)]=e}},find:function(e){return this._store[stringify(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[stringify(e)]}};function P(){this._store=window.localStorage}P.prototype={add:function(aw,e){if(aw!=undefined){this._store.setItem(stringify(aw),stringify(e))}},find:function(e){return a.parseJSON(this._store.getItem(stringify(e)))},clear:function(){this._store.clear()},remove:function(e){this._store.removeItem(stringify(e))}};var p=X.extend({init:function(ax){var ay=this,e,aw,az;ax=ay.options=A({},ay.options,ax);A(ay,{_map:{},_models:{},_data:[],_view:[],_pageSize:ax.pageSize,_page:ax.page||(ax.pageSize?1:undefined),_sort:ax.sort,_filter:ax.filter,_group:ax.group,_aggregates:ax.aggregates});X.fn.init.call(ay);aw=ax.model;az=ax.transport;if(aw===undefined){aw={}}else{if(N(aw)){ax.model=aw=U.define(aw)}}e=aw.id;ay._deserializer=A({data:H,total:function(aA){return aA.length},status:function(aA){return aA.status},groups:function(aA){return aA},aggregates:function(aA){return{}}},ax.deserializer);if(az){ay.transport=M(az.read)?az:new af(az)}else{ay.transport=new Q({data:ax.data})}if(e){ay.find=function(aA){return ay._data[ay._map[aA]]};ay.id=function(aA){return e(aA)}}else{ay.find=ay.at}ay.bind([y,h,l,s,ap],ax)},options:{data:[],serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,autoSync:false,sendAllFields:true,batch:{mode:"multiple"}},model:function(e){var ax=this,aw=e&&ax._models[e];if(!aw){aw=new ax.options.model(ax.find(e));ax._models[aw.id()]=aw;aw.bind(h,function(){ax.trigger(ap,{model:aw})})}return aw},_idMap:function(e){var aA=this,aw=aA.id,ax,ay,az={};if(aw){for(ax=0,ay=e.length;ax<ay;ax++){az[aw(e[ax])]=ax}}aA._map=az},_byState:function(aA,az){var ax=this._models,ay=[],aw,az=az||H,e;for(e in ax){aw=ax[e];if(aw.state===aA){ay.push(az(aw))}}return ay},_createdModels:function(){return this._byState(U.CREATED,function(e){return e.data})},_updatedModels:function(){var aw=this,e=aw.options.sendAllFields;return aw._byState(U.UPDATED,function(ax){if(e){return ax.data}return ax.changes()})},_destroyedModels:function(){var aw=this,e=aw.options;return aw._byState(U.DESTROYED,function(ay){var ax={};if(e.sendAllFields){return ay.data}e.model.id(ax,ay.id());return ax})},sync:function(){var aA=this,aC,aw,ax,e=aA.options.batch,ay,aB=aA.transport,az=aA._promises=[];aC=aA._updatedModels();aw=aA._createdModels();ax=aA._destroyedModels();if(e===false){ay="multiple"}else{if((e.mode||"multiple")==="multiple"){ay="single"}}if(ay){aA._send(aw,ab(aB.create,aB),ay);aA._send(aC,ab(aB.update,aB),ay);aA._send(ax,ab(aB.destroy,aB),ay)}else{aA._send({created:aw,updated:aC,destroyed:ax},ab(aB.update,aB),"single")}a.when.apply(null,az).then(function(){aA.trigger(h)})},_syncSuccess:function(az,e){var aC=this,aB,aA,ay=aC._models,ax=aC._map,aw=aC._deserializer;if(!aw.status(e)){return aC.error({data:az})}a.each(az,function(aD,aE){delete ay[aC.id(aE)]});e=aw.data(e);a.each(e,function(aD,aE){aB=az[aD];if(aB){aA=aC.id(aB);aD=ax[aA];if(aD>=0){aC._data[aD]=aE}}});aC._idMap(aC._data)},_syncError:function(aw,e){this.error({data:aw})},_send:function(e,ay,az){var aC=this,ax,aA=aC._promises,aB=ab(aC._syncSuccess,aC,e),aw=ab(aC._syncError,aC,e);if(e.length==0){return}if(az==="multiple"){for(ax=0,length=e.length;ax<length;ax++){aA.push(ay({data:e[ax],success:aB,error:aw}))}}else{aA.push(ay({data:e,success:aB,error:aw}))}return aA},create:function(aw,az){var ay=this,e=ay._data,ax=ay.model();if(typeof aw!=="number"){az=aw;aw=undefined}ax.set(az);aw=aw!==undefined?aw:e.length;e.splice(aw,0,ax.data);ay._idMap(e);ay.trigger(l,{model:ax});return ax},read:function(e){var ax=this,aw=A(e,{page:ax._page,pageSize:ax._pageSize,sort:ax._sort,filter:ax._filter,group:ax._group,aggregates:ax._aggregates});ax.transport.read({data:aw,success:ab(ax.success,ax),error:ab(ax.error,ax)})},update:function(e,ay){var ax=this,aw=ax.model(e);if(aw){aw.set(ay)}},destroy:function(e){var ax=this,aw=ax.model(e);if(aw){ax._data.splice(ax._map[e],1);ax._idMap(ax._data);aw.destroy();ax.trigger(s,{model:aw})}},error:function(){this.trigger(y,arguments)},success:function(e){var aA=this,ay={},az,aB=U?aA._updatedModels():[],aw=aA.options.serverGrouping===true&&aA._group&&aA._group.length>0,ax=aA._models;aA._total=aA._deserializer.total(e);if(aA._aggregates&&aA.options.serverAggregates){aA._aggregateResult=aA._deserializer.aggregates(e)}if(aw){e=aA._deserializer.groups(e)}else{e=aA._deserializer.data(e)}aA._data=e;a.each(aB,function(){var aC=aA.id(this);a.each(e,function(){if(aC===aA.id(this)){delete ax[aC]}})});if(aA.options.serverPaging!==true){ay.page=aA._page;ay.pageSize=aA._pageSize}if(aA.options.serverSorting!==true){ay.sort=aA._sort}if(aA.options.serverFiltering!==true){ay.filter=aA._filter}if(aA.options.serverGrouping!==true){ay.group=aA._group}if(aA.options.serverAggregates!==true){ay.aggregates=aA._aggregates;aA._aggregateResult=g(e,ay)}az=aa(e,ay);aA._view=az.data;if(az.total!==undefined&&!aA.options.serverFiltering){aA._total=az.total}aA._idMap(e);aA.trigger(h)},changes:function(e){var ax=this,aw=ax._models[e];if(aw&&aw.state===U.UPDATED){return aw.changes()}},hasChanges:function(e){var ay=this,aw,ax=ay._models,e;if(e===undefined){for(e in ax){if(ax[e].state!==U.PRISTINE){return true}}return false}aw=ax[e];return !!aw&&aw.state===U.UPDATED},at:function(e){return this._data[e]},data:function(e){if(e!==undefined){this._data=e}else{return this._data}},view:function(){return this._view},query:function(e){var ay=this,e=e,ax,aw=ay.options.serverSorting||ay.options.serverPaging||ay.options.serverFiltering||ay.options.serverGrouping||ay.options.serverAggregates;if(e!==undefined){ay._pageSize=e.pageSize;ay._page=e.page;ay._sort=e.sort;ay._filter=e.filter;ay._group=e.group;ay._aggregates=e.aggregates;if(e.sort){ay._sort=e.sort=ac.expandSort(e.sort)}if(e.filter){ay._filter=e.filter=ac.expandFilter(e.filter)}if(e.group){ay._group=e.group=ac.expandGroup(e.group)}if(e.aggregates){ay._aggregates=e.aggregates=ac.expandAggregates(e.aggregates)}}if(aw||(ay._data===undefined||ay._data.length==0)){ay.read(e)}else{ax=aa(ay._data,e);if(ax.total!==undefined&&!ay.options.serverFiltering){ay._total=ax.total}ay._view=ax.data;ay._aggregateResult=g(ay._data,e);ay.trigger(h)}},fetch:function(){var e=this;e.query({page:e.page(),pageSize:e.pageSize(),sort:e.sort(),filter:e.filter(),group:e.group(),aggregate:e.aggregate()})},page:function(aw){var e=this;if(aw!==undefined){aw=Math.max(Math.min(Math.max(aw,1),e._totalPages()),1);e.query({page:aw,pageSize:e.pageSize(),sort:e.sort(),filter:e.filter(),group:e.group(),aggregates:e.aggregate()});return}return e._page},pageSize:function(aw){var e=this;if(aw!==undefined){e.query({page:e.page(),pageSize:aw,sort:e.sort(),filter:e.filter(),group:e.group(),aggregates:e.aggregate()});return}return e._pageSize},sort:function(aw){var e=this;if(aw!==undefined){e.query({page:e.page(),pageSize:e.pageSize(),sort:aw,filter:e.filter(),group:e.group(),aggregates:e.aggregate()});return}return this._sort},filter:function(aw){var e=this;if(aw!==undefined){e.query({page:e.page(),pageSize:e.pageSize(),sort:e.sort(),filter:aw,group:e.group(),aggregates:e.aggregate()});return}return e._filter},group:function(aw){var e=this;if(aw!==undefined){e.query({page:e.page(),pageSize:e.pageSize(),sort:e.sort(),filter:e.filter(),group:aw,aggregates:e.aggregate()});return}return e._group},total:function(){return this._total},aggregate:function(aw){var e=this;if(aw!==undefined){e.query({page:e.page(),pageSize:e.pageSize(),sort:e.sort(),filter:aw,group:e.group(),aggregates:aw});return}return e._aggregates},aggregates:function(){return this._aggregateResult},_totalPages:function(){var aw=this,e=aw.pageSize()||aw.total();return Math.ceil((aw.total()||0)/e)}});p.create=function(ay){ay=a.isArray(ay)?{data:ay}:ay;var aw=ay||{},e=aw.data,ax=aw.fields,aA=aw.table,az=aw.select;if(ax){if(!e){if(aA){e=J(aA,ax)}else{if(az){e=I(az,ax)}}}else{if(az){ae(e,az,ax)}}}aw.data=e;return aw instanceof p?aw:new p(aw)};function I(aC,aw){var aA=a(aC)[0].children,az,ay,e=[],aB,ax;for(az=0,ay=aA.length;az<ay;az++){aB={};ax=aA[az];aB[aw[0].field]=ax.text;aB[aw[1].field]=ax.value;e.push(aB)}return e}function ae(e,aE,ax){var ay=F(ax[0].field),az=F(ax[1].field),aB=e.length,aD=[],aA=0;for(;aA<aB;aA++){var aC="<option",aw=e[aA],aF=ay(aw),aG=az(aw);if(aG||aG===0){aC+=" value="+aG}aC+=">";if(aF||aF===0){aC+=aF}aC+="</option>";aD.push(aC)}aE.html(aD.join(""))}function J(aG,aB){var aH=a(aG)[0].tBodies[0],aF=aH?aH.rows:[],aE,aD,aA,az=aB.length,ax=[],aw,aC,e,ay;for(aE=0,aD=aF.length;aE<aD;aE++){aC={};ay=true;aw=aF[aE].cells;for(aA=0;aA<az;aA++){e=aw[aA];if(e.nodeName.toLowerCase()!=="th"){ay=false;aC[aB[aA].field]=e.innerHTML}}if(!ay){ax.push(aC)}}return ax}b.DataSource=p;b.Model=U;b.getter=F;b.setter=ak;var an={paramName:"data",useWithBlock:true,begin:"<#",end:"#>",render:function(az,e){var ax,ay,aw="";for(ax=0,ay=e.length;ax<ay;ax++){aw+=az(e[ax])}return aw},compile:function(aE,aA){var aD=A({},this,aA),aB=aD.paramName,e=aD.begin,ax=aD.end,aF=aD.useWithBlock,az="var o='',e = $.telerik.htmlEncode;",aw=/\${([^}]*)}/g,ay=new RegExp(e+"=(.+?)"+ax,"g"),aC=new RegExp("'(?=[^"+ax[0]+"]*"+ax+")","g");az+=aF?"with("+aB+"){":"";az+="o+='";az+=aE.replace(/[\r\t\n]/g," ").replace(aC,"\t").split("'").join("\\'").split("\t").join("'").replace(aw,"';o+=e($1);o+='").replace(ay,"';o+=$1;o+='").split(e).join("';").split(ax).join("o+='");az+=aF?"'}":"';";az+="return o;";return new Function(aB,az)}};function G(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}a.telerik.template=a.proxy(an.compile,an);a.telerik.htmlEncode=G;var k=X.extend({init:function(e,aw){var ax=this;X.fn.init.call(ax);ax.element=a(e);ax.options=A(true,{},ax.options,aw)}});a.telerik.Component=k})(jQuery);
(function(a){var b=a.telerik,m=function(){},e={},g={},c={},i={owner:[null]},l=b.isTouch?"touchend":"mouseup",j=b.isTouch?"touchstart":"mousedown",k=b.isTouch?"touchmove":"mousemove",f={scope:"default",drop:m,over:m,out:m,owner:document.body},d={distance:5,cursorAt:{left:10,top:b.isTouch?-40/b.zoomLevel():10},scope:"default",start:m,drag:m,stop:m,destroy:m,owner:document.body,cue:function(){return a("<span />")}};b.scripts.push("telerik.draganddrop.js");function n(p){var q=0,o;for(o in p){p.hasOwnProperty(o)&&q++}return q}function h(o,q){var p={owner:[null]};a.each(q,function(){var s=this,r=s.owner;if(r&&a.contains(r,o)){p=a.extend(p,s);p.selector&&(p.owner=a(o).closest(p.selector)[0]);return false}});return p}b.droppable=function(o){a.extend(this,f,o);a(this.owner).delegate(this.selector,"mouseenter",a.proxy(this._over,this)).delegate(this.selector,l,a.proxy(this._drop,this)).delegate(this.selector,"mouseleave",a.proxy(this._out,this));if(!(this.scope in g)){g[this.scope]=[this]}else{g[this.scope].push(this)}};b.droppable.prototype={_over:function(o){this._raise(o,this.over)},_out:function(o){this._raise(o,this.out)},_drop:function(o){this._raise(o,a.proxy(function(p){this.drop(p);p.destroy(p)},this))},_raise:function(q,o){var p=e[this.scope],r=a(b.eventCurrentTarget(q)).closest(this.selector);if(p){o(a.extend(q,p,{$droppable:r}))}}};b.dragCue=function(o){return a('<div class="t-header t-drag-clue" />').html(o).prepend('<span class="t-icon t-drag-status t-denied" />').appendTo(document.body)};b.dragCueStatus=function(o,p){o.find(".t-drag-status").attr("class","t-icon t-drag-status").addClass(p)};b.draggable=function(o){a.extend(this,d,o);a(this.owner).delegate(this.selector,j,a.proxy(this._wait,this)).delegate(this.selector,"dragstart",b.preventDefault);this._startProxy=a.proxy(this._start,this);this._destroyProxy=a.proxy(this._destroy,this);this._stopProxy=a.proxy(this._stop,this);this._dragProxy=a.proxy(this._drag,this)};b.draggable.get=function(o){return e[o]};b.draggable.prototype={_raise:function(q,o){var p=e[this.scope];if(p){return o(a.extend(q,p))}},_startDrag:function(q,p){q=a(q);this.$target=q;if(p){this._startPosition=p}else{var o=q.offset();this._startPosition={x:o.left,y:o.top}}a(document).bind(k+"."+this.scope,this._startProxy).bind(l+"."+this.scope,this._destroyProxy)},_wait:function(o){if(b.isTouch){o.stopImmediatePropagation()}this._startDrag(o.currentTarget,b.touchLocation(o));a(document.documentElement).trigger(j,o);if(!b.isTouch){return false}},_start:function(q){var r=b.touchLocation(q),s=this._startPosition.x-r.x,t=this._startPosition.y-r.y;var p=Math.sqrt((s*s)+(t*t));if(p>=this.distance){if(b.isTouch){q.stopImmediatePropagation();q.preventDefault()}var o=c[this.selector];if(!o){o=c[this.selector]=this.cue({$draggable:this.$target})}a(document).unbind("."+this.scope).bind(k+"."+this.scope,this._dragProxy).bind(l+"."+this.scope,this._stopProxy).bind("keydown."+this.scope,this._stopProxy).bind("selectstart."+this.scope,false);e[this.scope]={$cue:o.css({position:"absolute",left:r.x+this.cursorAt.left,top:r.y+this.cursorAt.top}),$draggable:this.$target,destroy:this._destroyProxy};if(this._raise(q,this.start)===false){this._destroy(q)}}},_drag:function(r){if(b.isTouch){r.stopImmediatePropagation()}var u=b.touchLocation(r);if(b.isTouch&&n(g)){var q=b.eventTarget(r);if(q){var p=g[this.scope],v=h(q,p),s=v.owner,t=i.owner,o=t!=s;if(o){if(t!=null&&"_out" in i){i._out(r)}if(s&&a.contains(s,q)&&"_over" in v){v._over(r)}i=v}}}this._raise(r,this.drag);e[this.scope].$cue.css({left:u.x+this.cursorAt.left,top:u.y+this.cursorAt.top})},_stop:function(r){if(b.isTouch){r.stopImmediatePropagation()}if(r.type==l||r.keyCode==27){a(document).unbind("."+this.scope)}if(b.isTouch&&n(g)){var q=b.eventTarget(r);if(q){var p=g[this.scope],s=h(q,p);if(s.owner&&"_drop" in s){i={owner:[null]};s._drop(r)}}}if(this._raise(r,this.stop)===false){this._destroy(r)}else{var o=e[this.scope];if(o){o.$cue.animate(o.$draggable.offset(),"fast",this._destroyProxy)}}},_destroy:function(o){a(document).unbind("."+this.scope);this._raise(o,this.destroy);e[this.scope]=null;c[this.selector]=null}}})(jQuery);
(function(a){var u,b=a.telerik,p=/\.([^\.]+)$/;b.scripts.push("telerik.upload.js");b.upload=function(w,x){a.extend(this,x);this.element=w;this.name=w.name;var v=a(w);this.wrapper=v.closest(".t-upload");if(this.wrapper.length==0){this.wrapper=this._wrapInput(v)}this._setActiveInput(v);this.toggle(this.enabled);v.closest("form").bind({submit:a.proxy(this._onParentFormSubmit,this),reset:a.proxy(this._onParentFormReset,this)});if(this.async.saveUrl!=u){this._module=this._getSupportsFormData()?new d(this):new l(this)}else{this._module=new s(this)}if(this._getSupportsDrop()){this._setupDropZone()}this.wrapper.delegate(".t-upload-action","click",a.proxy(this._onFileAction,this)).delegate(".t-upload-selected","click",a.proxy(this._onUploadSelected,this)).delegate(".t-file","t:progress",a.proxy(this._onFileProgress,this)).delegate(".t-file","t:upload-success",a.proxy(this._onUploadSuccess,this)).delegate(".t-file","t:upload-error",a.proxy(this._onUploadError,this));b.bind(this.wrapper,{load:this.onLoad,select:this.onSelect,upload:this.onUpload,success:this.onSuccess,error:this.onError,complete:this.onComplete,cancel:this.onCancel,remove:this.onRemove});var y=a(this.wrapper).data("tUpload",this);a(w).bind("load",function(){b.trigger(y,"load")})};b.upload.prototype={enable:function(){this.toggle(true)},disable:function(){this.toggle(false)},toggle:function(v){v=typeof v==="undefined"?v:!v;this.wrapper.toggleClass("t-state-disabled",v)},_addInput:function(v){v.insertAfter(this.element).data("tUpload",this);a(this.element).hide().removeAttr("id");this._setActiveInput(v)},_setActiveInput:function(v){var w=this.wrapper;this.element=v;v.attr("multiple",this._getSupportsMultiple()?this.multiple:false).attr("autocomplete","off").click(function(x){if(w.hasClass("t-state-disabled")){x.preventDefault()}}).change(a.proxy(this._onInputChange,this))},_onInputChange:function(v){var y=this,w=a(v.target),x=b.trigger(y.wrapper,"select",{files:k(w)});if(x){y._addInput(w.clone().val(""));w.remove()}else{w.trigger("t:select")}},_onDrop:function(x){var w=x.originalEvent.dataTransfer,v=w.files;q(x);if(v.length>0){var y=b.trigger(this.wrapper,"select",{files:e(v)});if(!y){a(".t-dropzone",this.wrapper).trigger("t:select",[v])}}},_enqueueFile:function(z,v){var y=a(".t-upload-files",this.wrapper);if(y.length==0){y=a("<ul class='t-upload-files t-reset'></ul>").appendTo(this.wrapper);if(!this.showFileList){y.hide()}}var w=a(".t-file",y);var x=a("<li class='t-file'><span class='t-icon'></span><span class='t-filename' title='"+z+"'>"+z+"</span></li>").appendTo(y).data(v);if(!this.multiple){w.trigger("t:remove")}return x},_removeFileEntry:function(w){var x=w.closest(".t-upload-files"),v;w.remove();v=a(".t-file",x);if(v.find("> .t-fail").length===v.length){this._hideUploadButton()}if(v.length==0){x.remove()}},_setFileAction:function(x,v){var w={remove:"t-delete",cancel:"t-cancel",retry:"t-retry"};if(!w.hasOwnProperty(v)){return}this._clearFileAction(x);x.append(this._renderAction(w[v],this.localization[v]).addClass("t-upload-action"))},_setFileState:function(w,y){var z={uploading:{cssClass:"t-loading",text:this.localization.statusUploading},uploaded:{cssClass:"t-success",text:this.localization.statusUploaded},failed:{cssClass:"t-fail",text:this.localization.statusFailed}};var v=z[y];if(v){var x=w.children(".t-icon").text(v.text);x[0].className="t-icon "+v.cssClass}},_renderAction:function(v,w){if(v!=""){return a("<button type='button' class='t-button t-button-icontext'><span class='t-icon "+v+"'></span>"+w+"</button>")}else{return a("<button type='button' class='t-button'>"+w+"</button>")}},_clearFileAction:function(v){v.find(".t-upload-action").remove()},_onFileAction:function(w){if(!this.wrapper.hasClass("t-state-disabled")){var v=a(w.target).closest(".t-upload-action"),z=v.find(".t-icon"),y=v.closest(".t-file"),x={files:y.data("fileNames")};if(z.hasClass("t-delete")){if(!b.trigger(this.wrapper,"remove",x)){y.trigger("t:remove",x.data)}}else{if(z.hasClass("t-cancel")){b.trigger(this.wrapper,"cancel",x);y.trigger("t:cancel");this._checkAllComplete()}else{if(z.hasClass("t-retry")){y.trigger("t:retry")}}}}return false},_onUploadSelected:function(){this.wrapper.trigger("t:saveSelected");return false},_onFileProgress:function(v,w){var x=a(".t-progress-status",v.target);if(x.length==0){x=a("<span class='t-progress'><span class='t-progress-status' style='width: 0;'></span></span>").appendTo(a(".t-filename",v.target)).find(".t-progress-status")}x.width(w+"%")},_onUploadSuccess:function(v,x,y){var w=g(v);this._setFileState(w,"uploaded");b.trigger(this.wrapper,"success",{files:w.data("fileNames"),response:x,operation:"upload",XMLHttpRequest:y});if(this._supportsRemove()){this._setFileAction(w,"remove")}else{this._clearFileAction(w)}this._checkAllComplete()},_onUploadError:function(v,y){var w=g(v);this._setFileState(w,"failed");this._setFileAction(w,"retry");var x=b.trigger(this.wrapper,"error",{operation:"upload",files:w.data("fileNames"),XMLHttpRequest:y});n("Server response: "+y.responseText);if(!x){this._alert("Error! Upload failed. Unexpected server response - see console.")}this._checkAllComplete()},_showUploadButton:function(){var v=a(".t-upload-selected",this.wrapper);if(v.length==0){v=this._renderAction("",this.localization.uploadSelectedFiles).addClass("t-upload-selected")}this.wrapper.append(v)},_hideUploadButton:function(){a(".t-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var x=this,v=x.element;v.trigger("t:abort");if(!v.value){var w=a(v);w.attr("disabled","disabled");window.setTimeout(function(){w.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".t-upload-files",this.wrapper).remove()},_getSupportsFormData:function(){return typeof(FormData)!="undefined"},_getSupportsMultiple:function(){return !a.browser.opera},_getSupportsDrop:function(){var y=this._getUserAgent().toLowerCase(),v=/chrome/.test(y),w=!v&&/safari/.test(y),x=w&&/windows/.test(y);return !x&&this._getSupportsFormData()&&(this.async.saveUrl!=u)},_getUserAgent:function(){return navigator.userAgent},_setupDropZone:function(){a(".t-upload-button",this.wrapper).wrap("<div class='t-dropzone'></div>");var v=a(".t-dropzone",this.wrapper).append(a("<em>"+this.localization.dropFilesHere+"</em>")).bind({dragenter:q,dragover:function(w){w.preventDefault()},drop:a.proxy(this._onDrop,this)});c(v,function(){v.addClass("t-dropzone-hovered")},function(){v.removeClass("t-dropzone-hovered")});c(a(document),function(){v.addClass("t-dropzone-active")},function(){v.removeClass("t-dropzone-active")})},_supportsRemove:function(){return this.async.removeUrl!=u},_submitRemove:function(w,v,y,x){var z=a.extend(v,f());z.fileNames=w;a.ajax({type:"POST",dataType:"json",url:this.async.removeUrl,traditional:true,data:z,success:y,error:x})},_alert:function(v){alert(v)},_wrapInput:function(v){v.wrap("<div class='t-widget t-upload'><div class='t-button t-upload-button'></div></div>");v.closest(".t-button").append("<span>"+this.localization.select+"</span>");return v.closest(".t-upload")},_checkAllComplete:function(){if(a(".t-file .t-icon.t-loading",this.wrapper).length==0){b.trigger(this.wrapper,"complete")}}};a.fn.tUpload=function(v){return b.create(this,{name:"tUpload",init:function(w,x){return new b.upload(w,x)},options:v})};a.fn.tUpload.defaults={enabled:true,multiple:true,showFileList:true,async:{},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}};var s=function(v){this.name="syncUploadModule";this.element=v.wrapper;this.upload=v;this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:remove",a.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};s.prototype={onSelect:function(v){var y=this.upload;var x=a(v.target);y._addInput(x.clone().val(""));var w=y._enqueueFile(j(x),{relatedInput:x,fileNames:k(x)});y._setFileAction(w,"remove")},onRemove:function(v){var w=g(v);w.data("relatedInput").remove();this.upload._removeFileEntry(w)}};var l=function(v){this.name="iframeUploadModule";this.element=v.wrapper;this.upload=v;this.iframes=[];this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:cancel",a.proxy(this.onCancel,this)).bind("t:retry",a.proxy(this.onRetry,this)).bind("t:remove",a.proxy(this.onRemove,this)).bind("t:saveSelected",a.proxy(this.onSaveSelected,this)).bind("t:abort",a.proxy(this.onAbort,this))};b.upload._frameId=0;l.prototype={onSelect:function(v){var y=this.upload,x=a(v.target);var w=this.prepareUpload(x);if(y.async.autoUpload){this.performUpload(w)}else{if(y._supportsRemove()){this.upload._setFileAction(w,"remove")}y._showUploadButton()}},prepareUpload:function(A){var B=this.upload;var v=a(B.element);var z=B.async.saveField||A.attr("name");B._addInput(A.clone().val(""));A.attr("name",z);var y=this.createFrame(B.name+"_"+b.upload._frameId++);this.registerFrame(y);var x=this.createForm(B.async.saveUrl,y.attr("name")).append(v);var w=B._enqueueFile(j(A),{frame:y,relatedInput:v,fileNames:k(A)});y.data({form:x,file:w});return w},performUpload:function(x){var w={files:x.data("fileNames")},z=x.data("frame"),B=this.upload;if(!b.trigger(B.wrapper,"upload",w)){B._hideUploadButton();z.appendTo(document.body);var y=z.data("form").appendTo(document.body);w.data=a.extend({},w.data,f());for(var A in w.data){var v=y.find("input[name='"+A+"']");if(v.length==0){v=a("<input>",{type:"hidden",name:A}).prependTo(y)}v.val(w.data[A])}B._setFileAction(x,"cancel");B._setFileState(x,"uploading");z.one("load",a.proxy(this.onIframeLoad,this));y[0].submit()}else{B._removeFileEntry(z.data("file"));this.cleanupFrame(z);this.unregisterFrame(z)}},onSaveSelected:function(v){var w=this;a(".t-file",this.element).each(function(){var x=a(this),y=m(x);if(!y){w.performUpload(x)}})},onIframeLoad:function(v){var w=a(v.target);try{var x=w.contents().text()}catch(v){x="Error trying to get server response: "+v}this.processResponse(w,x)},processResponse:function(x,z){var w=x.data("file"),y=this,v={responseText:z};t(z,function(A){a.extend(v,{statusText:"OK",status:"200"});w.trigger("t:upload-success",[A,v]);y.cleanupFrame(x);y.unregisterFrame(x)},function(){a.extend(v,{statusText:"error",status:"500"});w.trigger("t:upload-error",[v])})},onCancel:function(v){var w=a(v.target).data("frame");this.stopFrameSubmit(w);this.cleanupFrame(w);this.unregisterFrame(w);this.upload._removeFileEntry(w.data("file"))},onRetry:function(v){var w=g(v);this.performUpload(w)},onRemove:function(w,v){var x=g(w);var y=x.data("frame");if(y){this.unregisterFrame(y);this.upload._removeFileEntry(x);this.cleanupFrame(y)}else{o(x,this.upload,v)}},onAbort:function(){var v=this.element,w=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(v);w.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(v){return a("<iframe name='"+v+"' id='"+v+"' style='display:none;' />")},createForm:function(v,w){return a("<form enctype='multipart/form-data' method='POST' action='"+v+"' target='"+w+"'/>")},stopFrameSubmit:function(v){if(typeof(v.stop)!="undefined"){v.stop()}else{if(v.document){v.document.execCommand("Stop");v.contentWindow.location.href=v.contentWindow.location.href}}},registerFrame:function(v){this.iframes.push(v)},unregisterFrame:function(v){this.iframes=a.grep(this.iframes,function(w){return w.attr("name")!=v.attr("name")})},cleanupFrame:function(w){var v=w.data("form");w.data("file").data("frame",null);setTimeout(function(){v.remove();w.remove()},1)}};var d=function(v){this.name="formDataUploadModule";this.element=v.wrapper;this.upload=v;this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:cancel",a.proxy(this.onCancel,this)).bind("t:remove",a.proxy(this.onRemove,this)).bind("t:retry",a.proxy(this.onRetry,this)).bind("t:saveSelected",a.proxy(this.onSaveSelected,this)).bind("t:abort",a.proxy(this.onAbort,this))};d.prototype={onSelect:function(v,z){var B=this.upload,y=this,A=a(v.target),x=z?e(z):this.getInputFiles(A),w=this.prepareUpload(A,x);a.each(w,function(){if(B.async.autoUpload){y.performUpload(this)}else{if(B._supportsRemove()){B._setFileAction(this,"remove")}B._showUploadButton()}})},prepareUpload:function(x,w){var v=this.enqueueFiles(w);if(x.is("input")){a.each(v,function(){a(this).data("relatedInput",x)});x.data("relatedFileEntries",v);this.upload._addInput(x.clone().val(""))}return v},enqueueFiles:function(v){var A=this.upload;fileEntries=[];for(var y=0;y<v.length;y++){var w=v[y],z=w.name;var x=A._enqueueFile(z,{fileNames:[w]});x.data("formData",this.createFormData(v[y]));fileEntries.push(x)}return fileEntries},getInputFiles:function(v){return k(v)},performUpload:function(w){var z=this.upload,x=w.data("formData"),v={files:w.data("fileNames")};if(!b.trigger(this.element,"upload",v)){z._setFileAction(w,"cancel");z._hideUploadButton();if(!w.data("dataAppended")){v.data=a.extend({},v.data,f());for(var y in v.data){x.append(y,v.data[y])}w.data("dataAppended",true)}z._setFileState(w,"uploading");this.postFormData(this.upload.async.saveUrl,x,w)}else{this.removeFileEntry(w)}},onSaveSelected:function(v){var w=this;a(".t-file",this.element).each(function(){var x=a(this),y=m(x);if(!y){w.performUpload(x)}})},onCancel:function(v){var w=g(v);this.stopUploadRequest(w);this.removeFileEntry(w)},onRetry:function(v){var w=g(v);this.performUpload(w)},onRemove:function(w,v){var x=g(w);if(x.children(".t-icon").is(".t-success")){o(x,this.upload,v)}else{this.removeFileEntry(x)}},postFormData:function(y,v,w){var z=new XMLHttpRequest(),x=this;w.data("request",z);z.addEventListener("load",function(A){x.onRequestSuccess.call(x,A,w)},false);z.addEventListener("error",function(A){x.onRequestError.call(x,A,w)},false);z.upload.addEventListener("progress",function(A){x.onRequestProgress.call(x,A,w)},false);z.open("POST",y);z.send(v)},createFormData:function(v){var w=new FormData(),x=this.upload;w.append(x.async.saveField||x.name,v.rawFile);return w},onRequestSuccess:function(v,w){var y=v.target,x=this;t(y.responseText,function(z){w.trigger("t:upload-success",[z,y]);w.trigger("t:progress",[100]);x.cleanupFileEntry(w)},function(){w.trigger("t:upload-error",[y])})},onRequestError:function(v,w){var x=v.target;w.trigger("t:upload-error",[x])},cleanupFileEntry:function(v){var w=v.data("relatedInput"),x=true;if(w){a.each(w.data("relatedFileEntries"),function(){if(this.parent().length>0&&this[0]!=v[0]){x=x&&this.children(".t-icon").is(".t-success")}});if(x){w.remove()}}v.data("formData",null)},removeFileEntry:function(v){this.cleanupFileEntry(v);this.upload._removeFileEntry(v)},onRequestProgress:function(v,w){var x=Math.round(v.loaded*100/v.total);w.trigger("t:progress",[x])},stopUploadRequest:function(v){v.data("request").abort()}};function j(v){return a.map(k(v),function(w){return w.name}).join(", ")}function k(v){var w=v[0];if(w.files){return e(w.files)}else{return[{name:r(w.value),extension:h(w.value),size:null}]}}function e(v){return a.map(v,function(w){return i(w)})}function i(w){var v=w.name||w.fileName;return{name:v,extension:h(v),size:w.size||w.fileSize,rawFile:w}}function h(v){var w=v.match(p);return w?w[0]:""}function r(v){var w=v.lastIndexOf("\\");return(w!=-1)?v.substr(w+1):v}function o(w,B,v){if(!B._supportsRemove()){return}var y=w.data("fileNames");var x=a.map(y,function(C){return C.name});B._submitRemove(x,v,function A(C,D,E){B._removeFileEntry(w);b.trigger(B.wrapper,"success",{operation:"remove",files:y,response:C,XMLHttpRequest:E})},function z(E,D,D){var C=b.trigger(B.wrapper,"error",{operation:"remove",files:y,XMLHttpRequest:E});n("Server response: "+E.responseText);if(!C){B._alert("Error! Remove operation failed. Unexpected response - see console.")}})}function t(w,z,y){try{var x=a.parseJSON(w)}catch(v){y();return}z(x)}function q(v){v.stopPropagation();v.preventDefault()}function c(v,y,z){var w,x;v.bind("dragenter",function(A){y();x=new Date();if(!w){w=setInterval(function(){var B=new Date()-x;if(B>100){z();clearInterval(w);w=null}},100)}}).bind("dragover",function(A){x=new Date()})}function m(v){return v.children(".t-icon").is(".t-loading, .t-success, .t-fail")}function n(v){if(typeof(console)!="undefined"&&console.log){console.log(v)}}function g(v){return a(v.target).closest(".t-file")}function f(){var v={};a("input[name^='__RequestVerificationToken']").each(function(){v[this.name]=this.value});return v}})(jQuery);
(function(a,i){var b=a.telerik,c=a.extend,f=">.t-group,>.t-animation-container>.t-group",h="t-treeview",g;b.scripts.push("telerik.treeview.js");function d(l){l.find(".t-plus").each(function(){var m=a(this.parentNode);m.parent().data("loaded",m.next(".t-group").length>0)})}function k(m){var q=m.find(">div"),n=m.find(">ul"),p=q.find(">.t-icon"),l=q.find(">.t-in"),o;if(m.hasClass("t-treeview")){return}if(!q.length){q=a("<div />").prependTo(m)}if(!p.length&&n.length){p=a("<span class='t-icon' />").prependTo(q)}else{if(!n.length||!n.children().length){p.remove();n.remove()}}if(!l.length){l=a("<span class='t-in' />").appendTo(q)[0];currentNode=q[0].nextSibling;l=q.find(".t-in")[0];while(currentNode&&currentNode.nodeName.toLowerCase()!="ul"){o=currentNode;currentNode=currentNode.nextSibling;l.appendChild(o)}}}var e={wrapperCssClass:function(l,n){var o="t-item",m=n.itemIndex;if(l.isFirstLevel&&m==0){o+=" t-first"}if(m==l.itemsCount-1){o+=" t-last"}return o},cssClass:function(l,o){var p="",n=o.itemIndex,m=l.itemsCount-1;if(l.isFirstLevel&&n==0){p+="t-top "}if(n==0&&n!=m){p+="t-top"}else{if(n==m){p+="t-bot"}else{p+="t-mid"}}return p},toggleButtonClass:function(l){var m="t-icon";if(l.isExpanded!==true){m+=" t-plus"}else{m+=" t-minus"}if(l.enabled===false){m+="-disabled"}return m}};function j(m,l,n){var p=m.find(">div"),o=m.find(">ul");if(m.hasClass("t-treeview")){return}if(!n){n={isExpanded:!(o.css("display")=="none"),itemIndex:m.index(),enabled:!p.find(">.t-in").hasClass("t-state-disabled")}}if(!l){l={isFirstLevel:m.parent().parent().hasClass(h),itemsCount:m.parent().children().length}}m.removeClass("t-first t-last").addClass(e.wrapperCssClass(l,n));p.removeClass("t-top t-mid t-bot").addClass(e.cssClass(l,n));if(o.length){p.find(">.t-icon").removeClass("t-plus t-minus t-plus-disabled t-minus-disabled").addClass(e.toggleButtonClass(n));o.addClass("t-group")}}g=b.treeview=function(n,o){this.element=n;var l=a(n);a.extend(this,o);var m=".t-in:not(.t-state-selected,.t-state-disabled)";a(".t-in.t-state-selected",n).live("mouseenter",b.preventDefault);l.delegate(m,"mouseenter",b.hover).delegate(m,"mouseleave",b.leave).delegate(m,"click",b.delegate(this,this.nodeSelect)).delegate("div:not(.t-state-disabled) .t-in","dblclick",b.delegate(this,this.nodeClick)).delegate(":checkbox","click",a.proxy(this.checkboxClick,this)).delegate(".t-plus, .t-minus",b.isTouch?"touchend":"click",b.delegate(this,this.nodeClick));if(this.isAjax()){d(l)}if(this.dragAndDrop){b.bind(this,{nodeDragStart:this.onNodeDragStart,nodeDragging:this.onNodeDragging,nodeDragCancelled:this.onNodeDragCancelled,nodeDrop:this.onNodeDrop,nodeDropped:this.onNodeDropped});(function(u){var p=a("<div class='t-drop-clue' />");var q;function s(v){if(b.trigger(u.element,"nodeDragStart",{item:v.$draggable.closest(".t-item")[0]})){return false}p.appendTo(u.element)}function r(x){var G;q=a(b.eventTarget(x));if(u.dragAndDrop.dropTargets&&q.closest(u.dragAndDrop.dropTargets).length>0){G="t-add"}else{if(!a.contains(u.element,q[0])){G="t-denied"}else{if(a.contains(x.$draggable.closest(".t-item")[0],q[0])){G="t-denied"}else{G="t-insert-middle";p.css("visibility","visible");var y=q.closest(".t-top,.t-mid,.t-bot");if(y.length){var D=y.outerHeight(),E=y.offset().top,C=q.closest(".t-in"),w=D/(C.length>0?4:2),F=b.touchLocation(x),B=F.y<(E+w),A=(E+D-w)<F.y,v=C.length>0&&!B&&!A;y.siblings(".t-top,.t-mid,.t-bot").children(".t-state-hover").removeClass("t-state-hover");C.toggleClass("t-state-hover",v);p.css("visibility",v?"hidden":"visible");if(v){G="t-add"}else{var z=y.position();z.top+=B?0:D;p.css(z)[B?"prependTo":"appendTo"](q.closest(".t-item").find("> div:first"));if(B&&y.hasClass("t-top")){G="t-insert-top"}if(A&&y.hasClass("t-bot")){G="t-insert-bottom"}}}}}}b.trigger(u.element,"nodeDragging",{pageY:x.pageY,pageX:x.pageX,dropTarget:q[0],status:G.substring(2),setStatusClass:function(H){G=H},item:x.$draggable.closest(".t-item")[0]});if(G.indexOf("t-insert")!=0){p.css("visibility","hidden")}b.dragCueStatus(x.$cue,G)}function t(x){if(x.keyCode==27){b.trigger(u.element,"nodeDragCancelled",{item:x.$draggable.closest(".t-item")[0]})}else{var w="over",v,D=b.eventTarget(x);if(p.css("visibility")=="visible"){w=p.prevAll(".t-in").length>0?"after":"before";v=p.closest(".t-item").find("> div")}else{if(q){v=q.closest(".t-top,.t-mid,.t-bot")}}var z=!x.$cue.find(".t-drag-status").hasClass("t-denied"),y=b.trigger(u.element,"nodeDrop",{isValid:z,dropTarget:D,destinationItem:v.parent()[0],dropPosition:w,item:x.$draggable.closest(".t-item")[0]});if(!z){return false}if(y||!a.contains(u.element,D)){return !y}var C=x.$draggable.closest(".t-top,.t-mid,.t-bot");var A=C.parent();var B=C.closest(".t-group");if(a.contains(A[0],D)){return false}if(A.hasClass("t-last")){A.removeClass("t-last").prev().addClass("t-last").find("> div").removeClass("t-top t-mid").addClass("t-bot")}if(p.css("visibility")=="visible"){v.parent()[w](A)}else{var E=v.next(".t-group");if(E.length===0){E=a('<ul class="t-group" />').appendTo(v.parent());if(!u.isAjax()){v.prepend('<span class="t-icon t-minus" />')}else{E.hide();u.nodeToggle(null,v.parent(),true);E.show()}}E.append(A);if(v.find("> .t-icon").hasClass("t-plus")){u.nodeToggle(null,v.parent(),true)}}j(A);j(A.prev());j(A.next());if(B.children().length===0){B.prev("div").find(".t-plus,.t-minus").remove();B.remove()}if(b.isTouch){v.children(".t-in").removeClass("t-state-hover")}b.trigger(u.element,"nodeDropped",{destinationItem:v.closest(".t-item")[0],dropPosition:w,item:C.parent(".t-item")[0]});return false}}new b.draggable({owner:u.element,selector:"div:not(.t-state-disabled) .t-in",scope:u.element.id,cue:function(v){return b.dragCue(b.encode(v.$draggable.text()))},start:s,drag:r,stop:t,destroy:function(v){p.remove();v.$cue.remove()}})})(this)}b.bind(this,{expand:this.onExpand,collapse:this.onCollapse,select:a.proxy(function(p){if(p.target==this.element&&this.onSelect){a.proxy(this.onSelect,this.element)(p)}},this),checked:this.onChecked,error:this.onError,load:this.onLoad,dataBinding:this.onDataBinding,dataBound:this.onDataBound})};g.prototype={expand:function(l){a(l,this.element).each(a.proxy(function(o,p){var m=a(p);var n=m.find("> .t-group, > .t-content");if((n.length>0&&!n.is(":visible"))||(this.isAjax()&&m.data("loaded")===false)){this.nodeToggle(null,m)}},this))},collapse:function(l){a(l,this.element).each(a.proxy(function(o,p){var m=a(p),n=m.find("> .t-group, > .t-content");if(n.length>0&&n.is(":visible")){this.nodeToggle(null,m)}},this))},enable:function(l){this.toggle(l,true)},disable:function(l){this.toggle(l,false)},toggle:function(m,l){a(m,this.element).each(a.proxy(function(p,r){var n=a(r),q=!n.find("> .t-group, > .t-content").is(":visible");if(!l){this.collapse(n);q=true}n.find("> div > .t-in").toggleClass("t-state-default",l).toggleClass("t-state-disabled",!l).end().find("> div > .t-icon").toggleClass("t-plus",q&&l).toggleClass("t-plus-disabled",q&&!l).toggleClass("t-minus",!q&&l).toggleClass("t-minus-disabled",!q&&!l);var o=n.find("> div > .t-checkbox > :checkbox");if(l){o.removeAttr("disabled")}else{o.attr("disabled","disabled")}},this))},reload:function(l){var m=this;a(l).each(function(){var n=a(this);n.find(".t-group").remove();m.ajaxRequest(n)})},shouldNavigate:function(m){var l=a(m).closest(".t-item").find("> .t-content, > .t-group");var n=a(m).attr("href");return !((n&&(n.charAt(n.length-1)=="#"||n.indexOf("#"+this.element.id+"-")!=-1))||(l.length>0&&l.children().length==0))},nodeSelect:function(m,n){if(!this.shouldNavigate(n)){m.preventDefault()}var l=a(n);if(!l.hasClass(".t-state-selected")&&!b.trigger(this.element,"select",{item:l.closest(".t-item")[0]})){a(".t-in",this.element).removeClass("t-state-hover t-state-selected");l.addClass("t-state-selected")}},nodeToggle:function(n,l,p){if(l.find(".t-minus").length==0&&l.find(".t-plus").length==0){return}if(n!=null){n.preventDefault()}if(l.data("animating")||l.find("> div > .t-in").hasClass("t-state-disabled")){return}l.data("animating",!p);var m=l.find(">.t-group, >.t-content, >.t-animation-container>.t-group, >.t-animation-container>.t-content"),o=!m.is(":visible");if(m.children().length>0&&l.data("loaded")!==false){if(!b.trigger(this.element,o?"expand":"collapse",{item:l[0]})){l.find("> div > .t-icon").toggleClass("t-minus",o).toggleClass("t-plus",!o);if(!p){b.fx[o?"play":"rewind"](this.effects,m,{direction:"bottom"},function(){l.data("animating",false)})}else{m[o?"show":"hide"]()}}else{l.data("animating",false)}}else{if(o&&this.isAjax()&&(m.length==0||l.data("loaded")===false)){if(!b.trigger(this.element,o?"expand":"collapse",{item:l[0]})){this.ajaxRequest(l)}else{l.data("animating",false)}}}},nodeClick:function(n,o){var l=a(o),m=l.closest(".t-item");if(l.hasClass("t-plus-disabled")||l.hasClass("t-minus-disabled")){return}this.nodeToggle(n,m)},isAjax:function(){return this.ajax||this.ws||this.onDataBinding},url:function(l){return(this.ajax||this.ws)[l]},ajaxOptions:function(l,o){var p={type:"POST",dataType:"text",error:a.proxy(function(r,q){if(b.ajaxError(this.element,"error",r,q)){return}if(q=="parsererror"){alert("Error! The requested URL did not return JSON.")}},this),success:a.proxy(function(q){q=eval("("+q+")");q=q.d||q;this.dataBind(l,q)},this),complete:function(){l.data("animating",false)}};p=a.extend(p,o);var n=this.ws?p.data.node={}:p.data;if(l.hasClass("t-item")){n[this.queryString.value]=this.getItemValue(l);n[this.queryString.text]=this.getItemText(l);var m=l.find(".t-checkbox:first :checkbox");if(m.length){n[this.queryString.checked]=m.is(":checked")}}if(this.ws){p.data=b.toJson(p.data);p.contentType="application/json; charset=utf-8"}return p},ajaxRequest:function(l){l=l||a(this.element);var m={item:l[0]};if(b.trigger(this.element,"dataBinding",m)||(!this.ajax&&!this.ws)){return}l.data("loadingIconTimeout",setTimeout(function(){l.find("> div > .t-icon").addClass("t-loading")},100));a.ajax(this.ajaxOptions(l,{data:a.extend({},m.data),url:this.url("selectUrl")}))},bindTo:function(l){this.dataBind(this.element,l)},dataBind:function(l,m){l=a(l);var o=l.find("> .t-group"),n=this.element,s=l.find("> div > .t-icon"),r=m.length>0;if(m.length==0){s.remove();o.remove();b.trigger(n,"dataBound",{item:l[0]});return}else{if(s.length==0){l.find("> div").prepend('<span class="t-icon t-plus" />')}}var p=new b.stringBuilder(),u=o.length==0,q=l.find('> div > .t-checkbox :input[name="'+n.id+'_checkedNodes.Index"]').val();if(!q&&l[0]!=n){var v=l.parentsUntil(".t-treeview",".t-item").andSelf().map(function(y,w){return a(w).index()});q=Array.prototype.join.call(v,":")}var t=(u?l.eq(0).is(".t-treeview")?true:m[0].Expanded:false);g.getGroupHtml({data:m,html:p,isAjax:this.isAjax(),isFirstLevel:l.hasClass("t-treeview"),showLines:this.showLines,showCheckBoxes:this.showCheckBox,groupLevel:q,isExpanded:t,renderGroup:u,elementId:n.id});if(o.length>0&&l.data("loaded")===false){a(p.string()).prependTo(o)}else{if(o.length>0&&l.data("loaded")!==false){o.html(p.string())}else{if(o.length==0){o=a(p.string()).appendTo(l)}}}l.data("animating",true);b.fx.play(this.effects,o,{direction:"bottom"},function(){l.data("animating",false)});clearTimeout(l.data("loadingIconTimeout"));if(l.hasClass("t-item")){l.data("loaded",true).find(".t-icon:first").removeClass("t-loading").removeClass("t-plus").addClass("t-minus")}if(this.isAjax()){d(l)}b.trigger(n,"dataBound",{item:l[0]})},checkboxClick:function(l){var m=a(l.target),n=m.is(":checked");var o=b.trigger(this.element,"checked",{item:m.closest(".t-item")[0],checked:n});if(!o){this.nodeCheck(m,n)}else{l.preventDefault()}},nodeCheck:function(m,l){a(m,this.element).each(a.proxy(function(r,t){var o=a(t).closest(".t-item"),n=a("> div > .t-checkbox",o),p=this.element.id+"_checkedNodes",s=n.find(':input[name="'+p+'.Index"]').val(),q=n.find(":checkbox");n.find("[type=hidden]").filter(function(){return(a(this).attr("name").indexOf(p+"["+s+"].")>-1)}).remove();q.attr("value",l?"True":"False");if(l){q.attr("checked","checked");a(g.getNodeInputsHtml(this.getItemValue(o),this.getItemText(o),p,s)).appendTo(n)}else{q.attr("checked",false)}},this))},getItemText:function(l){return a(l).find("> div > .t-in").text()},getItemValue:function(l){return a(l).find('>div>:input[name="itemValue"]').val()||this.getItemText(l)},findByText:function(l){return a(this.element).find(".t-in").filter(function(n,m){return a(m).text()==l}).closest(".t-item")},findByValue:function(l){return a(this.element).find("input[name='itemValue']").filter(function(n,m){return a(m).val()==l}).closest(".t-item")},_insertNode:function(v,r,w,m,s){var x=this,y=m.children().length+1,t=a.isArray(v),l=t||a.isPlainObject(v),n={showCheckBoxes:x.showCheckBox,isFirstLevel:w.hasClass(h),isExpanded:true,itemsCount:y},u,q,p=new b.stringBuilder();if(l){if(t){for(q=0;q<v.length;q++){g.getItemHtml(c({html:p,itemIndex:r+q,item:v[q]},n))}}else{g.getItemHtml(c({html:p,itemIndex:r,item:v},n))}u=a(p.string())}else{u=a(v);if(m.children()[r-1]==u[0]){return u}if(u.closest(".t-treeview")[0]==x.element){x.remove(u)}}if(!m.length){var o=new b.stringBuilder();g.getGroupHtml(c({html:o,renderGroup:true},n));m=a(o.string()).appendTo(w)}s(u,m);if(w.hasClass("t-item")){k(w);j(w)}if(!l){j(u)}j(u.prev());j(u.next());return u},insertAfter:function(m,n){var l=n.parent();return this._insertNode(m,n.index()+1,l.parent(),l,function(p,o){p.insertAfter(n)})},insertBefore:function(m,n){var l=n.parent();return this._insertNode(m,n.index(),l.parent(),l,function(p,o){p.insertBefore(n)})},append:function(m,n){n=a(n||this.element);var l=n.find(f);return this._insertNode(m,l.children().length,n,l,function(p,o){p.appendTo(o)})},remove:function(m){m=a(m);var p=this,n=m.parent().parent(),o=m.prev(),l=m.next();m.remove();if(n.hasClass("t-item")){k(n);j(n)}j(o);j(l)}};a.extend(g,{getNodeInputsHtml:function(n,m,l,o){return new b.stringBuilder().cat('<input type="hidden" value="').cat(n).cat('" name="'+l+"[").cat(o).cat('].Value" class="t-input">').cat('<input type="hidden" value="').cat(m).cat('" name="'+l+"[").cat(o).cat('].Text" class="t-input">').string()},getItemHtml:function(v){var r=v.item,o=v.html,q=v.isFirstLevel,n=v.groupLevel,s=v.itemIndex,t=v.itemsCount,l=new b.stringBuilder().cat(n).catIf(":",n).cat(s).string(),w=function(x){var y;if(typeof x!="undefined"){for(y in x){o.cat(" ").cat(y).cat('="').cat(x[y]).cat('"')}}},p=r.HtmlAttributes||r.htmlAttributes||{};o.cat('<li class="t-item').catIf(" t-first",q&&s==0).catIf(" t-last",s==t-1).cat('">').cat('<div class="').catIf("t-top ",q&&s==0).catIf("t-top",s!=t-1&&s==0).catIf("t-mid",s!=t-1&&s!=0).catIf("t-bot",s==t-1).catIf(" "+p["class"],p["class"]).cat('"');delete p["class"];w(p);o.cat(">");if((v.isAjax&&r.LoadOnDemand)||(r.Items&&r.Items.length>0)){o.cat('<span class="t-icon').catIf(" t-plus",r.Expanded!==true).catIf(" t-minus",r.Expanded===true).catIf("-disabled",r.Enabled===false).cat('"></span>')}if(v.showCheckBoxes&&r.Checkable!==false){var m=v.elementId+"_checkedNodes";o.cat('<span class="t-checkbox">').cat('<input type="hidden" value="').cat(l).cat('" name="').cat(m).cat(".Index").cat('" class="t-input"/>').cat('<input type="checkbox" value="').cat(r.Checked===true?"True":"False").cat('" class="t-input').cat('" name="').cat(m).cat("[").cat(l).cat('].Checked"').catIf(' disabled="disabled"',r.Enabled===false).catIf(' checked="checked"',r.Checked).cat("/>");if(r.Checked){o.cat(g.getNodeInputsHtml(r.Value,r.Text,m,l))}o.cat("</span>")}var u=r.NavigateUrl||r.Url;o.cat(u?'<a href="'+u+'" class="t-link ':'<span class="').cat("t-in").catIf(" t-state-disabled",r.Enabled===false).catIf(" t-state-selected",r.Selected===true).cat('">');if(r.ImageUrl!=null){o.cat("<img");w(a.extend({alt:"","class":"t-image",src:r.ImageUrl},r.ImageHtmlAttributes||r.imageHtmlAttributes||{}));o.cat(" />")}if(r.SpriteCssClasses!=null){o.cat('<span class="t-sprite ').cat(r.SpriteCssClasses).cat('"></span>')}o.catIf(r.Text,r.Encoded===false).catIf(r.Text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),r.Encoded!==false).cat(u?"</a>":"</span>");if(r.Value){o.cat('<input type="hidden" class="t-input" name="itemValue" value="').cat(r.Value).cat('" />')}o.cat("</div>");if(r.Items&&r.Items.length>0){g.getGroupHtml({data:r.Items,html:o,isAjax:v.isAjax,isFirstLevel:false,showCheckBoxes:v.showCheckBoxes,groupLevel:l,isExpanded:r.Expanded,elementId:v.elementId})}o.cat("</li>")},getGroupHtml:function(r){var l=r.data,n=r.html,t=r.showLines,p=r.isFirstLevel,s=r.renderGroup;if(s!==false){n.cat('<ul class="t-group').catIf(" t-treeview-lines",p&&(typeof t==typeof i||t)).cat('"').catIf(' style="display:none"',r.isExpanded!==true).cat(">")}if(l&&l.length>0){var m=g.getItemHtml;for(var o=0,q=l.length;o<q;o++){m({item:l[o],html:n,isAjax:r.isAjax,isFirstLevel:p,showCheckBoxes:r.showCheckBoxes,groupLevel:r.groupLevel,itemIndex:o,itemsCount:q,elementId:r.elementId})}}if(s!==false){n.cat("</ul>")}}});a.fn.tTreeView=function(l){return b.create(this,{name:"tTreeView",init:function(m,n){return new g(m,n)},options:l,success:function(m){if(m.isAjax()&&a(m.element).find(".t-item").length==0){m.ajaxRequest()}}})};a.fn.tTreeView.defaults={effects:b.fx.property.defaults("height"),queryString:{text:"Text",value:"Value",checked:"Checked"}}})(jQuery);
/* ============================================================
 * bootstrap-dropdown.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */


!function ($) {

  "use strict"; // jshint ;_;


 /* DROPDOWN CLASS DEFINITION
  * ========================= */

  var toggle = '[data-toggle="dropdown"]'
    , Dropdown = function (element) {
        var $el = $(element).on('click.dropdown.data-api', this.toggle)
        $('html').on('click.dropdown.data-api', function () {
          $el.parent().removeClass('open')
        })
      }

  Dropdown.prototype = {

    constructor: Dropdown

  , toggle: function (e) {
      var $this = $(this)
        , $parent
        , selector
        , isActive

      if ($this.is('.disabled, :disabled')) return

      selector = $this.attr('data-target')

      if (!selector) {
        selector = $this.attr('href')
        selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
      }

      $parent = $(selector)
      $parent.length || ($parent = $this.parent())

      isActive = $parent.hasClass('open')

      clearMenus()

      if (!isActive) $parent.toggleClass('open')

      return false
    }

  }

  function clearMenus() {
    $(toggle).parent().removeClass('open')
  }


  /* DROPDOWN PLUGIN DEFINITION
   * ========================== */

  $.fn.dropdown = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('dropdown')
      if (!data) $this.data('dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  $.fn.dropdown.Constructor = Dropdown


  /* APPLY TO STANDARD DROPDOWN ELEMENTS
   * =================================== */

  $(function () {
    $('html').on('click.dropdown.data-api', clearMenus)
    $('body')
      .on('click.dropdown', '.dropdown form', function (e) { e.stopPropagation() })
      .on('click.dropdown.data-api', toggle, Dropdown.prototype.toggle)
  })

}(window.jQuery);
/* ========================================================
 * bootstrap-tab.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */


!function ($) {

  "use strict"; // jshint ;_;


 /* TAB CLASS DEFINITION
  * ==================== */

  var Tab = function ( element ) {
    this.element = $(element)
  }

  Tab.prototype = {

    constructor: Tab

  , show: function () {
      var $this = this.element
        , $ul = $this.closest('ul:not(.dropdown-menu)')
        , selector = $this.attr('data-target')
        , previous
        , $target
        , e

      if (!selector) {
        selector = $this.attr('href')
        selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
      }

      if ( $this.parent('li').hasClass('active') ) return

      previous = $ul.find('.active a').last()[0]

      e = $.Event('show', {
        relatedTarget: previous
      })

      $this.trigger(e)

      if (e.isDefaultPrevented()) return

      $target = $(selector)

      this.activate($this.parent('li'), $ul)
      this.activate($target, $target.parent(), function () {
        $this.trigger({
          type: 'shown'
        , relatedTarget: previous
        })
      })
    }

  , activate: function ( element, container, callback) {
      var $active = container.find('> .active')
        , transition = callback
            && $.support.transition
            && $active.hasClass('fade')

      function next() {
        $active
          .removeClass('active')
          .find('> .dropdown-menu > .active')
          .removeClass('active')

        element.addClass('active')

        if (transition) {
          element[0].offsetWidth // reflow for transition
          element.addClass('in')
        } else {
          element.removeClass('fade')
        }

        if ( element.parent('.dropdown-menu') ) {
          element.closest('li.dropdown').addClass('active')
        }

        callback && callback()
      }

      transition ?
        $active.one($.support.transition.end, next) :
        next()

      $active.removeClass('in')
    }
  }


 /* TAB PLUGIN DEFINITION
  * ===================== */

  $.fn.tab = function ( option ) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('tab')
      if (!data) $this.data('tab', (data = new Tab(this)))
      if (typeof option == 'string') data[option]()
    })
  }

  $.fn.tab.Constructor = Tab


 /* TAB DATA-API
  * ============ */

  $(function () {
    $('body').on('click.tab.data-api', '[data-toggle="tab"], [data-toggle="pill"]', function (e) {
      e.preventDefault()
      $(this).tab('show')
    })
  })

}(window.jQuery);
/* ============================================================
 * bootstrap-button.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */


!function ($) {

  "use strict"; // jshint ;_;


 /* BUTTON PUBLIC CLASS DEFINITION
  * ============================== */

  var Button = function (element, options) {
    this.$element = $(element)
    this.options = $.extend({}, $.fn.button.defaults, options)
  }

  Button.prototype.setState = function (state) {
    var d = 'disabled'
      , $el = this.$element
      , data = $el.data()
      , val = $el.is('input') ? 'val' : 'html'

    state = state + 'Text'
    data.resetText || $el.data('resetText', $el[val]())

    $el[val](data[state] || this.options[state])

    // push to event loop to allow forms to submit
    setTimeout(function () {
      state == 'loadingText' ?
        $el.addClass(d).attr(d, d) :
        $el.removeClass(d).removeAttr(d)
    }, 0)
  }

  Button.prototype.toggle = function () {
    var $parent = this.$element.parent('[data-toggle="buttons-radio"]')

    $parent && $parent
      .find('.active')
      .removeClass('active')

    this.$element.toggleClass('active')
  }


 /* BUTTON PLUGIN DEFINITION
  * ======================== */

  $.fn.button = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('button')
        , options = typeof option == 'object' && option
      if (!data) $this.data('button', (data = new Button(this, options)))
      if (option == 'toggle') data.toggle()
      else if (option) data.setState(option)
    })
  }

  $.fn.button.defaults = {
    loadingText: 'loading...'
  }

  $.fn.button.Constructor = Button


 /* BUTTON DATA-API
  * =============== */

  $(function () {
    $('body').on('click.button.data-api', '[data-toggle^=button]', function ( e ) {
      var $btn = $(e.target)
      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')
      $btn.button('toggle')
    })
  })

}(window.jQuery);
/* =============================================================
 * bootstrap-collapse.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */


!function ($) {

  "use strict"; // jshint ;_;


 /* COLLAPSE PUBLIC CLASS DEFINITION
  * ================================ */

  var Collapse = function (element, options) {
    this.$element = $(element)
    this.options = $.extend({}, $.fn.collapse.defaults, options)

    if (this.options.parent) {
      this.$parent = $(this.options.parent)
    }

    this.options.toggle && this.toggle()
  }

  Collapse.prototype = {

    constructor: Collapse

  , dimension: function () {
      var hasWidth = this.$element.hasClass('width')
      return hasWidth ? 'width' : 'height'
    }

  , show: function () {
      var dimension
        , scroll
        , actives
        , hasData

      if (this.transitioning) return

      dimension = this.dimension()
      scroll = $.camelCase(['scroll', dimension].join('-'))
      actives = this.$parent && this.$parent.find('> .accordion-group > .in')

      if (actives && actives.length) {
        hasData = actives.data('collapse')
        if (hasData && hasData.transitioning) return
        actives.collapse('hide')
        hasData || actives.data('collapse', null)
      }
      $(this.$element).parent().addClass('on');
      this.$element[dimension](0)
      this.transition('addClass', $.Event('show'), 'shown')
      this.$element[dimension](this.$element[0][scroll])
    }

  , hide: function () {
      var dimension
      if (this.transitioning) return
      dimension = this.dimension()
      this.reset(this.$element[dimension]())
      this.transition('removeClass', $.Event('hide'), 'hidden')
      this.$element[dimension](0)
      $(this.$element).parent().removeClass('on');
    }

  , reset: function (size) {
      var dimension = this.dimension()

      this.$element
        .removeClass('collapse')
        [dimension](size || 'auto')
        [0].offsetWidth

      this.$element[size !== null ? 'addClass' : 'removeClass']('collapse')

      return this
    }

  , transition: function (method, startEvent, completeEvent) {
      var that = this
        , complete = function () {
            if (startEvent.type == 'show') that.reset()
            that.transitioning = 0
            that.$element.trigger(completeEvent)
          }

      this.$element.trigger(startEvent)

      if (startEvent.isDefaultPrevented()) return

      this.transitioning = 1

      this.$element[method]('in')

      $.support.transition && this.$element.hasClass('collapse') ?
        this.$element.one($.support.transition.end, complete) :
        complete()
    }

  , toggle: function () {
      this[this.$element.hasClass('in') ? 'hide' : 'show']()
    }

  }


 /* COLLAPSIBLE PLUGIN DEFINITION
  * ============================== */

  $.fn.collapse = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('collapse')
        , options = typeof option == 'object' && option
      if (!data) $this.data('collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  $.fn.collapse.defaults = {
    toggle: true
  }

  $.fn.collapse.Constructor = Collapse


 /* COLLAPSIBLE DATA-API
  * ==================== */

  $(function () {
    $('body').on('click.collapse.data-api', '[data-toggle=collapse]', function ( e ) {
      var $this = $(this), href
        , target = $this.attr('data-target')
          || e.preventDefault()
          || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') //strip for ie7
        , option = $(target).data('collapse') ? 'toggle' : $this.data()
      $(target).collapse(option)
    })
  })

}(window.jQuery);



var timerId = 0;

function _keyWordChanged(action, target) {
    timerId = 0;
    $.ajax({
        data: { keyword: $("#keyword").val() },
        url: action,
        type: "POST",
        success: function (data) { $("#search-bar .loading").hide(); $('#' + target).html(data); },
        beforeSend: function () { $("#search-bar .loading").show() }
    });

}

function keyWordChanged() {

    if (timerId != 0) {
        clearTimeout(timerId);
    }

    timerId = setTimeout("_keyWordChanged()", 500);

}

function setCookie(name,value,days)
{
	if (days)
	{
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = "; expires="+date.toGMTString();
	}
	else var expires = "";
	document.cookie = name+"="+value+expires+"; path=/";
}

function getCookie(name)
{
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++)
	{
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
	}
	return null;
}

$(function () {
    $.ajaxSetup({ cache: false });

    //    var timeoutProcess;
    //    $(document).ajaxStart(function () {
    //        $("#loading").center();
    //        timeoutProcess = setTimeout('$("#loading").slideDown("normal")', 001);
    //    });

    //    $(document).ajaxStop(function () {
    //        clearTimeout(timeoutProcess);
    //        $("#loading").slideUp('normal');
    //    });

    // $('a,input[type="button"],input[type="submit"],input[type="reset"]').live('focus', function () {
    //     if (this.blur) {
    //         this.blur();
    //     };
    // });

    $(document).delegate(".show-user-card", "mouseover", function () {
        if (!$(this).data("tooltip")) {
            $(this).tooltip({
                delay: 200,
                predelay: 500,
                offset: [-12, 0],
                position: 'top center',
                tip: "#popup",
                onBeforeShow: function () {
                    var userid = this.getTrigger().attr("userid");
                    $("#popup").removeClass('pop-tag').addClass('pop-user');
                    $("#popup div").html('<p class="loading"></p>');
                    $("#popup div").attr("id", "usercard-" + userid);
                    $("#popup div").load("/Users/Card/" + userid, { _: "" });
                }
            }).dynamic();
            $(this).trigger("mouseenter");
        }
    });

    $(document).delegate(".post-tag, .tag-list a", "mouseover", function () {
        if (!$(this).data("tooltip")) {
            $(this).tooltip({
                delay: 200,
                predelay: 500,
                offset: [-12, 0],
                position: 'top center',
                tip: "#popup",
                onBeforeShow: function () {
                    var tagid = this.getTrigger().attr("tagid");
                    $("#popup").removeClass('pop-user').addClass('pop-tag');
                    $("#popup div").html('<p class="loading"></p>');
                    $("#popup div").load("/tags/card/" + tagid);
                }
            }).dynamic();
            $(this).trigger("mouseenter");
        }
    });

    function check() {
        $('#check-new-response').load('/users/checknew');
    }

    if ($('#check-new-response')[0]) {
        //		alert('ha');
        check();
        setInterval(check, 60000);
    }

    $('img.bookcover').bind('error', function () {
        this.src = '/Content/img/nocover.png';
    });

    // auto new window
    $("a[href^='http:']:not([href*='" + window.location.host + "'])").each(function () {
        $(this).attr("target", "_blank");
    });

    $(".t-upload span").text("上传文件");
    $("#upload-image .t-upload span").text("上传图像");
    $("#upload-avatar .t-upload span").text("上传头像");


    $('#search-bar').submit(function () { return false; });
    $('#search-bar input[type=search]').bind('keyup click', function () {
        if (timerId) { clearTimeout(timerId) };
        timerId = setTimeout('_keyWordChanged("'
	    + $(this).parent().attr('action') + '","'
	    + $(this).parent().attr('target') + '")', 600);
    });

    //	$('a[href*=delete]').hover(function() {console.log($(this).attr('href'))});

    $('a[href*="/article/delete"]').live('click', function () {
        if (confirm("确认删除吗？文章一旦删除将不能恢复！"))
            return true;
        else
            return false;
    });


	if($.browser.msie){
		$("input").each(function(){
			if($(this).val()=="" && $(this).attr("placeholder")!=""){
				$(this).val($(this).attr("placeholder"));
				$(this).focus(function(){
					if($(this).val()==$(this).attr("placeholder")) $(this).val("");
				});
				$(this).blur(function(){
					if($(this).val()=="") $(this).val($(this).attr("placeholder"));
				});
			}
		});

	}



	if ($('#form-article')[0]) {
		
		formChanged = false;
	
	//		$('input#btn-draft','#form-article').attr('disabled','disabled');
		
		$('#form-article').change(function(){
	//		$('input#btn-draft',this).removeAttr('disabled');
			formChanged=true;
		})
	
		window.onbeforeunload = function() {
			if (formChanged) {
				return '您有未保存的文章内容！';
			}
		}
        $('#form-article').submit(function(){
            window.disableCalmer();            
        })
	
		$('input[type=submit]','#form-article').click(function() {
			btnDraft=$(this).attr("id")=='btn-draft';
			isDraft=$('#IsDraft').val()=='True';		
	
			if (btnDraft&&(!isDraft)&&(!confirm('将[已发表文章]放回[草稿箱]，确定吗？'))) {
				return false;
			}
	
			formChanged=false;
			$('#IsDraft').val(btnDraft);
		})

	}


//test WPF for msyh
    var agt = navigator.userAgent;
    winVer = Number(agt.replace(/.*Windows NT (\b[\d\.]+).*/i, '$1'));
    ieVer = Number(agt.replace(/.*MSIE (\b[\d\.]+).*/i, '$1'));
    $.support.WPF = winVer >= 6 || ieVer >= 7;

	msyh=(getCookie('msyh')=='true');
	if (!(msyh || $.support.WPF)) $('body').addClass('nomsyh');
	
	$('a[rel=switch-msyh]').click(function() {
		if (msyh) {
			$('body').addClass('nomsyh');
		} else {
			$('body').removeClass('nomsyh');
		}
		msyh=!msyh;
		setCookie('msyh',msyh);
	
		return false;
	});


    youkuLink=$('a[href^="http://v.youku.com"]','.post-text');
    if (youkuLink) {
        youkuLink.each(function(){
            youkuP=$(this).parent('p');
            if (youkuP && $(youkuP).contents()[0]==$(this)[0] && !$(youkuP).contents()[1]) {
                youkuID=$(this).attr('href').match(/\/id_(.*)\./)[1];
                youkuFlash='<embed src="http://player.youku.com/player.php/sid/'+youkuID+'/v.swf" allowFullScreen="true" quality="high" width="610" height="498" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>';
                $(youkuP).append(youkuFlash).addClass('video-box');
            }
        });
    }



    var lastSwitch=0;

    $('.tab>dl>dt>a').bind('click mouseenter', function(e) {
        if (!$(this).parent().parent().hasClass('on')) {
            $('dl',$(this).parent().parent().parent()).removeClass('on');
            $(this).parent().parent().addClass('on');
            lastSwitch=(new Date()).valueOf();
        }
        return (e.type=='click') && 
            ($(this).attr('href')!='#') && 
            (((new Date()).valueOf()-lastSwitch)>200);
    });

    $('.tab>dl:first-child').addClass('on');


    $(".scrollable").scrollable({ size: 1, circular: true }).navigator().autoscroll({ steps: 1, autopause: true, interval: 7000 });

    $('textarea.resizable:not(.processed)').TextAreaResizer();
    $('div.resizable:not(.processed)').TextAreaResizer();



    //tabs

    $('#booktabs').bind('show',function(e) {
        var mid = $(this).attr('bookid');
        var nowtab = e.target // activated tab
        var divid = $(nowtab).attr('href').substr(1);
        var loadURL = {
            'comment': '/bookcomment/index/' + mid,
            'event': '/book/activities/' + mid,
            'toc': '/book/toc/' + mid,
            'preface': '/book/preface/' + mid,
            'articles': '/book/articles/' + mid,
            'errata': '/bookcomment/index/' + mid + '?IsErrata=True',
            'downloads': '/book/downloads/' + mid,
            'events': '/book/activities/' + mid
        };

        if (loadURL[divid]!='') {
            $("#"+divid).load(loadURL[divid]);
        };
    });


    $('input.noreturn, button.noreturn').bind('keypress', function(e){
        if (e.keyCode===13) return false;
    });

    window.disableCalmer = function () {
        $('input.calmer, button.calmer').attr('disabled', 'disabled');
    }
    // bindCalmer();

    window.enableCalmer = function () {
        $('input.calmer, button.calmer').removeAttr('disabled');
    }



    //JiaThis Button
    window.jiathis_config = {
        data_track_clickback: true,
        siteNum:4,
        sm:"copy,fav,print,email",
        summary:"aa",
        boldNum:4,
        ralateuid:{
            "tsina":"2526195981"
        },
        hideMore: false
    };

    $.getScript('http://v2.jiathis.com/code_mini/jia.js?uid=891559');


});


$().ready(function () {


});



strHost = document.location.hostname;

if ((strHost.indexOf('ituring.com.cn') + strHost.indexOf('turingbook.com')) > -2) {

    // google analytics begin

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25520517-1']);
    _gaq.push(['_setDomainName', 'none']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    // google analytics end

};



